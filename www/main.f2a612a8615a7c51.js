(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(gn,mt,P)=>{"use strict";P.d(mt,{Am:()=>Qn,Bd:()=>Me,FA:()=>Qe,Fy:()=>nt,I9:()=>Wn,Im:()=>lt,Ku:()=>ve,Ll:()=>Se,T9:()=>Ee,Uj:()=>He,XA:()=>Ne,ZQ:()=>Je,bD:()=>Fe,cY:()=>Ve,dM:()=>Te,eX:()=>ae,g:()=>Xe,gR:()=>rn,hp:()=>Cn,jZ:()=>qe,lT:()=>sn,lV:()=>hn,mS:()=>Ge,nr:()=>Z,p7:()=>kt,sr:()=>Vt,tD:()=>zr,u:()=>ye,zW:()=>ee,zw:()=>ze});const J=function(Q){const ne=[];let Oe=0;for(let Et=0;Et<Q.length;Et++){let ot=Q.charCodeAt(Et);ot<128?ne[Oe++]=ot:ot<2048?(ne[Oe++]=ot>>6|192,ne[Oe++]=63&ot|128):55296==(64512&ot)&&Et+1<Q.length&&56320==(64512&Q.charCodeAt(Et+1))?(ot=65536+((1023&ot)<<10)+(1023&Q.charCodeAt(++Et)),ne[Oe++]=ot>>18|240,ne[Oe++]=ot>>12&63|128,ne[Oe++]=ot>>6&63|128,ne[Oe++]=63&ot|128):(ne[Oe++]=ot>>12|224,ne[Oe++]=ot>>6&63|128,ne[Oe++]=63&ot|128)}return ne},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,ne){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let ot=0;ot<Q.length;ot+=3){const Jt=Q[ot],kn=ot+1<Q.length,Fn=kn?Q[ot+1]:0,Fr=ot+2<Q.length,xr=Fr?Q[ot+2]:0;let vr=(15&Fn)<<2|xr>>6,_i=63&xr;Fr||(_i=64,kn||(vr=64)),Et.push(Oe[Jt>>2],Oe[(3&Jt)<<4|Fn>>4],Oe[vr],Oe[_i])}return Et.join("")},encodeString(Q,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(Q):this.encodeByteArray(J(Q),ne)},decodeString(Q,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(Q):function(Q){const ne=[];let Oe=0,Et=0;for(;Oe<Q.length;){const ot=Q[Oe++];if(ot<128)ne[Et++]=String.fromCharCode(ot);else if(ot>191&&ot<224){const Jt=Q[Oe++];ne[Et++]=String.fromCharCode((31&ot)<<6|63&Jt)}else if(ot>239&&ot<365){const Fr=((7&ot)<<18|(63&Q[Oe++])<<12|(63&Q[Oe++])<<6|63&Q[Oe++])-65536;ne[Et++]=String.fromCharCode(55296+(Fr>>10)),ne[Et++]=String.fromCharCode(56320+(1023&Fr))}else{const Jt=Q[Oe++],kn=Q[Oe++];ne[Et++]=String.fromCharCode((15&ot)<<12|(63&Jt)<<6|63&kn)}}return ne.join("")}(this.decodeStringToByteArray(Q,ne))},decodeStringToByteArray(Q,ne){this.init_();const Oe=ne?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let ot=0;ot<Q.length;){const Jt=Oe[Q.charAt(ot++)],Fn=ot<Q.length?Oe[Q.charAt(ot)]:0;++ot;const xr=ot<Q.length?Oe[Q.charAt(ot)]:64;++ot;const Kn=ot<Q.length?Oe[Q.charAt(ot)]:64;if(++ot,null==Jt||null==Fn||null==xr||null==Kn)throw new Ce;Et.push(Jt<<2|Fn>>4),64!==xr&&(Et.push(Fn<<4&240|xr>>2),64!==Kn&&Et.push(xr<<6&192|Kn))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(Q){return function(Q){const ne=J(Q);return ce.encodeByteArray(ne,!0)}(Q).replace(/\./g,"")},ye=function(Q){try{return ce.decodeString(Q,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function ze(Q,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return ne}for(const Oe in ne)!ne.hasOwnProperty(Oe)||!Ke(Oe)||(Q[Oe]=ze(Q[Oe],ne[Oe]));return Q}function Ke(Q){return"__proto__"!==Q}function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tt=()=>{try{return Ge().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=Q&&ye(Q[1]);return ne&&JSON.parse(ne)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},Ee=()=>{var Q;return null===(Q=tt())||void 0===Q?void 0:Q.config},Ne=Q=>{var ne;return null===(ne=tt())||void 0===ne?void 0:ne[`_${Q}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,Oe)=>{this.resolve=ne,this.reject=Oe})}wrapCallback(ne){return(Oe,Et)=>{Oe?this.reject(Oe):this.resolve(Et),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(Oe):ne(Oe,Et))}}}function nt(Q,ne){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=ne||"demo-project",ot=Q.iat||0,Jt=Q.sub||Q.user_id;if(!Jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kn=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:ot,exp:ot+3600,auth_time:ot,sub:Jt,user_id:Jt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(kn)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Se(){var Q;const ne=null===(Q=tt())||void 0===Q?void 0:Q.forceEnvironment;if("node"===ne)return!0;if("browser"===ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return typeof window<"u"||kt()}function kt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Vt(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sn(){const Q=Je();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Z(){return!Se()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function ae(){return new Promise((Q,ne)=>{try{let Oe=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",ot=self.indexedDB.open(Et);ot.onsuccess=()=>{ot.result.close(),Oe||self.indexedDB.deleteDatabase(Et),Q(!0)},ot.onupgradeneeded=()=>{Oe=!1},ot.onerror=()=>{var Jt;ne((null===(Jt=ot.error)||void 0===Jt?void 0:Jt.message)||"")}}catch(Oe){ne(Oe)}})}function Te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(ne,Oe,Et){super(Oe),this.code=ne,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(ne,Oe,Et){this.service=ne,this.serviceName=Oe,this.errors=Et}create(ne,...Oe){const Et=Oe[0]||{},ot=`${this.service}/${ne}`,Jt=this.errors[ne],kn=Jt?function zt(Q,ne){return Q.replace(Rt,(Oe,Et)=>{const ot=ne[Et];return null!=ot?String(ot):`<${Et}?>`})}(Jt,Et):"Error";return new Xe(ot,`${this.serviceName}: ${kn} (${ot}).`,Et)}}const Rt=/\{\$([^}]+)}/g;function rn(Q,ne){return Object.prototype.hasOwnProperty.call(Q,ne)}function lt(Q){for(const ne in Q)if(Object.prototype.hasOwnProperty.call(Q,ne))return!1;return!0}function Fe(Q,ne){if(Q===ne)return!0;const Oe=Object.keys(Q),Et=Object.keys(ne);for(const ot of Oe){if(!Et.includes(ot))return!1;const Jt=Q[ot],kn=ne[ot];if(on(Jt)&&on(kn)){if(!Fe(Jt,kn))return!1}else if(Jt!==kn)return!1}for(const ot of Et)if(!Oe.includes(ot))return!1;return!0}function on(Q){return null!==Q&&"object"==typeof Q}function Qn(Q){const ne=[];for(const[Oe,Et]of Object.entries(Q))Array.isArray(Et)?Et.forEach(ot=>{ne.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ot))}):ne.push(encodeURIComponent(Oe)+"="+encodeURIComponent(Et));return ne.length?"&"+ne.join("&"):""}function Wn(Q){const ne={};return Q.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[ot,Jt]=Et.split("=");ne[decodeURIComponent(ot)]=decodeURIComponent(Jt)}}),ne}function Cn(Q){const ne=Q.indexOf("?");if(!ne)return"";const Oe=Q.indexOf("#",ne);return Q.substring(ne,Oe>0?Oe:void 0)}function zr(Q,ne){const Oe=new Ur(Q,ne);return Oe.subscribe.bind(Oe)}class Ur{constructor(ne,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{ne(this)}).catch(Et=>{this.error(Et)})}next(ne){this.forEachObserver(Oe=>{Oe.next(ne)})}error(ne){this.forEachObserver(Oe=>{Oe.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,Oe,Et){let ot;if(void 0===ne&&void 0===Oe&&void 0===Et)throw new Error("Missing Observer.");ot=function cr(Q,ne){if("object"!=typeof Q||null===Q)return!1;for(const Oe of ne)if(Oe in Q&&"function"==typeof Q[Oe])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:Oe,complete:Et},void 0===ot.next&&(ot.next=jr),void 0===ot.error&&(ot.error=jr),void 0===ot.complete&&(ot.complete=jr);const Jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ot.error(this.finalError):ot.complete()}catch{}}),this.observers.push(ot),Jt}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,ne)}sendOne(ne,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{Oe(this.observers[ne])}catch(Et){typeof console<"u"&&console.error&&console.error(Et)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jr(){}function ve(Q){return Q&&Q._delegate?Q._delegate:Q}},4442:(gn,mt,P)=>{"use strict";P.d(mt,{L:()=>le,a:()=>ce,b:()=>Ce,c:()=>xe,d:()=>He,g:()=>dt}),P(5531);const le="ionViewWillEnter",ce="ionViewDidEnter",Ce="ionViewWillLeave",xe="ionViewDidLeave",He="ionViewWillUnload",dt=be=>be.classList.contains("ion-page")?be:be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||be},5531:(gn,mt,P)=>{"use strict";P.d(mt,{a:()=>ye,c:()=>f,g:()=>He});class d{constructor(){this.m=new Map}reset(be){this.m=new Map(Object.entries(be))}get(be,Z){const ee=this.m.get(be);return void 0!==ee?ee:Z}getBoolean(be,Z=!1){const ee=this.m.get(be);return void 0===ee?Z:"string"==typeof ee?"true"===ee:!!ee}getNumber(be,Z){const ee=parseFloat(this.m.get(be));return isNaN(ee)?void 0!==Z?Z:NaN:ee}set(be,Z){this.m.set(be,Z)}}const f=new d,He=dt=>me(dt),ye=(dt,be)=>("string"==typeof dt&&(be=dt,dt=void 0),He(dt).includes(be)),me=(dt=window)=>{if(typeof dt>"u")return[];dt.Ionic=dt.Ionic||{};let be=dt.Ionic.platforms;return null==be&&(be=dt.Ionic.platforms=ze(dt),be.forEach(Z=>dt.document.documentElement.classList.add(`plt-${Z}`))),be},ze=dt=>{const be=f.get("platform");return Object.keys(Vt).filter(Z=>{const ee=null==be?void 0:be[Z];return"function"==typeof ee?ee(dt):Vt[Z](dt)})},Ge=dt=>!!(Me(dt,/iPad/i)||Me(dt,/Macintosh/i)&&Ee(dt)),ft=dt=>Me(dt,/android|sink/i),Ee=dt=>kt(dt,"(any-pointer:coarse)"),Ve=dt=>nt(dt)||Je(dt),nt=dt=>!!(dt.cordova||dt.phonegap||dt.PhoneGap),Je=dt=>{const be=dt.Capacitor;return!(null==be||!be.isNative)},Me=(dt,be)=>be.test(dt.navigator.userAgent),kt=(dt,be)=>{var Z;return null===(Z=dt.matchMedia)||void 0===Z?void 0:Z.call(dt,be).matches},Vt={ipad:Ge,iphone:dt=>Me(dt,/iPhone/i),ios:dt=>Me(dt,/iPhone|iPod/i)||Ge(dt),android:ft,phablet:dt=>{const be=dt.innerWidth,Z=dt.innerHeight,ee=Math.min(be,Z),ae=Math.max(be,Z);return ee>390&&ee<520&&ae>620&&ae<800},tablet:dt=>{const be=dt.innerWidth,Z=dt.innerHeight,ee=Math.min(be,Z),ae=Math.max(be,Z);return Ge(dt)||(dt=>ft(dt)&&!Me(dt,/mobile/i))(dt)||ee>460&&ee<820&&ae>780&&ae<1400},cordova:nt,capacitor:Je,electron:dt=>Me(dt,/electron/i),pwa:dt=>{var be;return!!(null!==(be=dt.matchMedia)&&void 0!==be&&be.call(dt,"(display-mode: standalone)").matches||dt.navigator.standalone)},mobile:Ee,mobileweb:dt=>Ee(dt)&&!Ve(dt),desktop:dt=>!Ee(dt),hybrid:Ve}},9986:(gn,mt,P)=>{"use strict";P.d(mt,{c:()=>ce});var d=P(8476);let f;const J=(Ce,xe,He)=>{const ye=xe.startsWith("animation")?(Ce=>(void 0===f&&(f=void 0===Ce.style.animationName&&void 0!==Ce.style.webkitAnimationName?"-webkit-":""),f))(Ce):"";Ce.style.setProperty(ye+xe,He)},le=(Ce=[],xe)=>{if(void 0!==xe){const He=Array.isArray(xe)?xe:[xe];return[...Ce,...He]}return Ce},ce=Ce=>{let xe,He,ye,me,ze,Ke,tt,qe,Se,Me,qt,Ge=[],st=[],_t=[],ft=!1,pt={},ct=[],Ee=[],Ne={},Ve=0,nt=!1,Je=!1,kt=!0,Vt=!1,hn=!0,sn=!1;const dt=Ce,be=[],Z=[],ee=[],ae=[],Te=[],ut=[],Xe=[],Qe=[],zt=[],Rt=[],Nt=[],pn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,Ct="function"==typeof Element&&"function"==typeof Element.prototype.animate&&pn,On=()=>Nt,Xn=(re,Le)=>{const Pt=Le.findIndex(an=>an.c===re);Pt>-1&&Le.splice(Pt,1)},De=(re,Le)=>((null!=Le&&Le.oneTimeCallback?Z:be).push({c:re,o:Le}),qt),on=()=>{Ct&&(Nt.forEach(re=>{re.cancel()}),Nt.length=0)},Ln=()=>{ut.forEach(re=>{null!=re&&re.parentNode&&re.parentNode.removeChild(re)}),ut.length=0},tr=()=>void 0!==ze?ze:tt?tt.getFill():"both",xn=()=>void 0!==qe?qe:void 0!==Ke?Ke:tt?tt.getDirection():"normal",Rn=()=>nt?"linear":void 0!==ye?ye:tt?tt.getEasing():"linear",si=()=>Je?0:void 0!==Se?Se:void 0!==He?He:tt?tt.getDuration():0,Jn=()=>void 0!==me?me:tt?tt.getIterations():1,Ci=()=>void 0!==Me?Me:void 0!==xe?xe:tt?tt.getDelay():0,Fn=()=>{0!==Ve&&(Ve--,0===Ve&&((()=>{zt.forEach(vn=>vn()),Rt.forEach(vn=>vn());const re=kt?1:0,Le=ct,Pt=Ee,an=Ne;ae.forEach(vn=>{const sr=vn.classList;Le.forEach(Bn=>sr.add(Bn)),Pt.forEach(Bn=>sr.remove(Bn));for(const Bn in an)an.hasOwnProperty(Bn)&&J(vn,Bn,an[Bn])}),Se=void 0,qe=void 0,Me=void 0,be.forEach(vn=>vn.c(re,qt)),Z.forEach(vn=>vn.c(re,qt)),Z.length=0,hn=!0,kt&&(Vt=!0),kt=!0})(),tt&&tt.animationFinish()))},xr=()=>{(()=>{Xe.forEach(an=>an()),Qe.forEach(an=>an());const re=st,Le=_t,Pt=pt;ae.forEach(an=>{const vn=an.classList;re.forEach(sr=>vn.add(sr)),Le.forEach(sr=>vn.remove(sr));for(const sr in Pt)Pt.hasOwnProperty(sr)&&J(an,sr,Pt[sr])})})(),Ge.length>0&&Ct&&(ae.forEach(re=>{const Le=re.animate(Ge,{id:dt,delay:Ci(),duration:si(),easing:Rn(),iterations:Jn(),fill:tr(),direction:xn()});Le.pause(),Nt.push(Le)}),Nt.length>0&&(Nt[0].onfinish=()=>{Fn()})),ft=!0},It=re=>{re=Math.min(Math.max(re,0),.9999),Ct&&Nt.forEach(Le=>{Le.currentTime=Le.effect.getComputedTiming().delay+si()*re,Le.pause()})},Kn=re=>{Nt.forEach(Le=>{Le.effect.updateTiming({delay:Ci(),duration:si(),easing:Rn(),iterations:Jn(),fill:tr(),direction:xn()})}),void 0!==re&&It(re)},vr=(re=!1,Le=!0,Pt)=>(re&&Te.forEach(an=>{an.update(re,Le,Pt)}),Ct&&Kn(Pt),qt),hi=()=>{ft&&(Ct?Nt.forEach(re=>{re.pause()}):ae.forEach(re=>{J(re,"animation-play-state","paused")}),sn=!0)},eo=re=>new Promise(Le=>{null!=re&&re.sync&&(Je=!0,De(()=>Je=!1,{oneTimeCallback:!0})),ft||xr(),Vt&&(Ct&&(It(0),Kn()),Vt=!1),hn&&(Ve=Te.length+1,hn=!1);const Pt=()=>{Xn(an,Z),Le()},an=()=>{Xn(Pt,ee),Le()};De(an,{oneTimeCallback:!0}),(re=>{ee.push({c:re,o:{oneTimeCallback:!0}})})(Pt),Te.forEach(vn=>{vn.play()}),Ct?(Nt.forEach(re=>{re.play()}),(0===Ge.length||0===ae.length)&&Fn()):Fn(),sn=!1}),_e=(re,Le)=>{const Pt=Ge[0];return void 0===Pt||void 0!==Pt.offset&&0!==Pt.offset?Ge=[{offset:0,[re]:Le},...Ge]:Pt[re]=Le,qt};return qt={parentAnimation:tt,elements:ae,childAnimations:Te,id:dt,animationFinish:Fn,from:_e,to:(re,Le)=>{const Pt=Ge[Ge.length-1];return void 0===Pt||void 0!==Pt.offset&&1!==Pt.offset?Ge=[...Ge,{offset:1,[re]:Le}]:Pt[re]=Le,qt},fromTo:(re,Le,Pt)=>_e(re,Le).to(re,Pt),parent:re=>(tt=re,qt),play:eo,pause:()=>(Te.forEach(re=>{re.pause()}),hi(),qt),stop:()=>{Te.forEach(re=>{re.stop()}),ft&&(on(),ft=!1),nt=!1,Je=!1,hn=!0,qe=void 0,Se=void 0,Me=void 0,Ve=0,Vt=!1,kt=!0,sn=!1,ee.forEach(re=>re.c(0,qt)),ee.length=0},destroy:re=>(Te.forEach(Le=>{Le.destroy(re)}),(re=>{on(),re&&Ln()})(re),ae.length=0,Te.length=0,Ge.length=0,be.length=0,Z.length=0,ft=!1,hn=!0,qt),keyframes:re=>{const Le=Ge!==re;return Ge=re,Le&&(re=>{Ct&&On().forEach(Le=>{const Pt=Le.effect;if(Pt.setKeyframes)Pt.setKeyframes(re);else{const an=new KeyframeEffect(Pt.target,re,Pt.getTiming());Le.effect=an}})})(Ge),qt},addAnimation:re=>{if(null!=re)if(Array.isArray(re))for(const Le of re)Le.parent(qt),Te.push(Le);else re.parent(qt),Te.push(re);return qt},addElement:re=>{if(null!=re)if(1===re.nodeType)ae.push(re);else if(re.length>=0)for(let Le=0;Le<re.length;Le++)ae.push(re[Le]);else console.error("Invalid addElement value");return qt},update:vr,fill:re=>(ze=re,vr(!0),qt),direction:re=>(Ke=re,vr(!0),qt),iterations:re=>(me=re,vr(!0),qt),duration:re=>(!Ct&&0===re&&(re=1),He=re,vr(!0),qt),easing:re=>(ye=re,vr(!0),qt),delay:re=>(xe=re,vr(!0),qt),getWebAnimations:On,getKeyframes:()=>Ge,getFill:tr,getDirection:xn,getDelay:Ci,getIterations:Jn,getEasing:Rn,getDuration:si,afterAddRead:re=>(zt.push(re),qt),afterAddWrite:re=>(Rt.push(re),qt),afterClearStyles:(re=[])=>{for(const Le of re)Ne[Le]="";return qt},afterStyles:(re={})=>(Ne=re,qt),afterRemoveClass:re=>(Ee=le(Ee,re),qt),afterAddClass:re=>(ct=le(ct,re),qt),beforeAddRead:re=>(Xe.push(re),qt),beforeAddWrite:re=>(Qe.push(re),qt),beforeClearStyles:(re=[])=>{for(const Le of re)pt[Le]="";return qt},beforeStyles:(re={})=>(pt=re,qt),beforeRemoveClass:re=>(_t=le(_t,re),qt),beforeAddClass:re=>(st=le(st,re),qt),onFinish:De,isRunning:()=>0!==Ve&&!sn,progressStart:(re=!1,Le)=>(Te.forEach(Pt=>{Pt.progressStart(re,Le)}),hi(),nt=re,ft||xr(),vr(!1,!0,Le),qt),progressStep:re=>(Te.forEach(Le=>{Le.progressStep(re)}),It(re),qt),progressEnd:(re,Le,Pt)=>(nt=!1,Te.forEach(an=>{an.progressEnd(re,Le,Pt)}),void 0!==Pt&&(Se=Pt),Vt=!1,kt=!0,0===re?(qe="reverse"===xn()?"normal":"reverse","reverse"===qe&&(kt=!1),Ct?(vr(),It(1-Le)):(Me=(1-Le)*si()*-1,vr(!1,!1))):1===re&&(Ct?(vr(),It(Le)):(Me=Le*si()*-1,vr(!1,!1))),void 0!==re&&!tt&&eo(),qt)}}},464:(gn,mt,P)=>{"use strict";P.d(mt,{E:()=>ye,a:()=>d,s:()=>xe});const d=me=>{try{if(me instanceof Ce)return me.value;if(!J()||"string"!=typeof me||""===me)return me;if(me.includes("onload="))return"";const ze=document.createDocumentFragment(),Ke=document.createElement("div");ze.appendChild(Ke),Ke.innerHTML=me,ce.forEach(ft=>{const tt=ze.querySelectorAll(ft);for(let pt=tt.length-1;pt>=0;pt--){const ct=tt[pt];ct.parentNode?ct.parentNode.removeChild(ct):ze.removeChild(ct);const Ee=Y(ct);for(let Ne=0;Ne<Ee.length;Ne++)f(Ee[Ne])}});const Ge=Y(ze);for(let ft=0;ft<Ge.length;ft++)f(Ge[ft]);const st=document.createElement("div");st.appendChild(ze);const _t=st.querySelector("div");return null!==_t?_t.innerHTML:st.innerHTML}catch(ze){return console.error(ze),""}},f=me=>{if(me.nodeType&&1!==me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(me.attributes instanceof NamedNodeMap))return void me.remove();for(let Ke=me.attributes.length-1;Ke>=0;Ke--){const Ge=me.attributes.item(Ke),st=Ge.name;if(!le.includes(st.toLowerCase())){me.removeAttribute(st);continue}const _t=Ge.value,ft=me[st];(null!=_t&&_t.toLowerCase().includes("javascript:")||null!=ft&&ft.toLowerCase().includes("javascript:"))&&me.removeAttribute(st)}const ze=Y(me);for(let Ke=0;Ke<ze.length;Ke++)f(ze[Ke])},Y=me=>null!=me.children?me.children:me.childNodes,J=()=>{var me;const ze=window,Ke=null===(me=null==ze?void 0:ze.Ionic)||void 0===me?void 0:me.config;return!Ke||(Ke.get?Ke.get("sanitizerEnabled",!0):!0===Ke.sanitizerEnabled||void 0===Ke.sanitizerEnabled)},le=["class","id","href","src","name","slot"],ce=["script","style","iframe","meta","link","object","embed"];class Ce{constructor(ze){this.value=ze}}const xe=me=>{const ze=window,Ke=ze.Ionic;if(!Ke||!Ke.config||"Object"===Ke.config.constructor.name)return ze.Ionic=ze.Ionic||{},ze.Ionic.config=Object.assign(Object.assign({},ze.Ionic.config),me),ze.Ionic.config},ye=!1},8621:(gn,mt,P)=>{"use strict";P.d(mt,{C:()=>le,a:()=>Y,d:()=>J});var d=P(467),f=P(4920);const Y=function(){var ce=(0,d.A)(function*(Ce,xe,He,ye,me,ze){var Ke;if(Ce)return Ce.attachViewToDom(xe,He,me,ye);if(!(ze||"string"==typeof He||He instanceof HTMLElement))throw new Error("framework delegate is missing");const Ge="string"==typeof He?null===(Ke=xe.ownerDocument)||void 0===Ke?void 0:Ke.createElement(He):He;return ye&&ye.forEach(st=>Ge.classList.add(st)),me&&Object.assign(Ge,me),xe.appendChild(Ge),yield new Promise(st=>(0,f.c)(Ge,st)),Ge});return function(xe,He,ye,me,ze,Ke){return ce.apply(this,arguments)}}(),J=(ce,Ce)=>{if(Ce){if(ce)return ce.removeViewFromDom(Ce.parentElement,Ce);Ce.remove()}return Promise.resolve()},le=()=>{let ce,Ce;return{attachViewToDom:function(){var ye=(0,d.A)(function*(me,ze,Ke={},Ge=[]){var st,_t;let ft;if(ce=me,ze){const pt="string"==typeof ze?null===(st=ce.ownerDocument)||void 0===st?void 0:st.createElement(ze):ze;Ge.forEach(ct=>pt.classList.add(ct)),Object.assign(pt,Ke),ce.appendChild(pt),ft=pt,yield new Promise(ct=>(0,f.c)(pt,ct))}else if(ce.children.length>0&&("ION-MODAL"===ce.tagName||"ION-POPOVER"===ce.tagName)&&!(ft=ce.children[0]).classList.contains("ion-delegate-host")){const ct=null===(_t=ce.ownerDocument)||void 0===_t?void 0:_t.createElement("div");ct.classList.add("ion-delegate-host"),Ge.forEach(Ee=>ct.classList.add(Ee)),ct.append(...ce.children),ce.appendChild(ct),ft=ct}const tt=document.querySelector("ion-app")||document.body;return Ce=document.createComment("ionic teleport"),ce.parentNode.insertBefore(Ce,ce),tt.appendChild(ce),null!=ft?ft:ce});return function(ze,Ke){return ye.apply(this,arguments)}}(),removeViewFromDom:()=>(ce&&Ce&&(Ce.parentNode.insertBefore(ce,Ce),Ce.remove()),Promise.resolve())}}},1970:(gn,mt,P)=>{"use strict";P.d(mt,{B:()=>J,G:()=>le});class f{constructor(Ce,xe,He,ye,me){this.id=xe,this.name=He,this.disableScroll=me,this.priority=1e6*ye+xe,this.ctrl=Ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ce=this.ctrl.capture(this.name,this.id,this.priority);return Ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(Ce,xe,He,ye){this.id=xe,this.disable=He,this.disableScroll=ye,this.ctrl=Ce}block(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.disableGesture(Ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.enableGesture(Ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",le=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ce){var xe;return new f(this,this.newID(),Ce.name,null!==(xe=Ce.priority)&&void 0!==xe?xe:0,!!Ce.disableScroll)}createBlocker(Ce={}){return new Y(this,this.newID(),Ce.disable,!!Ce.disableScroll)}start(Ce,xe,He){return this.canStart(Ce)?(this.requestedStart.set(xe,He),!0):(this.requestedStart.delete(xe),!1)}capture(Ce,xe,He){if(!this.start(Ce,xe,He))return!1;const ye=this.requestedStart;let me=-1e4;if(ye.forEach(ze=>{me=Math.max(me,ze)}),me===He){this.capturedId=xe,ye.clear();const ze=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ce}});return document.dispatchEvent(ze),!0}return ye.delete(xe),!1}release(Ce){this.requestedStart.delete(Ce),this.capturedId===Ce&&(this.capturedId=void 0)}disableGesture(Ce,xe){let He=this.disabledGestures.get(Ce);void 0===He&&(He=new Set,this.disabledGestures.set(Ce,He)),He.add(xe)}enableGesture(Ce,xe){const He=this.disabledGestures.get(Ce);void 0!==He&&He.delete(xe)}disableScroll(Ce){this.disabledScroll.add(Ce),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(Ce){this.disabledScroll.delete(Ce),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(Ce){return!(void 0!==this.capturedId||this.isDisabled(Ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ce){const xe=this.disabledGestures.get(Ce);return!!(xe&&xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},5878:(gn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{MENU_BACK_BUTTON_PRIORITY:()=>He,OVERLAY_BACK_BUTTON_PRIORITY:()=>xe,blockHardwareBackButton:()=>ce,shouldUseCloseWatcher:()=>le,startHardwareBackButton:()=>Ce});var d=P(467),f=P(8476),Y=P(9275);P(9230);const le=()=>Y.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,ce=()=>{document.addEventListener("backbutton",()=>{})},Ce=()=>{const ye=document;let me=!1;const ze=()=>{if(me)return;let Ke=0,Ge=[];const st=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(tt,pt){Ge.push({priority:tt,handler:pt,id:Ke++})}}});ye.dispatchEvent(st);const _t=function(){var tt=(0,d.A)(function*(pt){try{if(null!=pt&&pt.handler){const ct=pt.handler(ft);null!=ct&&(yield ct)}}catch(ct){console.error(ct)}});return function(ct){return tt.apply(this,arguments)}}(),ft=()=>{if(Ge.length>0){let tt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ge.forEach(pt=>{pt.priority>=tt.priority&&(tt=pt)}),me=!0,Ge=Ge.filter(pt=>pt.id!==tt.id),_t(tt).then(()=>me=!1)}};ft()};if(le()){let Ke;const Ge=()=>{null==Ke||Ke.destroy(),Ke=new f.w.CloseWatcher,Ke.onclose=()=>{ze(),Ge()}};Ge()}else ye.addEventListener("backbutton",ze)},xe=100,He=99},4920:(gn,mt,P)=>{"use strict";P.d(mt,{a:()=>xe,b:()=>He,c:()=>Y,d:()=>Ge,e:()=>pt,f:()=>Ke,g:()=>ye,h:()=>le,i:()=>Ce,j:()=>st,k:()=>J,l:()=>ze,m:()=>_t,n:()=>tt,o:()=>ct,p:()=>ft,r:()=>me,s:()=>Ee,t:()=>d});const d=(Ne,Ve=0)=>new Promise(nt=>{f(Ne,Ve,nt)}),f=(Ne,Ve=0,nt)=>{let Je,qe;const Se={passive:!0},kt=()=>{Je&&Je()},Vt=hn=>{(void 0===hn||Ne===hn.target)&&(kt(),nt(hn))};return Ne&&(Ne.addEventListener("webkitTransitionEnd",Vt,Se),Ne.addEventListener("transitionend",Vt,Se),qe=setTimeout(Vt,Ve+500),Je=()=>{void 0!==qe&&(clearTimeout(qe),qe=void 0),Ne.removeEventListener("webkitTransitionEnd",Vt,Se),Ne.removeEventListener("transitionend",Vt,Se)}),kt},Y=(Ne,Ve)=>{Ne.componentOnReady?Ne.componentOnReady().then(nt=>Ve(nt)):me(()=>Ve(Ne))},J=Ne=>void 0!==Ne.componentOnReady,le=(Ne,Ve=[])=>{const nt={};return Ve.forEach(Je=>{Ne.hasAttribute(Je)&&(null!==Ne.getAttribute(Je)&&(nt[Je]=Ne.getAttribute(Je)),Ne.removeAttribute(Je))}),nt},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ce=(Ne,Ve)=>{let nt=ce;return Ve&&Ve.length>0&&(nt=nt.filter(Je=>!Ve.includes(Je))),le(Ne,nt)},xe=(Ne,Ve,nt,Je)=>{var qe;if(typeof window<"u"){const Se=window,Me=null===(qe=null==Se?void 0:Se.Ionic)||void 0===qe?void 0:qe.config;if(Me){const kt=Me.get("_ael");if(kt)return kt(Ne,Ve,nt,Je);if(Me._ael)return Me._ael(Ne,Ve,nt,Je)}}return Ne.addEventListener(Ve,nt,Je)},He=(Ne,Ve,nt,Je)=>{var qe;if(typeof window<"u"){const Se=window,Me=null===(qe=null==Se?void 0:Se.Ionic)||void 0===qe?void 0:qe.config;if(Me){const kt=Me.get("_rel");if(kt)return kt(Ne,Ve,nt,Je);if(Me._rel)return Me._rel(Ne,Ve,nt,Je)}}return Ne.removeEventListener(Ve,nt,Je)},ye=(Ne,Ve=Ne)=>Ne.shadowRoot||Ve,me=Ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ne):setTimeout(Ne),ze=Ne=>!!Ne.shadowRoot&&!!Ne.attachShadow,Ke=Ne=>{if(Ne.focus(),Ne.classList.contains("ion-focusable")){const Ve=Ne.closest("ion-app");Ve&&Ve.setFocus([Ne])}},Ge=(Ne,Ve,nt,Je,qe)=>{if(Ne||ze(Ve)){let Se=Ve.querySelector("input.aux-input");Se||(Se=Ve.ownerDocument.createElement("input"),Se.type="hidden",Se.classList.add("aux-input"),Ve.appendChild(Se)),Se.disabled=qe,Se.name=nt,Se.value=Je||""}},st=(Ne,Ve,nt)=>Math.max(Ne,Math.min(Ve,nt)),_t=(Ne,Ve)=>{if(!Ne){const nt="ASSERT: "+Ve;throw console.error(nt),new Error(nt)}},ft=Ne=>{if(Ne){const Ve=Ne.changedTouches;if(Ve&&Ve.length>0){const nt=Ve[0];return{x:nt.clientX,y:nt.clientY}}if(void 0!==Ne.pageX)return{x:Ne.pageX,y:Ne.pageY}}return{x:0,y:0}},tt=Ne=>{const Ve="rtl"===document.dir;switch(Ne){case"start":return Ve;case"end":return!Ve;default:throw new Error(`"${Ne}" is not a valid value for [side]. Use "start" or "end" instead.`)}},pt=(Ne,Ve)=>{const nt=Ne._original||Ne;return{_original:Ne,emit:ct(nt.emit.bind(nt),Ve)}},ct=(Ne,Ve=0)=>{let nt;return(...Je)=>{clearTimeout(nt),nt=setTimeout(Ne,Ve,...Je)}},Ee=(Ne,Ve)=>{if(null!=Ne||(Ne={}),null!=Ve||(Ve={}),Ne===Ve)return!0;const nt=Object.keys(Ne);if(nt.length!==Object.keys(Ve).length)return!1;for(const Je of nt)if(!(Je in Ve)||Ne[Je]!==Ve[Je])return!1;return!0}},8607:(gn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>He});var d=P(1970);const f=(Ke,Ge,st,_t)=>{const ft=Y(Ke)?{capture:!!_t.capture,passive:!!_t.passive}:!!_t.capture;let tt,pt;return Ke.__zone_symbol__addEventListener?(tt="__zone_symbol__addEventListener",pt="__zone_symbol__removeEventListener"):(tt="addEventListener",pt="removeEventListener"),Ke[tt](Ge,st,ft),()=>{Ke[pt](Ge,st,ft)}},Y=Ke=>{if(void 0===J)try{const Ge=Object.defineProperty({},"passive",{get:()=>{J=!0}});Ke.addEventListener("optsTest",()=>{},Ge)}catch{J=!1}return!!J};let J;const Ce=Ke=>Ke instanceof Document?Ke:Ke.ownerDocument,He=Ke=>{let Ge=!1,st=!1,_t=!0,ft=!1;const tt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ke),pt=tt.canStart,ct=tt.onWillStart,Ee=tt.onStart,Ne=tt.onEnd,Ve=tt.notCaptured,nt=tt.onMove,Je=tt.threshold,qe=tt.passive,Se=tt.blurOnStart,Me={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},kt=((Ke,Ge,st)=>{const _t=st*(Math.PI/180),ft="x"===Ke,tt=Math.cos(_t),pt=Ge*Ge;let ct=0,Ee=0,Ne=!1,Ve=0;return{start(nt,Je){ct=nt,Ee=Je,Ve=0,Ne=!0},detect(nt,Je){if(!Ne)return!1;const qe=nt-ct,Se=Je-Ee,Me=qe*qe+Se*Se;if(Me<pt)return!1;const kt=Math.sqrt(Me),Vt=(ft?qe:Se)/kt;return Ve=Vt>tt?1:Vt<-tt?-1:0,Ne=!1,!0},isGesture:()=>0!==Ve,getDirection:()=>Ve}})(tt.direction,tt.threshold,tt.maxAngle),Vt=d.G.createGesture({name:Ke.gestureName,priority:Ke.gesturePriority,disableScroll:Ke.disableScroll}),sn=()=>{Ge&&(ft=!1,nt&&nt(Me))},dt=()=>!!Vt.capture()&&(Ge=!0,_t=!1,Me.startX=Me.currentX,Me.startY=Me.currentY,Me.startTime=Me.currentTime,ct?ct(Me).then(Z):Z(),!0),Z=()=>{Se&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;null!=Xe&&Xe.blur&&Xe.blur()}})(),Ee&&Ee(Me),_t=!0},ee=()=>{Ge=!1,st=!1,ft=!1,_t=!0,Vt.release()},ae=Xe=>{const Qe=Ge,zt=_t;if(ee(),zt){if(ye(Me,Xe),Qe)return void(Ne&&Ne(Me));Ve&&Ve(Me)}},Te=((Ke,Ge,st,_t,ft)=>{let tt,pt,ct,Ee,Ne,Ve,nt,Je=0;const qe=be=>{Je=Date.now()+2e3,Ge(be)&&(!pt&&st&&(pt=f(Ke,"touchmove",st,ft)),ct||(ct=f(be.target,"touchend",Me,ft)),Ee||(Ee=f(be.target,"touchcancel",Me,ft)))},Se=be=>{Je>Date.now()||Ge(be)&&(!Ve&&st&&(Ve=f(Ce(Ke),"mousemove",st,ft)),nt||(nt=f(Ce(Ke),"mouseup",kt,ft)))},Me=be=>{Vt(),_t&&_t(be)},kt=be=>{hn(),_t&&_t(be)},Vt=()=>{pt&&pt(),ct&&ct(),Ee&&Ee(),pt=ct=Ee=void 0},hn=()=>{Ve&&Ve(),nt&&nt(),Ve=nt=void 0},qt=()=>{Vt(),hn()},sn=(be=!0)=>{be?(tt||(tt=f(Ke,"touchstart",qe,ft)),Ne||(Ne=f(Ke,"mousedown",Se,ft))):(tt&&tt(),Ne&&Ne(),tt=Ne=void 0,qt())};return{enable:sn,stop:qt,destroy:()=>{sn(!1),_t=st=Ge=void 0}}})(tt.el,Xe=>{const Qe=ze(Xe);return!(st||!_t||(me(Xe,Me),Me.startX=Me.currentX,Me.startY=Me.currentY,Me.startTime=Me.currentTime=Qe,Me.velocityX=Me.velocityY=Me.deltaX=Me.deltaY=0,Me.event=Xe,pt&&!1===pt(Me))||(Vt.release(),!Vt.start()))&&(st=!0,0===Je?dt():(kt.start(Me.startX,Me.startY),!0))},Xe=>{Ge?!ft&&_t&&(ft=!0,ye(Me,Xe),requestAnimationFrame(sn)):(ye(Me,Xe),kt.detect(Me.currentX,Me.currentY)&&(!kt.isGesture()||!dt())&&ut())},ae,{capture:!1,passive:qe}),ut=()=>{ee(),Te.stop(),Ve&&Ve(Me)};return{enable(Xe=!0){Xe||(Ge&&ae(void 0),ee()),Te.enable(Xe)},destroy(){Vt.destroy(),Te.destroy()}}},ye=(Ke,Ge)=>{if(!Ge)return;const st=Ke.currentX,_t=Ke.currentY,ft=Ke.currentTime;me(Ge,Ke);const tt=Ke.currentX,pt=Ke.currentY,Ee=(Ke.currentTime=ze(Ge))-ft;if(Ee>0&&Ee<100){const Ve=(pt-_t)/Ee;Ke.velocityX=(tt-st)/Ee*.7+.3*Ke.velocityX,Ke.velocityY=.7*Ve+.3*Ke.velocityY}Ke.deltaX=tt-Ke.startX,Ke.deltaY=pt-Ke.startY,Ke.event=Ge},me=(Ke,Ge)=>{let st=0,_t=0;if(Ke){const ft=Ke.changedTouches;if(ft&&ft.length>0){const tt=ft[0];st=tt.clientX,_t=tt.clientY}else void 0!==Ke.pageX&&(st=Ke.pageX,_t=Ke.pageY)}Ge.currentX=st,Ge.currentY=_t},ze=Ke=>Ke.timeStamp||Date.now()},9230:(gn,mt,P)=>{"use strict";P.d(mt,{B:()=>ce,a:()=>hn,b:()=>Ho,c:()=>tr,d:()=>Jn,e:()=>zt,f:()=>Qt,g:()=>xn,h:()=>Wn,i:()=>si,j:()=>ai,k:()=>Nt,r:()=>He,w:()=>Rt});var d=P(467);var J=Object.defineProperty,ce={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ce=new WeakMap,xe=C=>Ce.get(C),He=(C,k)=>Ce.set(k.$lazyInstance$=C,k),me=(C,k)=>k in C,ze=(C,k)=>(0,console.error)(C,k),Ke=new Map,st=new Map,_t=[],Ee="s-id",Je="slot-fb{display:contents}slot-fb[hidden]{display:none}",qe="http://www.w3.org/1999/xlink",Se=typeof window<"u"?window:{},Me=Se.document||{head:{}},Vt={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,k,we,Be)=>C.addEventListener(k,we,Be),rel:(C,k,we,Be)=>C.removeEventListener(k,we,Be),ce:(C,k)=>new CustomEvent(C,k)},hn=C=>{Object.assign(Vt,C)},sn=(()=>{let C=!1;try{Me.addEventListener("e",null,Object.defineProperty({},"passive",{get(){C=!0}}))}catch{}return C})(),be=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Z=!1,ee=[],ae=[],Te=(C,k)=>we=>{C.push(we),Z||(Z=!0,k&&4&Vt.$flags$?Qe(Xe):Vt.raf(Xe))},ut=C=>{for(let k=0;k<C.length;k++)try{C[k](performance.now())}catch(we){ze(we)}C.length=0},Xe=()=>{ut(ee),ut(ae),(Z=ee.length>0)&&Vt.raf(Xe)},Qe=C=>Promise.resolve(void 0).then(C),zt=Te(ee,!1),Rt=Te(ae,!0),Nt=C=>{const k=new URL(C,Vt.$resourcesUrl$);return k.origin!==Se.location.origin?k.href:k.pathname},pn={},Gn=C=>"object"==(C=typeof C)||"function"===C;function Bt(C){var k,we,Be;return null!=(Be=null==(we=null==(k=C.head)?void 0:k.querySelector('meta[name="csp-nonce"]'))?void 0:we.getAttribute("content"))?Be:void 0}((C,k)=>{for(var we in k)J(C,we,{get:k[we],enumerable:!0})})({},{err:()=>lt,map:()=>De,ok:()=>Xn,unwrap:()=>Fe,unwrapErr:()=>on});var Xn=C=>({isOk:!0,isErr:!1,value:C}),lt=C=>({isOk:!1,isErr:!0,value:C});function De(C,k){if(C.isOk){const we=k(C.value);return we instanceof Promise?we.then(Be=>Xn(Be)):Xn(we)}if(C.isErr)return lt(C.value);throw"should never get here"}var Fe=C=>{if(C.isOk)return C.value;throw C.value},on=C=>{if(C.isErr)return C.value;throw C.value},Wn=(C,k,...we)=>{let Be=null,at=null,vt=null,Gt=!1,Yt=!1;const jt=[],en=In=>{for(let $n=0;$n<In.length;$n++)Be=In[$n],Array.isArray(Be)?en(Be):null!=Be&&"boolean"!=typeof Be&&((Gt="function"!=typeof C&&!Gn(Be))&&(Be=String(Be)),Gt&&Yt?jt[jt.length-1].$text$+=Be:jt.push(Gt?Cn(null,Be):Be),Yt=Gt)};if(en(we),k){k.key&&(at=k.key),k.name&&(vt=k.name);{const In=k.className||k.class;In&&(k.class="object"!=typeof In?In:Object.keys(In).filter($n=>In[$n]).join(" "))}}if("function"==typeof C)return C(null===k?{}:k,jt,Ur);const fn=Cn(C,null);return fn.$attrs$=k,jt.length>0&&(fn.$children$=jt),fn.$key$=at,fn.$name$=vt,fn},Cn=(C,k)=>({$flags$:0,$tag$:C,$text$:k,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Qt={},Ur={forEach:(C,k)=>C.map(Ir).forEach(k),map:(C,k)=>C.map(Ir).map(k).map(cr)},Ir=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),cr=C=>{if("function"==typeof C.vtag){const we={...C.vattrs};return C.vkey&&(we.key=C.vkey),C.vname&&(we.name=C.vname),Wn(C.vtag,we,...C.vchildren||[])}const k=Cn(C.vtag,C.vtext);return k.$attrs$=C.vattrs,k.$children$=C.vchildren,k.$key$=C.vkey,k.$name$=C.vname,k},Fi=(C,k,we,Be,at,vt,Gt)=>{let Yt,jt,en,fn;if(1===vt.nodeType){if(Yt=vt.getAttribute("c-id"),Yt&&(jt=Yt.split("."),(jt[0]===Gt||"0"===jt[0])&&(en={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:vt.tagName.toLowerCase(),$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},k.push(en),vt.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[en.$index$]=en,C=en,Be&&"0"===en.$depth$&&(Be[en.$index$]=en.$elm$))),vt.shadowRoot)for(fn=vt.shadowRoot.childNodes.length-1;fn>=0;fn--)Fi(C,k,we,Be,at,vt.shadowRoot.childNodes[fn],Gt);for(fn=vt.childNodes.length-1;fn>=0;fn--)Fi(C,k,we,Be,at,vt.childNodes[fn],Gt)}else if(8===vt.nodeType)jt=vt.nodeValue.split("."),(jt[1]===Gt||"0"===jt[1])&&(Yt=jt[0],en={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Yt?(en.$elm$=vt.nextSibling,en.$elm$&&3===en.$elm$.nodeType&&(en.$text$=en.$elm$.textContent,k.push(en),vt.remove(),C.$children$||(C.$children$=[]),C.$children$[en.$index$]=en,Be&&"0"===en.$depth$&&(Be[en.$index$]=en.$elm$))):en.$hostId$===Gt&&("s"===Yt?(en.$tag$="slot",vt["s-sn"]=jt[5]?en.$name$=jt[5]:"",vt["s-sr"]=!0,Be&&(en.$elm$=Me.createElement(en.$tag$),en.$name$&&en.$elm$.setAttribute("name",en.$name$),vt.parentNode.insertBefore(en.$elm$,vt),vt.remove(),"0"===en.$depth$&&(Be[en.$index$]=en.$elm$)),we.push(en),C.$children$||(C.$children$=[]),C.$children$[en.$index$]=en):"r"===Yt&&(Be?vt.remove():(at["s-cr"]=vt,vt["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const In=Cn(null,vt.textContent);In.$elm$=vt,In.$index$="0",C.$children$=[In]}},yn=(C,k)=>{if(1===C.nodeType){let we=0;if(C.shadowRoot)for(;we<C.shadowRoot.childNodes.length;we++)yn(C.shadowRoot.childNodes[we],k);for(we=0;we<C.childNodes.length;we++)yn(C.childNodes[we],k)}else if(8===C.nodeType){const we=C.nodeValue.split(".");"o"===we[0]&&(k.set(we[1]+"."+we[2],C),C.nodeValue="",C["s-en"]=we[3])}},tr=C=>_t.push(C),xn=C=>xe(C).$modeName$,si=C=>xe(C).$hostElement$,Jn=(C,k,we)=>{const Be=si(C);return{emit:at=>Ci(Be,k,{bubbles:!!(4&we),composed:!!(2&we),cancelable:!!(1&we),detail:at})}},Ci=(C,k,we)=>{const Be=Vt.ce(k,we);return C.dispatchEvent(Be),Be},lr=new WeakMap,oi=(C,k,we)=>{var Be;const at=gt(k,we),vt=st.get(at);if(C=11===C.nodeType?C:Me,vt)if("string"==typeof vt){let Yt,Gt=lr.get(C=C.head||C);if(Gt||lr.set(C,Gt=new Set),!Gt.has(at)){if(C.host&&(Yt=C.querySelector(`[sty-id="${at}"]`)))Yt.innerHTML=vt;else{Yt=Me.createElement("style"),Yt.innerHTML=vt;const jt=null!=(Be=Vt.$nonce$)?Be:Bt(Me);if(null!=jt&&Yt.setAttribute("nonce",jt),!(1&k.$flags$))if("HEAD"===C.nodeName){const en=C.querySelectorAll("link[rel=preconnect]"),fn=en.length>0?en[en.length-1].nextSibling:document.querySelector("style");C.insertBefore(Yt,fn)}else"host"in C?C.prepend(Yt):C.append(Yt);1&k.$flags$&&"HEAD"!==C.nodeName&&C.insertBefore(Yt,null)}4&k.$flags$&&(Yt.innerHTML+=Je),Gt&&Gt.add(at)}}else C.adoptedStyleSheets.includes(vt)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,vt]);return at},gt=(C,k)=>"sc-"+(k&&32&C.$flags$?C.$tagName$+"-"+k:C.$tagName$),it=(C,k,we,Be,at,vt)=>{if(we!==Be){let Gt=me(C,k),Yt=k.toLowerCase();if("class"===k){const jt=C.classList,en=Q(we),fn=Q(Be);jt.remove(...en.filter(In=>In&&!fn.includes(In))),jt.add(...fn.filter(In=>In&&!en.includes(In)))}else if("style"===k){for(const jt in we)(!Be||null==Be[jt])&&(jt.includes("-")?C.style.removeProperty(jt):C.style[jt]="");for(const jt in Be)(!we||Be[jt]!==we[jt])&&(jt.includes("-")?C.style.setProperty(jt,Be[jt]):C.style[jt]=Be[jt])}else if("key"!==k)if("ref"===k)Be&&Be(C);else if(Gt||"o"!==k[0]||"n"!==k[1]){const jt=Gn(Be);if((Gt||jt&&null!==Be)&&!at)try{if(C.tagName.includes("-"))C[k]=Be;else{const fn=null==Be?"":Be;"list"===k?Gt=!1:(null==we||C[k]!=fn)&&("function"==typeof C.__lookupSetter__(k)?C[k]=fn:C.setAttribute(k,fn))}}catch{}let en=!1;Yt!==(Yt=Yt.replace(/^xlink\:?/,""))&&(k=Yt,en=!0),null==Be||!1===Be?(!1!==Be||""===C.getAttribute(k))&&(en?C.removeAttributeNS(qe,k):C.removeAttribute(k)):(!Gt||4&vt||at)&&!jt&&(Be=!0===Be?"":Be,en?C.setAttributeNS(qe,k,Be):C.setAttribute(k,Be))}else if(k="-"===k[2]?k.slice(3):me(Se,Yt)?Yt.slice(2):Yt[2]+k.slice(3),we||Be){const jt=k.endsWith(ne);k=k.replace(Oe,""),we&&Vt.rel(C,k,we,jt),Be&&Vt.ael(C,k,Be,jt)}}},ve=/\s/,Q=C=>C?C.split(ve):[],ne="Capture",Oe=new RegExp(ne+"$"),Et=(C,k,we)=>{const Be=11===k.$elm$.nodeType&&k.$elm$.host?k.$elm$.host:k.$elm$,at=C&&C.$attrs$||pn,vt=k.$attrs$||pn;for(const Gt of ot(Object.keys(at)))Gt in vt||it(Be,Gt,at[Gt],void 0,we,k.$flags$);for(const Gt of ot(Object.keys(vt)))it(Be,Gt,at[Gt],vt[Gt],we,k.$flags$)};function ot(C){return C.includes("ref")?[...C.filter(k=>"ref"!==k),"ref"]:C}var Jt,kn,Fn,Fr=!1,xr=!1,It=!1,Kn=!1,vr=(C,k,we,Be)=>{var at;const vt=k.$children$[we];let Yt,jt,en,Gt=0;if(Fr||(It=!0,"slot"===vt.$tag$&&(Jt&&Be.classList.add(Jt+"-s"),vt.$flags$|=vt.$children$?2:1)),null!==vt.$text$)Yt=vt.$elm$=Me.createTextNode(vt.$text$);else if(1&vt.$flags$)Yt=vt.$elm$=Me.createTextNode("");else{if(Kn||(Kn="svg"===vt.$tag$),Yt=vt.$elm$=Me.createElementNS(Kn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Fr&&2&vt.$flags$?"slot-fb":vt.$tag$),Kn&&"foreignObject"===vt.$tag$&&(Kn=!1),Et(null,vt,Kn),!!Yt.getRootNode().querySelector("body")&&(C=>null!=C)(Jt)&&Yt["s-si"]!==Jt&&Yt.classList.add(Yt["s-si"]=Jt),an(Yt,Be),vt.$children$)for(Gt=0;Gt<vt.$children$.length;++Gt)jt=vr(C,vt,Gt,Yt),jt&&Yt.appendChild(jt);"svg"===vt.$tag$?Kn=!1:"foreignObject"===Yt.tagName&&(Kn=!0)}return Yt["s-hn"]=Fn,3&vt.$flags$&&(Yt["s-sr"]=!0,Yt["s-cr"]=kn,Yt["s-sn"]=vt.$name$||"",Yt["s-rf"]=null==(at=vt.$attrs$)?void 0:at.ref,en=C&&C.$children$&&C.$children$[we],en&&en.$tag$===vt.$tag$&&C.$elm$&&_i(C.$elm$)),Yt},_i=C=>{Vt.$flags$|=1;const k=C.closest(Fn.toLowerCase());if(null!=k){const we=Array.from(k.childNodes).find(at=>at["s-cr"]),Be=Array.from(C.childNodes);for(const at of we?Be.reverse():Be)null!=at["s-sh"]&&(Le(k,at,null!=we?we:null),at["s-sh"]=void 0,It=!0)}Vt.$flags$&=-2},$i=(C,k)=>{Vt.$flags$|=1;const we=Array.from(C.childNodes);if(C["s-sr"]){let Be=C;for(;Be=Be.nextSibling;)Be&&Be["s-sn"]===C["s-sn"]&&Be["s-sh"]===Fn&&we.push(Be)}for(let Be=we.length-1;Be>=0;Be--){const at=we[Be];at["s-hn"]!==Fn&&at["s-ol"]&&(Le(Ji(at),at,so(at)),at["s-ol"].remove(),at["s-ol"]=void 0,at["s-sh"]=void 0,It=!0),k&&$i(at,k)}Vt.$flags$&=-2},Zi=(C,k,we,Be,at,vt)=>{let Yt,Gt=C["s-cr"]&&C["s-cr"].parentNode||C;for(Gt.shadowRoot&&Gt.tagName===Fn&&(Gt=Gt.shadowRoot);at<=vt;++at)Be[at]&&(Yt=vr(null,we,at,C),Yt&&(Be[at].$elm$=Yt,Le(Gt,Yt,so(k))))},hi=(C,k,we)=>{for(let Be=k;Be<=we;++Be){const at=C[Be];if(at){const vt=at.$elm$;re(at),vt&&(xr=!0,vt["s-ol"]?vt["s-ol"].remove():$i(vt,!0),vt.remove())}}},fi=(C,k,we=!1)=>!(C.$tag$!==k.$tag$||("slot"===C.$tag$?"$nodeId$"in C&&we&&8!==C.$elm$.nodeType||C.$name$!==k.$name$:!we&&C.$key$!==k.$key$)),so=C=>C&&C["s-ol"]||C,Ji=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,eo=(C,k,we=!1)=>{const Be=k.$elm$=C.$elm$,at=C.$children$,vt=k.$children$,Gt=k.$tag$,Yt=k.$text$;let jt;null===Yt?(Kn="svg"===Gt||"foreignObject"!==Gt&&Kn,"slot"!==Gt||Fr?Et(C,k,Kn):C.$name$!==k.$name$&&(k.$elm$["s-sn"]=k.$name$||"",_i(k.$elm$.parentElement)),null!==at&&null!==vt?((C,k,we,Be,at=!1)=>{let ri,Wr,vt=0,Gt=0,Yt=0,jt=0,en=k.length-1,fn=k[0],In=k[en],$n=Be.length-1,Vn=Be[0],Br=Be[$n];for(;vt<=en&&Gt<=$n;)if(null==fn)fn=k[++vt];else if(null==In)In=k[--en];else if(null==Vn)Vn=Be[++Gt];else if(null==Br)Br=Be[--$n];else if(fi(fn,Vn,at))eo(fn,Vn,at),fn=k[++vt],Vn=Be[++Gt];else if(fi(In,Br,at))eo(In,Br,at),In=k[--en],Br=Be[--$n];else if(fi(fn,Br,at))("slot"===fn.$tag$||"slot"===Br.$tag$)&&$i(fn.$elm$.parentNode,!1),eo(fn,Br,at),Le(C,fn.$elm$,In.$elm$.nextSibling),fn=k[++vt],Br=Be[--$n];else if(fi(In,Vn,at))("slot"===fn.$tag$||"slot"===Br.$tag$)&&$i(In.$elm$.parentNode,!1),eo(In,Vn,at),Le(C,In.$elm$,fn.$elm$),In=k[--en],Vn=Be[++Gt];else{for(Yt=-1,jt=vt;jt<=en;++jt)if(k[jt]&&null!==k[jt].$key$&&k[jt].$key$===Vn.$key$){Yt=jt;break}Yt>=0?(Wr=k[Yt],Wr.$tag$!==Vn.$tag$?ri=vr(k&&k[Gt],we,Yt,C):(eo(Wr,Vn,at),k[Yt]=void 0,ri=Wr.$elm$),Vn=Be[++Gt]):(ri=vr(k&&k[Gt],we,Gt,C),Vn=Be[++Gt]),ri&&Le(Ji(fn.$elm$),ri,so(fn.$elm$))}vt>en?Zi(C,null==Be[$n+1]?null:Be[$n+1].$elm$,we,Be,Gt,$n):Gt>$n&&hi(k,vt,en)})(Be,at,k,vt,we):null!==vt?(null!==C.$text$&&(Be.textContent=""),Zi(Be,null,k,vt,0,vt.length-1)):!we&&null!==at&&hi(at,0,at.length-1),Kn&&"svg"===Gt&&(Kn=!1)):(jt=Be["s-cr"])?jt.parentNode.textContent=Yt:C.$text$!==Yt&&(Be.data=Yt)},je=C=>{const k=C.childNodes;for(const we of k)if(1===we.nodeType){if(we["s-sr"]){const Be=we["s-sn"];we.hidden=!1;for(const at of k)if(at!==we)if(at["s-hn"]!==we["s-hn"]||""!==Be){if(1===at.nodeType&&(Be===at.getAttribute("slot")||Be===at["s-sn"])||3===at.nodeType&&Be===at["s-sn"]){we.hidden=!0;break}}else if(1===at.nodeType||3===at.nodeType&&""!==at.textContent.trim()){we.hidden=!0;break}}je(we)}},_e=[],ht=C=>{let k,we,Be;for(const at of C.childNodes){if(at["s-sr"]&&(k=at["s-cr"])&&k.parentNode){we=k.parentNode.childNodes;const vt=at["s-sn"];for(Be=we.length-1;Be>=0;Be--)if(k=we[Be],!(k["s-cn"]||k["s-nr"]||k["s-hn"]===at["s-hn"]||k["s-sh"]&&k["s-sh"]===at["s-hn"]))if(oe(k,vt)){let Gt=_e.find(Yt=>Yt.$nodeToRelocate$===k);xr=!0,k["s-sn"]=k["s-sn"]||vt,Gt?(Gt.$nodeToRelocate$["s-sh"]=at["s-hn"],Gt.$slotRefNode$=at):(k["s-sh"]=at["s-hn"],_e.push({$slotRefNode$:at,$nodeToRelocate$:k})),k["s-sr"]&&_e.map(Yt=>{oe(Yt.$nodeToRelocate$,k["s-sn"])&&(Gt=_e.find(jt=>jt.$nodeToRelocate$===k),Gt&&!Yt.$slotRefNode$&&(Yt.$slotRefNode$=Gt.$slotRefNode$))})}else _e.some(Gt=>Gt.$nodeToRelocate$===k)||_e.push({$nodeToRelocate$:k})}1===at.nodeType&&ht(at)}},oe=(C,k)=>1===C.nodeType?null===C.getAttribute("slot")&&""===k||C.getAttribute("slot")===k:C["s-sn"]===k||""===k,re=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(re)},Le=(C,k,we)=>{const Be=null==C?void 0:C.insertBefore(k,we);return an(k,C),Be},Pt=C=>{const k=[];return C&&k.push(...C["s-scs"]||[],C["s-si"],C["s-sc"],...Pt(C.parentElement)),k},an=(C,k,we=!1)=>{var Be;if(C&&k&&1===C.nodeType){const at=new Set(Pt(k).filter(Boolean));if(at.size&&(null==(Be=C.classList)||Be.add(...C["s-scs"]=[...at]),C["s-ol"]||we))for(const vt of Array.from(C.childNodes))an(vt,C,!0)}},sr=(C,k)=>{k&&!C.$onRenderResolve$&&k["s-p"]&&k["s-p"].push(new Promise(we=>C.$onRenderResolve$=we))},Bn=(C,k)=>{if(C.$flags$|=16,!(4&C.$flags$))return sr(C,C.$ancestorComponent$),Rt(()=>pi(C,k));C.$flags$|=512},pi=(C,k)=>{const at=C.$lazyInstance$;if(!at)throw new Error(`Can't render component <${C.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let vt;return k&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([Gt,Yt])=>ji(at,Gt,Yt)),C.$queuedListeners$=void 0),vt=ji(at,"componentWillLoad")),vt=Lr(vt,()=>ji(at,"componentWillRender")),Lr(vt,()=>ni(C,at,k))},Lr=(C,k)=>ur(C)?C.then(k).catch(we=>{console.error(we),k()}):k(),ur=C=>C instanceof Promise||C&&C.then&&"function"==typeof C.then,ni=function(){var C=(0,d.A)(function*(k,we,Be){var at;const vt=k.$hostElement$,Yt=vt["s-rc"];Be&&(C=>{const k=C.$cmpMeta$,we=C.$hostElement$,Be=k.$flags$,vt=oi(we.shadowRoot?we.shadowRoot:we.getRootNode(),k,C.$modeName$);10&Be&&2&Be&&(we["s-sc"]=vt,we.classList.add(vt+"-h"),2&Be&&we.classList.add(vt+"-s"))})(k);Li(k,we,vt,Be),Yt&&(Yt.map(en=>en()),vt["s-rc"]=void 0);{const en=null!=(at=vt["s-p"])?at:[],fn=()=>Mi(k);0===en.length?fn():(Promise.all(en).then(fn),k.$flags$|=4,en.length=0)}});return function(we,Be,at){return C.apply(this,arguments)}}(),Li=(C,k,we,Be)=>{try{k=k.render&&k.render(),C.$flags$&=-17,C.$flags$|=2,((C,k,we=!1)=>{var Be,at,vt,Gt,Yt;const jt=C.$hostElement$,en=C.$cmpMeta$,fn=C.$vnode$||Cn(null,null),In=(C=>C&&C.$tag$===Qt)(k)?k:Wn(null,null,k);if(Fn=jt.tagName,en.$attrsToReflect$&&(In.$attrs$=In.$attrs$||{},en.$attrsToReflect$.map(([$n,Vn])=>In.$attrs$[Vn]=jt[$n])),we&&In.$attrs$)for(const $n of Object.keys(In.$attrs$))jt.hasAttribute($n)&&!["key","ref","style","class"].includes($n)&&(In.$attrs$[$n]=jt[$n]);if(In.$tag$=null,In.$flags$|=4,C.$vnode$=In,In.$elm$=fn.$elm$=jt.shadowRoot||jt,Jt=jt["s-sc"],Fr=!!(1&en.$flags$),kn=jt["s-cr"],xr=!1,eo(fn,In,we),Vt.$flags$|=1,It){ht(In.$elm$);for(const $n of _e){const Vn=$n.$nodeToRelocate$;if(!Vn["s-ol"]){const Br=Me.createTextNode("");Br["s-nr"]=Vn,Le(Vn.parentNode,Vn["s-ol"]=Br,Vn)}}for(const $n of _e){const Vn=$n.$nodeToRelocate$,Br=$n.$slotRefNode$;if(Br){const ri=Br.parentNode;let Wr=Br.nextSibling;if(Wr&&1===Wr.nodeType){let Kr=null==(Be=Vn["s-ol"])?void 0:Be.previousSibling;for(;Kr;){let Qr=null!=(at=Kr["s-nr"])?at:null;if(Qr&&Qr["s-sn"]===Vn["s-sn"]&&ri===Qr.parentNode){for(Qr=Qr.nextSibling;Qr===Vn||null!=Qr&&Qr["s-sr"];)Qr=null==Qr?void 0:Qr.nextSibling;if(!Qr||!Qr["s-nr"]){Wr=Qr;break}}Kr=Kr.previousSibling}}(!Wr&&ri!==Vn.parentNode||Vn.nextSibling!==Wr)&&Vn!==Wr&&(Le(ri,Vn,Wr),1===Vn.nodeType&&(Vn.hidden=null!=(vt=Vn["s-ih"])&&vt)),Vn&&"function"==typeof Br["s-rf"]&&Br["s-rf"](Vn)}else 1===Vn.nodeType&&(we&&(Vn["s-ih"]=null!=(Gt=Vn.hidden)&&Gt),Vn.hidden=!0)}}if(xr&&je(In.$elm$),Vt.$flags$&=-2,_e.length=0,2&en.$flags$)for(const $n of In.$elm$.childNodes)$n["s-hn"]!==Fn&&!$n["s-sh"]&&(we&&null==$n["s-ih"]&&($n["s-ih"]=null!=(Yt=$n.hidden)&&Yt),$n.hidden=!0);kn=void 0})(C,k,Be)}catch(at){ze(at,C.$hostElement$)}return null},Mi=C=>{const we=C.$hostElement$,at=C.$lazyInstance$,vt=C.$ancestorComponent$;ji(at,"componentDidRender"),64&C.$flags$?ji(at,"componentDidUpdate"):(C.$flags$|=64,Vi(we),ji(at,"componentDidLoad"),C.$onReadyResolve$(we),vt||qi()),C.$onInstanceResolve$(we),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&Qe(()=>Bn(C,!1)),C.$flags$&=-517},ai=C=>{{const k=xe(C),we=k.$hostElement$.isConnected;return we&&2==(18&k.$flags$)&&Bn(k,!1),we}},qi=C=>{Vi(Me.documentElement),Qe(()=>Ci(Se,"appload",{detail:{namespace:"ionic"}}))},ji=(C,k,we)=>{if(C&&C[k])try{return C[k](we)}catch(Be){ze(Be)}},Vi=C=>C.classList.add("hydrated"),ko=(C,k,we)=>{var Be,at;const vt=C.prototype;if(k.$members$||k.$watchers$||C.watchers){C.watchers&&!k.$watchers$&&(k.$watchers$=C.watchers);const Gt=Object.entries(null!=(Be=k.$members$)?Be:{});if(Gt.map(([Yt,[jt]])=>{31&jt||2&we&&32&jt?Object.defineProperty(vt,Yt,{get(){return((C,k)=>xe(this).$instanceValues$.get(k))(0,Yt)},set(en){((C,k,we,Be)=>{const at=xe(C);if(!at)throw new Error(`Couldn't find host element for "${Be.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const vt=at.$hostElement$,Gt=at.$instanceValues$.get(k),Yt=at.$flags$,jt=at.$lazyInstance$;we=((C,k)=>null==C||Gn(C)?C:4&k?"false"!==C&&(""===C||!!C):2&k?parseFloat(C):1&k?String(C):C)(we,Be.$members$[k][0]);const en=Number.isNaN(Gt)&&Number.isNaN(we);if((!(8&Yt)||void 0===Gt)&&we!==Gt&&!en&&(at.$instanceValues$.set(k,we),jt)){if(Be.$watchers$&&128&Yt){const In=Be.$watchers$[k];In&&In.map($n=>{try{jt[$n](we,Gt,k)}catch(Vn){ze(Vn,vt)}})}2==(18&Yt)&&Bn(at,!1)}})(this,Yt,en,k)},configurable:!0,enumerable:!0}):1&we&&64&jt&&Object.defineProperty(vt,Yt,{value(...en){var fn;const In=xe(this);return null==(fn=null==In?void 0:In.$onInstancePromise$)?void 0:fn.then(()=>{var $n;return null==($n=In.$lazyInstance$)?void 0:$n[Yt](...en)})}})}),1&we){const Yt=new Map;vt.attributeChangedCallback=function(jt,en,fn){Vt.jmp(()=>{var In;const $n=Yt.get(jt);if(this.hasOwnProperty($n))fn=this[$n],delete this[$n];else{if(vt.hasOwnProperty($n)&&"number"==typeof this[$n]&&this[$n]==fn)return;if(null==$n){const Vn=xe(this),Br=null==Vn?void 0:Vn.$flags$;if(Br&&!(8&Br)&&128&Br&&fn!==en){const ri=Vn.$lazyInstance$,Wr=null==(In=k.$watchers$)?void 0:In[jt];null==Wr||Wr.forEach(Kr=>{null!=ri[Kr]&&ri[Kr].call(ri,fn,en,jt)})}return}}this[$n]=(null!==fn||"boolean"!=typeof this[$n])&&fn})},C.observedAttributes=Array.from(new Set([...Object.keys(null!=(at=k.$watchers$)?at:{}),...Gt.filter(([jt,en])=>15&en[0]).map(([jt,en])=>{var fn;const In=en[1]||jt;return Yt.set(In,jt),512&en[0]&&(null==(fn=k.$attrsToReflect$)||fn.push([jt,In])),In})]))}}return C},Xo=function(){var C=(0,d.A)(function*(k,we,Be,at){let vt;if(!(32&we.$flags$)){if(we.$flags$|=32,Be.$lazyBundleId$){const en=(C=>{const Be=C.$tagName$.replace(/-/g,"_"),at=C.$lazyBundleId$;if(!at)return;const vt=Ke.get(at);return vt?vt[Be]:P(8996)(`./${at}.entry.js`).then(Gt=>(Ke.set(at,Gt),Gt[Be]),ze)})(Be);if(en&&"then"in en){const In=()=>{};vt=yield en,In()}else vt=en;if(!vt)throw new Error(`Constructor for "${Be.$tagName$}#${we.$modeName$}" was not found`);vt.isProxied||(Be.$watchers$=vt.watchers,ko(vt,Be,2),vt.isProxied=!0);const fn=()=>{};we.$flags$|=8;try{new vt(we)}catch(In){ze(In)}we.$flags$&=-9,we.$flags$|=128,fn(),Qo(we.$lazyInstance$)}else vt=k.constructor,customElements.whenDefined(k.localName).then(()=>we.$flags$|=128);if(vt&&vt.style){let en;"string"==typeof vt.style?en=vt.style:"string"!=typeof vt.style&&(we.$modeName$=(C=>_t.map(k=>k(C)).find(k=>!!k))(k),we.$modeName$&&(en=vt.style[we.$modeName$]));const fn=gt(Be,we.$modeName$);if(!st.has(fn)){const In=()=>{};((C,k,we)=>{let Be=st.get(C);be&&we?(Be=Be||new CSSStyleSheet,"string"==typeof Be?Be=k:Be.replaceSync(k)):Be=k,st.set(C,Be)})(fn,en,!!(1&Be.$flags$)),In()}}}const Gt=we.$ancestorComponent$,Yt=()=>Bn(we,!0);Gt&&Gt["s-rc"]?Gt["s-rc"].push(Yt):Yt()});return function(we,Be,at,vt){return C.apply(this,arguments)}}(),Qo=C=>{ji(C,"connectedCallback")},Co=C=>{const k=C["s-cr"]=Me.createComment("");k["s-cn"]=!0,Le(C,k,C.firstChild)},Pi=C=>{ji(C,"disconnectedCallback")},Bs=function(){var C=(0,d.A)(function*(k){if(!(1&Vt.$flags$)){const we=xe(k);we.$rmListeners$&&(we.$rmListeners$.map(Be=>Be()),we.$rmListeners$=void 0),null!=we&&we.$lazyInstance$?Pi(we.$lazyInstance$):null!=we&&we.$onReadyPromise$&&we.$onReadyPromise$.then(()=>Pi(we.$lazyInstance$))}});return function(we){return C.apply(this,arguments)}}(),jo=C=>{const k=C.cloneNode;C.cloneNode=function(we){const Be=this,at=Be.shadowRoot&&true,vt=k.call(Be,!!at&&we);if(!at&&we){let Yt,jt,Gt=0;const en=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Gt<Be.childNodes.length;Gt++)Yt=Be.childNodes[Gt]["s-nr"],jt=en.every(fn=>!Be.childNodes[Gt][fn]),Yt&&(vt.__appendChild?vt.__appendChild(Yt.cloneNode(!0)):vt.appendChild(Yt.cloneNode(!0))),jt&&vt.appendChild(Be.childNodes[Gt].cloneNode(!0))}return vt}},ta=C=>{C.__appendChild=C.appendChild,C.appendChild=function(k){const we=k["s-sn"]=Ti(k),Be=Nr(this.childNodes,we,this.tagName);if(Be){const at=As(Be,we),vt=at[at.length-1],Gt=Le(vt.parentNode,k,vt.nextSibling);return je(this),Gt}return this.__appendChild(k)}},Ri=C=>{C.__removeChild=C.removeChild,C.removeChild=function(k){if(k&&typeof k["s-sn"]<"u"){const we=Nr(this.childNodes,k["s-sn"],this.tagName);if(we){const at=As(we,k["s-sn"]).find(vt=>vt===k);if(at)return at.remove(),void je(this)}}return this.__removeChild(k)}},ts=C=>{const k=C.prepend;C.prepend=function(...we){we.forEach(Be=>{"string"==typeof Be&&(Be=this.ownerDocument.createTextNode(Be));const at=Be["s-sn"]=Ti(Be),vt=Nr(this.childNodes,at,this.tagName);if(vt){const Gt=document.createTextNode("");Gt["s-nr"]=Be,vt["s-cr"].parentNode.__appendChild(Gt),Be["s-ol"]=Gt;const jt=As(vt,at)[0];return Le(jt.parentNode,Be,jt.nextSibling)}return 1===Be.nodeType&&Be.getAttribute("slot")&&(Be.hidden=!0),k.call(this,Be)})}},Xr=C=>{C.append=function(...k){k.forEach(we=>{"string"==typeof we&&(we=this.ownerDocument.createTextNode(we)),this.appendChild(we)})}},ga=C=>{const k=C.insertAdjacentHTML;C.insertAdjacentHTML=function(we,Be){if("afterbegin"!==we&&"beforeend"!==we)return k.call(this,we,Be);const at=this.ownerDocument.createElement("_");let vt;if(at.innerHTML=Be,"afterbegin"===we)for(;vt=at.firstChild;)this.prepend(vt);else if("beforeend"===we)for(;vt=at.firstChild;)this.append(vt)}},Do=C=>{C.insertAdjacentText=function(k,we){this.insertAdjacentHTML(k,we)}},ma=C=>{const k=C.insertAdjacentElement;C.insertAdjacentElement=function(we,Be){return"afterbegin"!==we&&"beforeend"!==we?k.call(this,we,Be):"afterbegin"===we?(this.prepend(Be),Be):("beforeend"===we&&this.append(Be),Be)}},ps=C=>{const k=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(C,"__textContent",k),Object.defineProperty(C,"textContent",{get(){return" "+bo(this.childNodes).map(at=>{var vt,Gt;const Yt=[];let jt=at.nextSibling;for(;jt&&jt["s-sn"]===at["s-sn"];)(3===jt.nodeType||1===jt.nodeType)&&Yt.push(null!=(Gt=null==(vt=jt.textContent)?void 0:vt.trim())?Gt:""),jt=jt.nextSibling;return Yt.filter(en=>""!==en).join(" ")}).filter(at=>""!==at).join(" ")+" "},set(we){bo(this.childNodes).forEach(at=>{let vt=at.nextSibling;for(;vt&&vt["s-sn"]===at["s-sn"];){const Gt=vt;vt=vt.nextSibling,Gt.remove()}if(""===at["s-sn"]){const Gt=this.ownerDocument.createTextNode(we);Gt["s-sn"]="",Le(at.parentElement,Gt,at.nextSibling)}else at.remove()})}})},Jr=(C,k)=>{class we extends Array{item(at){return this[at]}}if(8&k.$flags$){const Be=C.__lookupGetter__("childNodes");Object.defineProperty(C,"children",{get(){return this.childNodes.map(at=>1===at.nodeType)}}),Object.defineProperty(C,"childElementCount",{get:()=>C.children.length}),Object.defineProperty(C,"childNodes",{get(){const at=Be.call(this);if(!(1&Vt.$flags$)&&2&xe(this).$flags$){const vt=new we;for(let Gt=0;Gt<at.length;Gt++){const Yt=at[Gt]["s-nr"];Yt&&vt.push(Yt)}return vt}return we.from(at)}})}},bo=C=>{const k=[];for(const we of Array.from(C))we["s-sr"]&&k.push(we),k.push(...bo(we.childNodes));return k},Ti=C=>C["s-sn"]||1===C.nodeType&&C.getAttribute("slot")||"",Nr=(C,k,we)=>{let at,Be=0;for(;Be<C.length;Be++)if(at=C[Be],at["s-sr"]&&at["s-sn"]===k&&at["s-hn"]===we||(at=Nr(at.childNodes,k,we),at))return at;return null},As=(C,k)=>{const we=[C];for(;(C=C.nextSibling)&&C["s-sn"]===k;)we.push(C);return we},Ho=(C,k={})=>{var we;const at=[],vt=k.exclude||[],Gt=Se.customElements,Yt=Me.head,jt=Yt.querySelector("meta[charset]"),en=Me.createElement("style"),fn=[];let In,$n=!0;Object.assign(Vt,k),Vt.$resourcesUrl$=new URL(k.resourcesUrl||"./",Me.baseURI).href,Vt.$flags$|=2;let Vn=!1;if(C.map(Br=>{Br[1].map(ri=>{var Wr;const Kr={$flags$:ri[0],$tagName$:ri[1],$members$:ri[2],$listeners$:ri[3]};4&Kr.$flags$&&(Vn=!0),Kr.$members$=ri[2],Kr.$listeners$=ri[3],Kr.$attrsToReflect$=[],Kr.$watchers$=null!=(Wr=ri[4])?Wr:{};const Qr=Kr.$tagName$,ao=class extends HTMLElement{constructor(Xi){if(super(Xi),this.hasRegisteredEventListeners=!1,((C,k)=>{const we={$flags$:0,$hostElement$:C,$cmpMeta$:k,$instanceValues$:new Map};we.$onInstancePromise$=new Promise(Be=>we.$onInstanceResolve$=Be),we.$onReadyPromise$=new Promise(Be=>we.$onReadyResolve$=Be),C["s-p"]=[],C["s-rc"]=[],Ce.set(C,we)})(Xi=this,Kr),1&Kr.$flags$)if(Xi.shadowRoot){if("open"!==Xi.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Kr.$tagName$}! Mode is set to ${Xi.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Xi.attachShadow({mode:"open",delegatesFocus:!!(16&Kr.$flags$)})}connectedCallback(){const Xi=xe(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Gr(this,Xi,Kr.$listeners$)),In&&(clearTimeout(In),In=null),$n?fn.push(this):Vt.jmp(()=>(C=>{if(!(1&Vt.$flags$)){const k=xe(C),we=k.$cmpMeta$,Be=()=>{};if(1&k.$flags$)Gr(C,k,we.$listeners$),null!=k&&k.$lazyInstance$?Qo(k.$lazyInstance$):null!=k&&k.$onReadyPromise$&&k.$onReadyPromise$.then(()=>Qo(k.$lazyInstance$));else{let at;if(k.$flags$|=1,at=C.getAttribute(Ee),at){if(1&we.$flags$){const vt=oi(C.shadowRoot,we,C.getAttribute("s-mode"));C.classList.remove(vt+"-h",vt+"-s")}((C,k,we,Be)=>{const vt=C.shadowRoot,Gt=[],jt=vt?[]:null,en=Be.$vnode$=Cn(k,null);Vt.$orgLocNodes$||yn(Me.body,Vt.$orgLocNodes$=new Map),C[Ee]=we,C.removeAttribute(Ee),Fi(en,Gt,[],jt,C,C,we),Gt.map(fn=>{const In=fn.$hostId$+"."+fn.$nodeId$,$n=Vt.$orgLocNodes$.get(In),Vn=fn.$elm$;$n&&""===$n["s-en"]&&$n.parentNode.insertBefore(Vn,$n.nextSibling),vt||(Vn["s-hn"]=k,$n&&(Vn["s-ol"]=$n,Vn["s-ol"]["s-nr"]=Vn)),Vt.$orgLocNodes$.delete(In)}),vt&&jt.map(fn=>{fn&&vt.appendChild(fn)})})(C,we.$tagName$,at,k)}at||12&we.$flags$&&Co(C);{let vt=C;for(;vt=vt.parentNode||vt.host;)if(1===vt.nodeType&&vt.hasAttribute("s-id")&&vt["s-p"]||vt["s-p"]){sr(k,k.$ancestorComponent$=vt);break}}we.$members$&&Object.entries(we.$members$).map(([vt,[Gt]])=>{if(31&Gt&&C.hasOwnProperty(vt)){const Yt=C[vt];delete C[vt],C[vt]=Yt}}),Xo(C,k,we)}Be()}})(this))}disconnectedCallback(){Vt.jmp(()=>Bs(this))}componentOnReady(){return xe(this).$onReadyPromise$}};2&Kr.$flags$&&((C,k)=>{jo(C),ta(C),Xr(C),ts(C),ma(C),ga(C),Do(C),ps(C),Jr(C,k),Ri(C)})(ao.prototype,Kr),Kr.$lazyBundleId$=Br[0],!vt.includes(Qr)&&!Gt.get(Qr)&&(at.push(Qr),Gt.define(Qr,ko(ao,Kr,1)))})}),at.length>0&&(Vn&&(en.textContent+=Je),en.textContent+=at.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",en.innerHTML.length)){en.setAttribute("data-styles","");const Br=null!=(we=Vt.$nonce$)?we:Bt(Me);null!=Br&&en.setAttribute("nonce",Br),Yt.insertBefore(en,jt?jt.nextSibling:Yt.firstChild)}$n=!1,fn.length?fn.map(Br=>Br.connectedCallback()):Vt.jmp(()=>In=setTimeout(qi,30))},Gr=(C,k,we,Be)=>{we&&we.map(([at,vt,Gt])=>{const Yt=X(C,at),jt=R(k,Gt),en=de(at);Vt.ael(Yt,vt,jt,en),(k.$rmListeners$=k.$rmListeners$||[]).push(()=>Vt.rel(Yt,vt,jt,en))})},R=(C,k)=>we=>{var Be;try{256&C.$flags$?null==(Be=C.$lazyInstance$)||Be[k](we):(C.$queuedListeners$=C.$queuedListeners$||[]).push([k,we])}catch(at){ze(at)}},X=(C,k)=>4&k?Me:8&k?Se:16&k?Me.body:C,de=C=>sn?{passive:!!(1&C),capture:!!(2&C)}:!!(2&C)},2643:(gn,mt,P)=>{"use strict";P.d(mt,{b:()=>xe,c:()=>He,d:()=>ye,e:()=>qt,g:()=>be,l:()=>Vt,s:()=>sn,t:()=>tt,w:()=>hn});var d=P(467),f=P(9275),Y=P(9230),J=P(4929),le=P(4920);const xe="ionViewWillLeave",He="ionViewDidLeave",ye="ionViewWillUnload",me=Z=>{Z.tabIndex=-1,Z.focus()},ze=Z=>null!==Z.offsetParent,Ge="ion-last-focus",ft_saveViewFocus=ae=>{if(f.c.get("focusManagerPriority",!1)){const ut=document.activeElement;null!==ut&&null!=ae&&ae.contains(ut)&&ut.setAttribute(Ge,"true")}},ft_setViewFocus=ae=>{const Te=f.c.get("focusManagerPriority",!1);if(Array.isArray(Te)&&!ae.contains(document.activeElement)){const ut=ae.querySelector(`[${Ge}]`);if(ut&&ze(ut))return void me(ut);for(const Xe of Te)switch(Xe){case"content":const Qe=ae.querySelector('main, [role="main"]');if(Qe&&ze(Qe))return void me(Qe);break;case"heading":const zt=ae.querySelector('h1, [role="heading"][aria-level="1"]');if(zt&&ze(zt))return void me(zt);break;case"banner":const Rt=ae.querySelector('header, [role="banner"]');if(Rt&&ze(Rt))return void me(Rt);break;default:(0,J.p)(`Unrecognized focus manager priority value ${Xe}`)}me(ae)}},tt=Z=>new Promise((ee,ae)=>{(0,Y.w)(()=>{pt(Z),ct(Z).then(Te=>{Te.animation&&Te.animation.destroy(),Ee(Z),ee(Te)},Te=>{Ee(Z),ae(Te)})})}),pt=Z=>{const ee=Z.enteringEl,ae=Z.leavingEl;ft_saveViewFocus(ae),dt(ee,ae,Z.direction),Z.showGoBack?ee.classList.add("can-go-back"):ee.classList.remove("can-go-back"),sn(ee,!1),ee.style.setProperty("pointer-events","none"),ae&&(sn(ae,!1),ae.style.setProperty("pointer-events","none"))},ct=function(){var Z=(0,d.A)(function*(ee){const ae=yield Ne(ee);return ae&&Y.B.isBrowser?Ve(ae,ee):nt(ee)});return function(ae){return Z.apply(this,arguments)}}(),Ee=Z=>{const ee=Z.enteringEl,ae=Z.leavingEl;ee.classList.remove("ion-page-invisible"),ee.style.removeProperty("pointer-events"),void 0!==ae&&(ae.classList.remove("ion-page-invisible"),ae.style.removeProperty("pointer-events")),ft_setViewFocus(ee)},Ne=function(){var Z=(0,d.A)(function*(ee){return ee.leavingEl&&ee.animated&&0!==ee.duration?ee.animationBuilder?ee.animationBuilder:"ios"===ee.mode?(yield Promise.resolve().then(P.bind(P,2280))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,5696))).mdTransitionAnimation:void 0});return function(ae){return Z.apply(this,arguments)}}(),Ve=function(){var Z=(0,d.A)(function*(ee,ae){yield Je(ae,!0);const Te=ee(ae.baseEl,ae);Me(ae.enteringEl,ae.leavingEl);const ut=yield Se(Te,ae);return ae.progressCallback&&ae.progressCallback(void 0),ut&&kt(ae.enteringEl,ae.leavingEl),{hasCompleted:ut,animation:Te}});return function(ae,Te){return Z.apply(this,arguments)}}(),nt=function(){var Z=(0,d.A)(function*(ee){const ae=ee.enteringEl,Te=ee.leavingEl,ut=f.c.get("focusManagerPriority",!1);return yield Je(ee,ut),Me(ae,Te),kt(ae,Te),{hasCompleted:!0}});return function(ae){return Z.apply(this,arguments)}}(),Je=function(){var Z=(0,d.A)(function*(ee,ae){(void 0!==ee.deepWait?ee.deepWait:ae)&&(yield Promise.all([qt(ee.enteringEl),qt(ee.leavingEl)])),yield qe(ee.viewIsReady,ee.enteringEl)});return function(ae,Te){return Z.apply(this,arguments)}}(),qe=function(){var Z=(0,d.A)(function*(ee,ae){ee&&(yield ee(ae))});return function(ae,Te){return Z.apply(this,arguments)}}(),Se=(Z,ee)=>{const ae=ee.progressCallback,Te=new Promise(ut=>{Z.onFinish(Xe=>ut(1===Xe))});return ae?(Z.progressStart(!0),ae(Z)):Z.play(),Te},Me=(Z,ee)=>{Vt(ee,xe),Vt(Z,"ionViewWillEnter")},kt=(Z,ee)=>{Vt(Z,"ionViewDidEnter"),Vt(ee,He)},Vt=(Z,ee)=>{if(Z){const ae=new CustomEvent(ee,{bubbles:!1,cancelable:!1});Z.dispatchEvent(ae)}},hn=()=>new Promise(Z=>(0,le.r)(()=>(0,le.r)(()=>Z()))),qt=function(){var Z=(0,d.A)(function*(ee){const ae=ee;if(ae){if(null!=ae.componentOnReady){if(null!=(yield ae.componentOnReady()))return}else if(null!=ae.__registerHost)return void(yield new Promise(ut=>(0,le.r)(ut)));yield Promise.all(Array.from(ae.children).map(qt))}});return function(ae){return Z.apply(this,arguments)}}(),sn=(Z,ee)=>{ee?(Z.setAttribute("aria-hidden","true"),Z.classList.add("ion-page-hidden")):(Z.hidden=!1,Z.removeAttribute("aria-hidden"),Z.classList.remove("ion-page-hidden"))},dt=(Z,ee,ae)=>{void 0!==Z&&(Z.style.zIndex="back"===ae?"99":"101"),void 0!==ee&&(ee.style.zIndex="100")},be=Z=>Z.classList.contains("ion-page")?Z:Z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Z},7094:(gn,mt,P)=>{"use strict";P.d(mt,{m:()=>Ke});var d=P(467),f=P(8476),Y=P(5878),J=P(4929),le=P(4920),ce=P(9275),Ce=P(9986);const xe=Ge=>(0,Ce.c)().duration(Ge?400:300),He=Ge=>{let st,_t;const ft=Ge.width+8,tt=(0,Ce.c)(),pt=(0,Ce.c)();Ge.isEndSide?(st=ft+"px",_t="0px"):(st=-ft+"px",_t="0px"),tt.addElement(Ge.menuInnerEl).fromTo("transform",`translateX(${st})`,`translateX(${_t})`);const Ee="ios"===(0,ce.b)(Ge),Ne=Ee?.2:.25;return pt.addElement(Ge.backdropEl).fromTo("opacity",.01,Ne),xe(Ee).addAnimation([tt,pt])},ye=Ge=>{let st,_t;const ft=(0,ce.b)(Ge),tt=Ge.width;Ge.isEndSide?(st=-tt+"px",_t=tt+"px"):(st=tt+"px",_t=-tt+"px");const pt=(0,Ce.c)().addElement(Ge.menuInnerEl).fromTo("transform",`translateX(${_t})`,"translateX(0px)"),ct=(0,Ce.c)().addElement(Ge.contentEl).fromTo("transform","translateX(0px)",`translateX(${st})`),Ee=(0,Ce.c)().addElement(Ge.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===ft).addAnimation([pt,ct,Ee])},me=Ge=>{const st=(0,ce.b)(Ge),_t=Ge.width*(Ge.isEndSide?-1:1)+"px",ft=(0,Ce.c)().addElement(Ge.contentEl).fromTo("transform","translateX(0px)",`translateX(${_t})`);return xe("ios"===st).addAnimation(ft)},Ke=(()=>{const Ge=new Map,st=[],_t=function(){var ee=(0,d.A)(function*(ae){const Te=yield Ve(ae,!0);return!!Te&&Te.open()});return function(Te){return ee.apply(this,arguments)}}(),ft=function(){var ee=(0,d.A)(function*(ae){const Te=yield void 0!==ae?Ve(ae,!0):nt();return void 0!==Te&&Te.close()});return function(Te){return ee.apply(this,arguments)}}(),tt=function(){var ee=(0,d.A)(function*(ae){const Te=yield Ve(ae,!0);return!!Te&&Te.toggle()});return function(Te){return ee.apply(this,arguments)}}(),pt=function(){var ee=(0,d.A)(function*(ae,Te){const ut=yield Ve(Te);return ut&&(ut.disabled=!ae),ut});return function(Te,ut){return ee.apply(this,arguments)}}(),ct=function(){var ee=(0,d.A)(function*(ae,Te){const ut=yield Ve(Te);return ut&&(ut.swipeGesture=ae),ut});return function(Te,ut){return ee.apply(this,arguments)}}(),Ee=function(){var ee=(0,d.A)(function*(ae){if(null!=ae){const Te=yield Ve(ae);return void 0!==Te&&Te.isOpen()}return void 0!==(yield nt())});return function(Te){return ee.apply(this,arguments)}}(),Ne=function(){var ee=(0,d.A)(function*(ae){const Te=yield Ve(ae);return!!Te&&!Te.disabled});return function(Te){return ee.apply(this,arguments)}}(),Ve=function(){var ee=(0,d.A)(function*(ae,Te=!1){if(yield Z(),"start"===ae||"end"===ae){const Xe=st.filter(zt=>zt.side===ae&&!zt.disabled);if(Xe.length>=1)return Xe.length>1&&Te&&(0,J.p)(`menuController queried for a menu on the "${ae}" side, but ${Xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Xe.map(zt=>zt.el)),Xe[0].el;const Qe=st.filter(zt=>zt.side===ae);if(Qe.length>=1)return Qe.length>1&&Te&&(0,J.p)(`menuController queried for a menu on the "${ae}" side, but ${Qe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Qe.map(zt=>zt.el)),Qe[0].el}else if(null!=ae)return be(Xe=>Xe.menuId===ae);return be(Xe=>!Xe.disabled)||(st.length>0?st[0].el:void 0)});return function(Te){return ee.apply(this,arguments)}}(),nt=function(){var ee=(0,d.A)(function*(){return yield Z(),qt()});return function(){return ee.apply(this,arguments)}}(),Je=function(){var ee=(0,d.A)(function*(){return yield Z(),sn()});return function(){return ee.apply(this,arguments)}}(),qe=function(){var ee=(0,d.A)(function*(){return yield Z(),dt()});return function(){return ee.apply(this,arguments)}}(),Se=(ee,ae)=>{Ge.set(ee,ae)},Vt=function(){var ee=(0,d.A)(function*(ae,Te,ut){if(dt())return!1;if(Te){const Xe=yield nt();Xe&&ae.el!==Xe&&(yield Xe.setOpen(!1,!1))}return ae._setOpen(Te,ut)});return function(Te,ut,Xe){return ee.apply(this,arguments)}}(),qt=()=>be(ee=>ee._isOpen),sn=()=>st.map(ee=>ee.el),dt=()=>st.some(ee=>ee.isAnimating),be=ee=>{const ae=st.find(ee);if(void 0!==ae)return ae.el},Z=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ee=>new Promise(ae=>(0,le.c)(ee,ae))));return Se("reveal",me),Se("push",ye),Se("overlay",He),null==f.d||f.d.addEventListener("ionBackButton",ee=>{const ae=qt();ae&&ee.detail.register(Y.MENU_BACK_BUTTON_PRIORITY,()=>ae.close())}),{registerAnimation:Se,get:Ve,getMenus:Je,getOpen:nt,isEnabled:Ne,swipeGesture:ct,isAnimating:qe,isOpen:Ee,enable:pt,toggle:tt,close:ft,open:_t,_getOpenSync:qt,_createAnimation:(ee,ae)=>{const Te=Ge.get(ee);if(!Te)throw new Error("animation not registered");return Te(ae)},_register:ee=>{st.indexOf(ee)<0&&st.push(ee)},_unregister:ee=>{const ae=st.indexOf(ee);ae>-1&&st.splice(ae,1)},_setOpen:Vt}})()},4929:(gn,mt,P)=>{"use strict";P.d(mt,{a:()=>f,b:()=>Y,p:()=>d});const d=(J,...le)=>console.warn(`[Ionic Warning]: ${J}`,...le),f=(J,...le)=>console.error(`[Ionic Error]: ${J}`,...le),Y=(J,...le)=>console.error(`<${J.tagName.toLowerCase()}> must be used inside ${le.join(" or ")}.`)},8476:(gn,mt,P)=>{"use strict";P.d(mt,{d:()=>f,w:()=>d});const d=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9275:(gn,mt,P)=>{"use strict";P.d(mt,{a:()=>me,b:()=>sn,c:()=>Y,i:()=>dt});var d=P(9230);class f{constructor(){this.m=new Map}reset(Z){this.m=new Map(Object.entries(Z))}get(Z,ee){const ae=this.m.get(Z);return void 0!==ae?ae:ee}getBoolean(Z,ee=!1){const ae=this.m.get(Z);return void 0===ae?ee:"string"==typeof ae?"true"===ae:!!ae}getNumber(Z,ee){const ae=parseFloat(this.m.get(Z));return isNaN(ae)?void 0!==ee?ee:NaN:ae}set(Z,ee){this.m.set(Z,ee)}}const Y=new f,He="ionic-persist-config",me=(be,Z)=>("string"==typeof be&&(Z=be,be=void 0),(be=>ze(be))(be).includes(Z)),ze=(be=window)=>{if(typeof be>"u")return[];be.Ionic=be.Ionic||{};let Z=be.Ionic.platforms;return null==Z&&(Z=be.Ionic.platforms=Ke(be),Z.forEach(ee=>be.document.documentElement.classList.add(`plt-${ee}`))),Z},Ke=be=>{const Z=Y.get("platform");return Object.keys(hn).filter(ee=>{const ae=null==Z?void 0:Z[ee];return"function"==typeof ae?ae(be):hn[ee](be)})},st=be=>!!(kt(be,/iPad/i)||kt(be,/Macintosh/i)&&Ne(be)),tt=be=>kt(be,/android|sink/i),Ne=be=>Vt(be,"(any-pointer:coarse)"),nt=be=>Je(be)||qe(be),Je=be=>!!(be.cordova||be.phonegap||be.PhoneGap),qe=be=>{const Z=be.Capacitor;return!(null==Z||!Z.isNative)},kt=(be,Z)=>Z.test(be.navigator.userAgent),Vt=(be,Z)=>{var ee;return null===(ee=be.matchMedia)||void 0===ee?void 0:ee.call(be,Z).matches},hn={ipad:st,iphone:be=>kt(be,/iPhone/i),ios:be=>kt(be,/iPhone|iPod/i)||st(be),android:tt,phablet:be=>{const Z=be.innerWidth,ee=be.innerHeight,ae=Math.min(Z,ee),Te=Math.max(Z,ee);return ae>390&&ae<520&&Te>620&&Te<800},tablet:be=>{const Z=be.innerWidth,ee=be.innerHeight,ae=Math.min(Z,ee),Te=Math.max(Z,ee);return st(be)||(be=>tt(be)&&!kt(be,/mobile/i))(be)||ae>460&&ae<820&&Te>780&&Te<1400},cordova:Je,capacitor:qe,electron:be=>kt(be,/electron/i),pwa:be=>{var Z;return!!(null!==(Z=be.matchMedia)&&void 0!==Z&&Z.call(be,"(display-mode: standalone)").matches||be.navigator.standalone)},mobile:Ne,mobileweb:be=>Ne(be)&&!nt(be),desktop:be=>!Ne(be),hybrid:nt};let qt;const sn=be=>be&&(0,d.g)(be)||qt,dt=(be={})=>{if(typeof window>"u")return;const Z=window.document,ee=window,ae=ee.Ionic=ee.Ionic||{},Te={};be._ael&&(Te.ael=be._ael),be._rel&&(Te.rel=be._rel),be._ce&&(Te.ce=be._ce),(0,d.a)(Te);const ut=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(be=>{try{const Z=be.sessionStorage.getItem(He);return null!==Z?JSON.parse(Z):{}}catch{return{}}})(ee)),{persistConfig:!1}),ae.config),(be=>{const Z={};return be.location.search.slice(1).split("&").map(ee=>ee.split("=")).map(([ee,ae])=>{try{return[decodeURIComponent(ee),decodeURIComponent(ae)]}catch{return["",""]}}).filter(([ee])=>((be,Z)=>be.substr(0,Z.length)===Z)(ee,"ionic:")).map(([ee,ae])=>[ee.slice(6),ae]).forEach(([ee,ae])=>{Z[ee]=ae}),Z})(ee)),be);Y.reset(ut),Y.getBoolean("persistConfig")&&((be,Z)=>{try{be.sessionStorage.setItem(He,JSON.stringify(Z))}catch{return}})(ee,ut),ze(ee),ae.config=Y,ae.mode=qt=Y.get("mode",Z.documentElement.getAttribute("mode")||(me(ee,"ios")?"ios":"md")),Y.set("mode",qt),Z.documentElement.setAttribute("mode",qt),Z.documentElement.classList.add(qt),Y.getBoolean("_testing")&&Y.set("animated",!1);const Xe=zt=>{var Rt;return null===(Rt=zt.tagName)||void 0===Rt?void 0:Rt.startsWith("ION-")},Qe=zt=>["ios","md"].includes(zt);(0,d.c)(zt=>{for(;zt;){const Rt=zt.mode||zt.getAttribute("mode");if(Rt){if(Qe(Rt))return Rt;Xe(zt)&&console.warn('Invalid ionic mode: "'+Rt+'", expected: "ios" or "md"')}zt=zt.parentElement}return qt})}},2280:(gn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{iosTransitionAnimation:()=>Ge,shadow:()=>xe});var d=P(9986),f=P(2643);P(8476),P(9275),P(9230);const Ce=_t=>document.querySelector(`${_t}.ion-cloned-element`),xe=_t=>_t.shadowRoot||_t,He=_t=>{const ft="ION-TABS"===_t.tagName?_t:_t.querySelector("ion-tabs"),tt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ft){const pt=ft.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pt?pt.querySelector(tt):null}return _t.querySelector(tt)},ye=(_t,ft)=>{const tt="ION-TABS"===_t.tagName?_t:_t.querySelector("ion-tabs");let pt=[];if(null!=tt){const ct=tt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ct&&(pt=ct.querySelectorAll("ion-buttons"))}else pt=_t.querySelectorAll("ion-buttons");for(const ct of pt){const Ee=ct.closest("ion-header"),Ne=Ee&&!Ee.classList.contains("header-collapse-condense-inactive"),Ve=ct.querySelector("ion-back-button"),nt=ct.classList.contains("buttons-collapse");if(null!==Ve&&("start"===ct.slot||""===ct.slot)&&(nt&&Ne&&ft||!nt))return Ve}return null},ze=(_t,ft,tt,pt,ct,Ee,Ne,Ve,nt)=>{var Je,qe;const Se=ft?`calc(100% - ${ct.right+4}px)`:ct.left-4+"px",Me=ft?"right":"left",kt=ft?"left":"right",Vt=ft?"right":"left";let hn=1,qt=1,sn=`scale(${qt})`;const dt="scale(1)";if(Ee&&Ne){const Fe=(null===(Je=Ee.textContent)||void 0===Je?void 0:Je.trim())===(null===(qe=Ve.textContent)||void 0===qe?void 0:qe.trim());hn=nt.width/Ne.width,qt=(nt.height-st)/Ne.height,sn=Fe?`scale(${hn}, ${qt})`:`scale(${qt})`}const Z=xe(pt).querySelector("ion-icon").getBoundingClientRect(),ee=ft?Z.width/2-(Z.right-ct.right)+"px":ct.left-Z.width/2+"px",ae=ft?`-${window.innerWidth-ct.right}px`:`${ct.left}px`,Te=`${nt.top}px`,ut=`${ct.top}px`,zt=tt?[{offset:0,transform:`translate3d(${ae}, ${ut}, 0)`},{offset:1,transform:`translate3d(${ee}, ${Te}, 0)`}]:[{offset:0,transform:`translate3d(${ee}, ${Te}, 0)`},{offset:1,transform:`translate3d(${ae}, ${ut}, 0)`}],pn=tt?[{offset:0,opacity:1,transform:dt},{offset:1,opacity:0,transform:sn}]:[{offset:0,opacity:0,transform:sn},{offset:1,opacity:1,transform:dt}],Nn=tt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Gn=(0,d.c)(),Bt=(0,d.c)(),rn=(0,d.c)(),Xn=Ce("ion-back-button"),lt=xe(Xn).querySelector(".button-text"),De=xe(Xn).querySelector("ion-icon");Xn.text=pt.text,Xn.mode=pt.mode,Xn.icon=pt.icon,Xn.color=pt.color,Xn.disabled=pt.disabled,Xn.style.setProperty("display","block"),Xn.style.setProperty("position","fixed"),Bt.addElement(De),Gn.addElement(lt),rn.addElement(Xn),rn.beforeStyles({position:"absolute",top:"0px",[Vt]:"0px"}).beforeAddWrite(()=>{pt.style.setProperty("display","none"),Xn.style.setProperty(Me,Se)}).afterAddWrite(()=>{pt.style.setProperty("display",""),Xn.style.setProperty("display","none"),Xn.style.removeProperty(Me)}).keyframes(zt),Gn.beforeStyles({"transform-origin":`${Me} top`}).keyframes(pn),Bt.beforeStyles({"transform-origin":`${kt} center`}).keyframes(Nn),_t.addAnimation([Gn,Bt,rn])},Ke=(_t,ft,tt,pt,ct,Ee,Ne,Ve,nt)=>{var Je,qe;const Se=ft?"right":"left",Me=ft?`calc(100% - ${ct.right}px)`:`${ct.left}px`,Vt=`${ct.top}px`;let qt=ft?`-${window.innerWidth-Ne.right-8}px`:`${Ne.x+8}px`,sn=.5;const dt="scale(1)";let be=`scale(${sn})`;if(Ve&&nt){qt=ft?`-${window.innerWidth-nt.right-8}px`:nt.x-8+"px";const Rt=(null===(Je=Ve.textContent)||void 0===Je?void 0:Je.trim())===(null===(qe=pt.textContent)||void 0===qe?void 0:qe.trim());sn=nt.height/(Ee.height-st),be=Rt?`scale(${nt.width/Ee.width}, ${sn})`:`scale(${sn})`}const ae=Ne.top+Ne.height/2-ct.height*sn/2+"px",Xe=tt?[{offset:0,opacity:0,transform:`translate3d(${qt}, ${ae}, 0) ${be}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Vt}, 0) ${dt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Vt}, 0) ${dt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qt}, ${ae}, 0) ${be}`}],Qe=Ce("ion-title"),zt=(0,d.c)();Qe.innerText=pt.innerText,Qe.size=pt.size,Qe.color=pt.color,zt.addElement(Qe),zt.beforeStyles({"transform-origin":`${Se} top`,height:`${ct.height}px`,display:"",position:"relative",[Se]:Me}).beforeAddWrite(()=>{pt.style.setProperty("opacity","0")}).afterAddWrite(()=>{pt.style.setProperty("opacity",""),Qe.style.setProperty("display","none")}).keyframes(Xe),_t.addAnimation(zt)},Ge=(_t,ft)=>{var tt;try{const pt="cubic-bezier(0.32,0.72,0,1)",ct="opacity",Ee="transform",Ne="0%",nt="rtl"===_t.ownerDocument.dir,Je=nt?"-99.5%":"99.5%",qe=nt?"33%":"-33%",Se=ft.enteringEl,Me=ft.leavingEl,kt="back"===ft.direction,Vt=Se.querySelector(":scope > ion-content"),hn=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),qt=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),sn=(0,d.c)(),dt=(0,d.c)();if(sn.addElement(Se).duration((null!==(tt=ft.duration)&&void 0!==tt?tt:0)||540).easing(ft.easing||pt).fill("both").beforeRemoveClass("ion-page-invisible"),Me&&null!=_t){const ae=(0,d.c)();ae.addElement(_t),sn.addAnimation(ae)}if(Vt||0!==qt.length||0!==hn.length?(dt.addElement(Vt),dt.addElement(hn)):dt.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),sn.addAnimation(dt),kt?dt.beforeClearStyles([ct]).fromTo("transform",`translateX(${qe})`,`translateX(${Ne})`).fromTo(ct,.8,1):dt.beforeClearStyles([ct]).fromTo("transform",`translateX(${Je})`,`translateX(${Ne})`),Vt){const ae=xe(Vt).querySelector(".transition-effect");if(ae){const Te=ae.querySelector(".transition-cover"),ut=ae.querySelector(".transition-shadow"),Xe=(0,d.c)(),Qe=(0,d.c)(),zt=(0,d.c)();Xe.addElement(ae).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Qe.addElement(Te).beforeClearStyles([ct]).fromTo(ct,0,.1),zt.addElement(ut).beforeClearStyles([ct]).fromTo(ct,.03,.7),Xe.addAnimation([Qe,zt]),dt.addAnimation([Xe])}}const be=Se.querySelector("ion-header.header-collapse-condense"),{forward:Z,backward:ee}=((_t,ft,tt,pt,ct)=>{const Ee=ye(pt,tt),Ne=He(ct),Ve=He(pt),nt=ye(ct,tt),Je=null!==Ee&&null!==Ne&&!tt,qe=null!==Ve&&null!==nt&&tt;if(Je){const Se=Ne.getBoundingClientRect(),Me=Ee.getBoundingClientRect(),kt=xe(Ee).querySelector(".button-text"),Vt=null==kt?void 0:kt.getBoundingClientRect(),qt=xe(Ne).querySelector(".toolbar-title").getBoundingClientRect();Ke(_t,ft,tt,Ne,Se,qt,Me,kt,Vt),ze(_t,ft,tt,Ee,Me,kt,Vt,Ne,qt)}else if(qe){const Se=Ve.getBoundingClientRect(),Me=nt.getBoundingClientRect(),kt=xe(nt).querySelector(".button-text"),Vt=null==kt?void 0:kt.getBoundingClientRect(),qt=xe(Ve).querySelector(".toolbar-title").getBoundingClientRect();Ke(_t,ft,tt,Ve,Se,qt,Me,kt,Vt),ze(_t,ft,tt,nt,Me,kt,Vt,Ve,qt)}return{forward:Je,backward:qe}})(sn,nt,kt,Se,Me);if(qt.forEach(ae=>{const Te=(0,d.c)();Te.addElement(ae),sn.addAnimation(Te);const ut=(0,d.c)();ut.addElement(ae.querySelector("ion-title"));const Xe=(0,d.c)(),Qe=Array.from(ae.querySelectorAll("ion-buttons,[menuToggle]")),zt=ae.closest("ion-header"),Rt=null==zt?void 0:zt.classList.contains("header-collapse-condense-inactive");let Nt;Nt=Qe.filter(kt?Gn=>{const Bt=Gn.classList.contains("buttons-collapse");return Bt&&!Rt||!Bt}:Gn=>!Gn.classList.contains("buttons-collapse")),Xe.addElement(Nt);const pn=(0,d.c)();pn.addElement(ae.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ct=(0,d.c)();Ct.addElement(xe(ae).querySelector(".toolbar-background"));const On=(0,d.c)(),Nn=ae.querySelector("ion-back-button");if(Nn&&On.addElement(Nn),Te.addAnimation([ut,Xe,pn,Ct,On]),Xe.fromTo(ct,.01,1),pn.fromTo(ct,.01,1),kt)Rt||ut.fromTo("transform",`translateX(${qe})`,`translateX(${Ne})`).fromTo(ct,.01,1),pn.fromTo("transform",`translateX(${qe})`,`translateX(${Ne})`),On.fromTo(ct,.01,1);else if(be||ut.fromTo("transform",`translateX(${Je})`,`translateX(${Ne})`).fromTo(ct,.01,1),pn.fromTo("transform",`translateX(${Je})`,`translateX(${Ne})`),Ct.beforeClearStyles([ct,"transform"]),(null==zt?void 0:zt.translucent)?Ct.fromTo("transform",nt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ct.fromTo(ct,.01,"var(--opacity)"),Z||On.fromTo(ct,.01,1),Nn&&!Z){const Bt=(0,d.c)();Bt.addElement(xe(Nn).querySelector(".button-text")).fromTo("transform",nt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Te.addAnimation(Bt)}}),Me){const ae=(0,d.c)(),Te=Me.querySelector(":scope > ion-content"),ut=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),Xe=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Te||0!==ut.length||0!==Xe.length?(ae.addElement(Te),ae.addElement(Xe)):ae.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),sn.addAnimation(ae),kt){ae.beforeClearStyles([ct]).fromTo("transform",`translateX(${Ne})`,nt?"translateX(-100%)":"translateX(100%)");const Qe=(0,f.g)(Me);sn.afterAddWrite(()=>{"normal"===sn.getDirection()&&Qe.style.setProperty("display","none")})}else ae.fromTo("transform",`translateX(${Ne})`,`translateX(${qe})`).fromTo(ct,1,.8);if(Te){const Qe=xe(Te).querySelector(".transition-effect");if(Qe){const zt=Qe.querySelector(".transition-cover"),Rt=Qe.querySelector(".transition-shadow"),Nt=(0,d.c)(),pn=(0,d.c)(),Ct=(0,d.c)();Nt.addElement(Qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pn.addElement(zt).beforeClearStyles([ct]).fromTo(ct,.1,0),Ct.addElement(Rt).beforeClearStyles([ct]).fromTo(ct,.7,.03),Nt.addAnimation([pn,Ct]),ae.addAnimation([Nt])}}ut.forEach(Qe=>{const zt=(0,d.c)();zt.addElement(Qe);const Rt=(0,d.c)();Rt.addElement(Qe.querySelector("ion-title"));const Nt=(0,d.c)(),pn=Qe.querySelectorAll("ion-buttons,[menuToggle]"),Ct=Qe.closest("ion-header"),On=null==Ct?void 0:Ct.classList.contains("header-collapse-condense-inactive"),Nn=Array.from(pn).filter(De=>{const Fe=De.classList.contains("buttons-collapse");return Fe&&!On||!Fe});Nt.addElement(Nn);const Gn=(0,d.c)(),Bt=Qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Bt.length>0&&Gn.addElement(Bt);const rn=(0,d.c)();rn.addElement(xe(Qe).querySelector(".toolbar-background"));const Xn=(0,d.c)(),lt=Qe.querySelector("ion-back-button");if(lt&&Xn.addElement(lt),zt.addAnimation([Rt,Nt,Gn,Xn,rn]),sn.addAnimation(zt),Xn.fromTo(ct,.99,0),Nt.fromTo(ct,.99,0),Gn.fromTo(ct,.99,0),kt){if(On||Rt.fromTo("transform",`translateX(${Ne})`,nt?"translateX(-100%)":"translateX(100%)").fromTo(ct,.99,0),Gn.fromTo("transform",`translateX(${Ne})`,nt?"translateX(-100%)":"translateX(100%)"),rn.beforeClearStyles([ct,"transform"]),(null==Ct?void 0:Ct.translucent)?rn.fromTo("transform","translateX(0px)",nt?"translateX(-100%)":"translateX(100%)"):rn.fromTo(ct,"var(--opacity)",0),lt&&!ee){const Fe=(0,d.c)();Fe.addElement(xe(lt).querySelector(".button-text")).fromTo("transform",`translateX(${Ne})`,`translateX(${(nt?-124:124)+"px"})`),zt.addAnimation(Fe)}}else On||Rt.fromTo("transform",`translateX(${Ne})`,`translateX(${qe})`).fromTo(ct,.99,0).afterClearStyles([Ee,ct]),Gn.fromTo("transform",`translateX(${Ne})`,`translateX(${qe})`).afterClearStyles([Ee,ct]),Xn.afterClearStyles([ct]),Rt.afterClearStyles([ct]),Nt.afterClearStyles([ct])})}return sn}catch(pt){throw pt}},st=10},5696:(gn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{mdTransitionAnimation:()=>ce});var d=P(9986),f=P(2643);P(8476),P(9275),P(9230);const ce=(Ce,xe)=>{var He,ye,me;const Ge="back"===xe.direction,_t=xe.leavingEl,ft=(0,f.g)(xe.enteringEl),tt=ft.querySelector("ion-toolbar"),pt=(0,d.c)();if(pt.addElement(ft).fill("both").beforeRemoveClass("ion-page-invisible"),Ge?pt.duration((null!==(He=xe.duration)&&void 0!==He?He:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):pt.duration((null!==(ye=xe.duration)&&void 0!==ye?ye:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),tt){const ct=(0,d.c)();ct.addElement(tt),pt.addAnimation(ct)}if(_t&&Ge){pt.duration((null!==(me=xe.duration)&&void 0!==me?me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ct=(0,d.c)();ct.addElement((0,f.g)(_t)).onFinish(Ee=>{1===Ee&&ct.elements.length>0&&ct.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),pt.addAnimation(ct)}return pt}},6776:(gn,mt,P)=>{"use strict";P.d(mt,{B:()=>pn,F:()=>Xn,G:()=>Ct,O:()=>On,a:()=>ft,b:()=>tt,c:()=>Ne,d:()=>Nn,e:()=>Gn,f:()=>Z,g:()=>ae,h:()=>Xe,i:()=>zt,j:()=>nt,k:()=>Je,m:()=>ct,n:()=>ye,o:()=>dt,q:()=>me,s:()=>Nt});var d=P(467),f=P(8476),Y=P(4920),J=P(5878),le=P(9275),ce=P(8621),Ce=P(1970),xe=P(4929);const He='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(lt,De)=>{const Fe=lt.querySelector(He);ze(Fe,null!=De?De:lt)},me=(lt,De)=>{const Fe=Array.from(lt.querySelectorAll(He));ze(Fe.length>0?Fe[Fe.length-1]:null,null!=De?De:lt)},ze=(lt,De)=>{let Fe=lt;const on=null==lt?void 0:lt.shadowRoot;on&&(Fe=on.querySelector(He)||lt),Fe?(0,Y.f)(Fe):De.focus()};let Ke=0,Ge=0;const st=new WeakMap,_t=lt=>({create:De=>qe(lt,De),dismiss:(De,Fe,on)=>hn(document,De,Fe,lt,on),getTop:()=>(0,d.A)(function*(){return dt(document,lt)})()}),ft=_t("ion-alert"),tt=_t("ion-action-sheet"),ct=_t("ion-modal"),Ne=_t("ion-popover"),nt=lt=>{typeof document<"u"&&Vt(document);const De=Ke++;lt.overlayIndex=De},Je=lt=>(lt.hasAttribute("id")||(lt.id="ion-overlay-"+ ++Ge),lt.id),qe=(lt,De)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(lt).then(()=>{const Fe=document.createElement(lt);return Fe.classList.add("overlay-hidden"),Object.assign(Fe,Object.assign(Object.assign({},De),{hasController:!0})),Te(document).appendChild(Fe),new Promise(on=>(0,Y.c)(Fe,on))}):Promise.resolve(),Me=(lt,De)=>{let Fe=lt;const on=null==lt?void 0:lt.shadowRoot;on&&(Fe=on.querySelector(He)||lt),Fe?(0,Y.f)(Fe):De.focus()},Vt=lt=>{0===Ke&&(Ke=1,lt.addEventListener("focus",De=>{((lt,De)=>{const Fe=dt(De,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),on=lt.target;Fe&&on&&!Fe.classList.contains(Xn)&&(Fe.shadowRoot?(()=>{if(Fe.contains(on))Fe.lastFocus=on;else if("ION-TOAST"===on.tagName)Me(Fe.lastFocus,Fe);else{const Wn=Fe.lastFocus;ye(Fe),Wn===De.activeElement&&me(Fe),Fe.lastFocus=De.activeElement}})():(()=>{if(Fe===on)Fe.lastFocus=void 0;else if("ION-TOAST"===on.tagName)Me(Fe.lastFocus,Fe);else{const Wn=(0,Y.g)(Fe);if(!Wn.contains(on))return;const Cn=Wn.querySelector(".ion-overlay-wrapper");if(!Cn)return;if(Cn.contains(on)||on===Wn.querySelector("ion-backdrop"))Fe.lastFocus=on;else{const Qt=Fe.lastFocus;ye(Cn,Fe),Qt===De.activeElement&&me(Cn,Fe),Fe.lastFocus=De.activeElement}}})())})(De,lt)},!0),lt.addEventListener("ionBackButton",De=>{const Fe=dt(lt);null!=Fe&&Fe.backdropDismiss&&De.detail.register(J.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Fe.dismiss(void 0,pn)})}),(0,J.shouldUseCloseWatcher)()||lt.addEventListener("keydown",De=>{if("Escape"===De.key){const Fe=dt(lt);null!=Fe&&Fe.backdropDismiss&&Fe.dismiss(void 0,pn)}}))},hn=(lt,De,Fe,on,Ln)=>{const Qn=dt(lt,on,Ln);return Qn?Qn.dismiss(De,Fe):Promise.reject("overlay does not exist")},sn=(lt,De)=>((lt,De)=>(void 0===De&&(De="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(lt.querySelectorAll(De)).filter(Fe=>Fe.overlayIndex>0)))(lt,De).filter(Fe=>!(lt=>lt.classList.contains("overlay-hidden"))(Fe)),dt=(lt,De,Fe)=>{const on=sn(lt,De);return void 0===Fe?on[on.length-1]:on.find(Ln=>Ln.id===Fe)},be=(lt=!1)=>{const Fe=Te(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Fe&&(lt?Fe.setAttribute("aria-hidden","true"):Fe.removeAttribute("aria-hidden"))},Z=function(){var lt=(0,d.A)(function*(De,Fe,on,Ln,Qn){var Wn,Cn;if(De.presented)return;be(!0),document.body.classList.add(Ce.B),Bt(De.el),De.presented=!0,De.willPresent.emit(),null===(Wn=De.willPresentShorthand)||void 0===Wn||Wn.emit();const Qt=(0,le.b)(De),zr=De.enterAnimation?De.enterAnimation:le.c.get(Fe,"ios"===Qt?on:Ln);(yield ut(De,zr,De.el,Qn))&&(De.didPresent.emit(),null===(Cn=De.didPresentShorthand)||void 0===Cn||Cn.emit()),"ION-TOAST"!==De.el.tagName&&ee(De.el),De.keyboardClose&&(null===document.activeElement||!De.el.contains(document.activeElement))&&De.el.focus(),De.el.removeAttribute("aria-hidden")});return function(Fe,on,Ln,Qn,Wn){return lt.apply(this,arguments)}}(),ee=function(){var lt=(0,d.A)(function*(De){let Fe=document.activeElement;if(!Fe)return;const on=null==Fe?void 0:Fe.shadowRoot;on&&(Fe=on.querySelector(He)||Fe),yield De.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Fe.focus()});return function(Fe){return lt.apply(this,arguments)}}(),ae=function(){var lt=(0,d.A)(function*(De,Fe,on,Ln,Qn,Wn,Cn){var Qt,zr;if(!De.presented)return!1;void 0!==f.d&&1===sn(f.d).length&&(be(!1),document.body.classList.remove(Ce.B)),De.presented=!1;try{De.el.style.setProperty("pointer-events","none"),De.willDismiss.emit({data:Fe,role:on}),null===(Qt=De.willDismissShorthand)||void 0===Qt||Qt.emit({data:Fe,role:on});const Ir=(0,le.b)(De),cr=De.leaveAnimation?De.leaveAnimation:le.c.get(Ln,"ios"===Ir?Qn:Wn);on!==Ct&&(yield ut(De,cr,De.el,Cn)),De.didDismiss.emit({data:Fe,role:on}),null===(zr=De.didDismissShorthand)||void 0===zr||zr.emit({data:Fe,role:on}),(st.get(De)||[]).forEach(Fi=>Fi.destroy()),st.delete(De),De.el.classList.add("overlay-hidden"),De.el.style.removeProperty("pointer-events"),void 0!==De.el.lastFocus&&(De.el.lastFocus=void 0)}catch(Ir){console.error(Ir)}return De.el.remove(),rn(),!0});return function(Fe,on,Ln,Qn,Wn,Cn,Qt){return lt.apply(this,arguments)}}(),Te=lt=>lt.querySelector("ion-app")||lt.body,ut=function(){var lt=(0,d.A)(function*(De,Fe,on,Ln){on.classList.remove("overlay-hidden");const Wn=Fe(De.el,Ln);(!De.animated||!le.c.getBoolean("animated",!0))&&Wn.duration(0),De.keyboardClose&&Wn.beforeAddWrite(()=>{const Qt=on.ownerDocument.activeElement;null!=Qt&&Qt.matches("input,ion-input, ion-textarea")&&Qt.blur()});const Cn=st.get(De)||[];return st.set(De,[...Cn,Wn]),yield Wn.play(),!0});return function(Fe,on,Ln,Qn){return lt.apply(this,arguments)}}(),Xe=(lt,De)=>{let Fe;const on=new Promise(Ln=>Fe=Ln);return Qe(lt,De,Ln=>{Fe(Ln.detail)}),on},Qe=(lt,De,Fe)=>{const on=Ln=>{(0,Y.b)(lt,De,on),Fe(Ln)};(0,Y.a)(lt,De,on)},zt=lt=>"cancel"===lt||lt===pn,Rt=lt=>lt(),Nt=(lt,De)=>{if("function"==typeof lt)return le.c.get("_zoneGate",Rt)(()=>{try{return lt(De)}catch(on){throw on}})},pn="backdrop",Ct="gesture",On=39,Nn=lt=>{let Fe,De=!1;const on=(0,ce.C)(),Ln=(Cn=!1)=>{if(Fe&&!Cn)return{delegate:Fe,inline:De};const{el:Qt,hasController:zr,delegate:Ur}=lt;return De=null!==Qt.parentNode&&!zr,Fe=De?Ur||on:Ur,{inline:De,delegate:Fe}};return{attachViewToDom:function(){var Cn=(0,d.A)(function*(Qt){const{delegate:zr}=Ln(!0);if(zr)return yield zr.attachViewToDom(lt.el,Qt);const{hasController:Ur}=lt;if(Ur&&void 0!==Qt)throw new Error("framework delegate is missing");return null});return function(zr){return Cn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Cn}=Ln();Cn&&void 0!==lt.el&&Cn.removeViewFromDom(lt.el.parentElement,lt.el)}}},Gn=()=>{let lt;const De=()=>{lt&&(lt(),lt=void 0)};return{addClickListener:(on,Ln)=>{De();const Qn=void 0!==Ln?document.getElementById(Ln):null;Qn?lt=((Cn,Qt)=>{const zr=()=>{Qt.present()};return Cn.addEventListener("click",zr),()=>{Cn.removeEventListener("click",zr)}})(Qn,on):(0,xe.p)(`A trigger element with the ID "${Ln}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,on)},removeClickListener:De}},Bt=lt=>{var De;if(void 0===f.d)return;const Fe=sn(f.d);for(let on=Fe.length-1;on>=0;on--){const Ln=Fe[on],Qn=null!==(De=Fe[on+1])&&void 0!==De?De:lt;(Qn.hasAttribute("aria-hidden")||"ION-TOAST"!==Qn.tagName)&&Ln.setAttribute("aria-hidden","true")}},rn=()=>{if(void 0===f.d)return;const lt=sn(f.d);for(let De=lt.length-1;De>=0;De--){const Fe=lt[De];if(Fe.removeAttribute("aria-hidden"),"ION-TOAST"!==Fe.tagName)break}},Xn="ion-disable-focus-trap"},1248:(gn,mt,P)=>{"use strict";var d=P(345),f=P(3953),Y=P(3225),J=P(2872),le=P(791),ce=P(467),Ce=P(8742),xe=P(1362),He=P(1076),ye=P(6749);const me="@firebase/installations",ze="0.6.8",Ke=1e4,Ge=`w:${ze}`,st="FIS_v2",_t="https://firebaseinstallations.googleapis.com/v1",ft=36e5,Ee=new He.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(U){return U instanceof He.g&&U.code.includes("request-failed")}function Ve({projectId:U}){return`${_t}/projects/${U}/installations`}function nt(U){return{token:U.token,requestStatus:2,expiresIn:hn(U.expiresIn),creationTime:Date.now()}}function Je(U,K){return qe.apply(this,arguments)}function qe(){return(qe=(0,ce.A)(function*(U,K){const $e=(yield K.json()).error;return Ee.create("request-failed",{requestName:U,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function Se({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function kt(U){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,ce.A)(function*(U){const K=yield U();return K.status>=500&&K.status<600?U():K})).apply(this,arguments)}function hn(U){return Number(U.replace("s","000"))}function dt(){return(dt=(0,ce.A)(function*({appConfig:U,heartbeatServiceProvider:K},{fid:Ie}){const $e=Ve(U),Lt=Se(U),Wt=K.getImmediate({optional:!0});if(Wt){const Dn=yield Wt.getHeartbeatsHeader();Dn&&Lt.append("x-firebase-client",Dn)}const Yn={method:"POST",headers:Lt,body:JSON.stringify({fid:Ie,authVersion:st,appId:U.appId,sdkVersion:Ge})},zn=yield kt(()=>fetch($e,Yn));if(zn.ok){const Dn=yield zn.json();return{fid:Dn.fid||Ie,registrationStatus:2,refreshToken:Dn.refreshToken,authToken:nt(Dn.authToken)}}throw yield Je("Create Installation",zn)})).apply(this,arguments)}function be(U){return new Promise(K=>{setTimeout(K,U)})}const ee=/^[cdef][\w-]{21}$/,ae="";function Te(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const Ie=function ut(U){return function Z(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return ee.test(Ie)?Ie:ae}catch{return ae}}function Xe(U){return`${U.appName}!${U.appId}`}const Qe=new Map;function zt(U,K){const Ie=Xe(U);pn(Ie,K),function Ct(U,K){const Ie=function Nn(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=U=>{pn(U.data.key,U.data.fid)}),On}();Ie&&Ie.postMessage({key:U,fid:K}),function Gn(){0===Qe.size&&On&&(On.close(),On=null)}()}(Ie,K)}function pn(U,K){const Ie=Qe.get(U);if(Ie)for(const $e of Ie)$e(K)}let On=null;const Bt="firebase-installations-database",rn=1,Xn="firebase-installations-store";let lt=null;function De(){return lt||(lt=(0,ye.P2)(Bt,rn,{upgrade:(U,K)=>{0===K&&U.createObjectStore(Xn)}})),lt}function Fe(U,K){return on.apply(this,arguments)}function on(){return(on=(0,ce.A)(function*(U,K){const Ie=Xe(U),Lt=(yield De()).transaction(Xn,"readwrite"),Wt=Lt.objectStore(Xn),wn=yield Wt.get(Ie);return yield Wt.put(K,Ie),yield Lt.done,(!wn||wn.fid!==K.fid)&&zt(U,K.fid),K})).apply(this,arguments)}function Ln(U){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ce.A)(function*(U){const K=Xe(U),$e=(yield De()).transaction(Xn,"readwrite");yield $e.objectStore(Xn).delete(K),yield $e.done})).apply(this,arguments)}function Wn(U,K){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,ce.A)(function*(U,K){const Ie=Xe(U),Lt=(yield De()).transaction(Xn,"readwrite"),Wt=Lt.objectStore(Xn),wn=yield Wt.get(Ie),Yn=K(wn);return void 0===Yn?yield Wt.delete(Ie):yield Wt.put(Yn,Ie),yield Lt.done,Yn&&(!wn||wn.fid!==Yn.fid)&&zt(U,Yn.fid),Yn})).apply(this,arguments)}function Qt(U){return zr.apply(this,arguments)}function zr(){return zr=(0,ce.A)(function*(U){let K;const Ie=yield Wn(U.appConfig,$e=>{const Lt=function Ur(U){return tr(U||{fid:Te(),registrationStatus:0})}($e),Wt=function Ir(U,K){if(0===K.registrationStatus){if(!navigator.onLine)return{installationEntry:K,registrationPromise:Promise.reject(Ee.create("app-offline"))};const Ie={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},$e=function cr(U,K){return jr.apply(this,arguments)}(U,Ie);return{installationEntry:Ie,registrationPromise:$e}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:Fi(U)}:{installationEntry:K}}(U,Lt);return K=Wt.registrationPromise,Wt.installationEntry});return Ie.fid===ae?{installationEntry:yield K}:{installationEntry:Ie,registrationPromise:K}}),zr.apply(this,arguments)}function jr(){return jr=(0,ce.A)(function*(U,K){try{const Ie=yield function sn(U,K){return dt.apply(this,arguments)}(U,K);return Fe(U.appConfig,Ie)}catch(Ie){throw Ne(Ie)&&409===Ie.customData.serverCode?yield Ln(U.appConfig):yield Fe(U.appConfig,{fid:K.fid,registrationStatus:0}),Ie}}),jr.apply(this,arguments)}function Fi(U){return yn.apply(this,arguments)}function yn(){return(yn=(0,ce.A)(function*(U){let K=yield Si(U.appConfig);for(;1===K.registrationStatus;)yield be(100),K=yield Si(U.appConfig);if(0===K.registrationStatus){const{installationEntry:Ie,registrationPromise:$e}=yield Qt(U);return $e||Ie}return K})).apply(this,arguments)}function Si(U){return Wn(U,K=>{if(!K)throw Ee.create("installation-not-found");return tr(K)})}function tr(U){return function xn(U){return 1===U.registrationStatus&&U.registrationTime+Ke<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function si(){return(si=(0,ce.A)(function*({appConfig:U,heartbeatServiceProvider:K},Ie){const $e=function Jn(U,{fid:K}){return`${Ve(U)}/${K}/authTokens:generate`}(U,Ie),Lt=function Me(U,{refreshToken:K}){const Ie=Se(U);return Ie.append("Authorization",function qt(U){return`${st} ${U}`}(K)),Ie}(U,Ie),Wt=K.getImmediate({optional:!0});if(Wt){const Dn=yield Wt.getHeartbeatsHeader();Dn&&Lt.append("x-firebase-client",Dn)}const Yn={method:"POST",headers:Lt,body:JSON.stringify({installation:{sdkVersion:Ge,appId:U.appId}})},zn=yield kt(()=>fetch($e,Yn));if(zn.ok)return nt(yield zn.json());throw yield Je("Generate Auth Token",zn)})).apply(this,arguments)}function Ci(U){return lr.apply(this,arguments)}function lr(){return lr=(0,ce.A)(function*(U,K=!1){let Ie;const $e=yield Wn(U.appConfig,Wt=>{if(!ve(Wt))throw Ee.create("not-registered");const wn=Wt.authToken;if(!K&&function Q(U){return 2===U.requestStatus&&!function ne(U){const K=Date.now();return K<U.creationTime||U.creationTime+U.expiresIn<K+ft}(U)}(wn))return Wt;if(1===wn.requestStatus)return Ie=function mn(U,K){return oi.apply(this,arguments)}(U,K),Wt;{if(!navigator.onLine)throw Ee.create("app-offline");const Yn=function Oe(U){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:K})}(Wt);return Ie=function gt(U,K){return it.apply(this,arguments)}(U,Yn),Yn}});return Ie?yield Ie:$e.authToken}),lr.apply(this,arguments)}function oi(){return(oi=(0,ce.A)(function*(U,K){let Ie=yield xt(U.appConfig);for(;1===Ie.authToken.requestStatus;)yield be(100),Ie=yield xt(U.appConfig);const $e=Ie.authToken;return 0===$e.requestStatus?Ci(U,K):$e})).apply(this,arguments)}function xt(U){return Wn(U,K=>{if(!ve(K))throw Ee.create("not-registered");return function Et(U){return 1===U.requestStatus&&U.requestTime+Ke<Date.now()}(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function it(){return it=(0,ce.A)(function*(U,K){try{const Ie=yield function Rn(U,K){return si.apply(this,arguments)}(U,K),$e=Object.assign(Object.assign({},K),{authToken:Ie});return yield Fe(U.appConfig,$e),Ie}catch(Ie){if(!Ne(Ie)||401!==Ie.customData.serverCode&&404!==Ie.customData.serverCode){const $e=Object.assign(Object.assign({},K),{authToken:{requestStatus:0}});yield Fe(U.appConfig,$e)}else yield Ln(U.appConfig);throw Ie}}),it.apply(this,arguments)}function ve(U){return void 0!==U&&2===U.registrationStatus}function Jt(){return(Jt=(0,ce.A)(function*(U){const K=U,{installationEntry:Ie,registrationPromise:$e}=yield Qt(K);return $e?$e.catch(console.error):Ci(K).catch(console.error),Ie.fid})).apply(this,arguments)}function Fn(){return Fn=(0,ce.A)(function*(U,K=!1){const Ie=U;return yield function Fr(U){return xr.apply(this,arguments)}(Ie),(yield Ci(Ie,K)).token}),Fn.apply(this,arguments)}function xr(){return(xr=(0,ce.A)(function*(U){const{registrationPromise:K}=yield Qt(U);K&&(yield K)})).apply(this,arguments)}function fi(U){return Ee.create("missing-app-config-values",{valueName:U})}const so="installations",eo=U=>{const K=U.getProvider("app").getImmediate(),Ie=function Ki(U){if(!U||!U.options)throw fi("App Configuration");if(!U.name)throw fi("App Name");const K=["projectId","apiKey","appId"];for(const Ie of K)if(!U.options[Ie])throw fi(Ie);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(K);return{app:K,appConfig:Ie,heartbeatServiceProvider:(0,Ce._getProvider)(K,"heartbeat"),_delete:()=>Promise.resolve()}},je=U=>{const K=U.getProvider("app").getImmediate(),Ie=(0,Ce._getProvider)(K,so).getImmediate();return{getId:()=>function ot(U){return Jt.apply(this,arguments)}(Ie),getToken:Lt=>function kn(U){return Fn.apply(this,arguments)}(Ie,Lt)}};(function _e(){(0,Ce._registerComponent)(new xe.uA(so,eo,"PUBLIC")),(0,Ce._registerComponent)(new xe.uA("installations-internal",je,"PRIVATE"))})(),(0,Ce.registerVersion)(me,ze),(0,Ce.registerVersion)(me,ze,"esm2017");const ht="/firebase-messaging-sw.js",oe="/firebase-cloud-messaging-push-scope",re="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Le="https://fcmregistrations.googleapis.com/v1",Pt="google.c.a.c_id",an="google.c.a.c_l",vn="google.c.a.ts";var pi=function(U){return U.PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",U}(pi||{});function Lr(U){const K=new Uint8Array(U);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ur(U){const Ie=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(Ie),Lt=new Uint8Array($e.length);for(let Wt=0;Wt<$e.length;++Wt)Lt[Wt]=$e.charCodeAt(Wt);return Lt}const ni="fcm_token_details_db",Li=5,Mi="fcm_token_object_Store";function qi(){return qi=(0,ce.A)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Wt=>Wt.name).includes(ni))return null;let K=null;return(yield(0,ye.P2)(ni,Li,{upgrade:($e=(0,ce.A)(function*(Lt,Wt,wn,Yn){var zn;if(Wt<2||!Lt.objectStoreNames.contains(Mi))return;const Dn=Yn.objectStore(Mi),Dr=yield Dn.index("fcmSenderId").get(U);if(yield Dn.clear(),Dr)if(2===Wt){const jn=Dr;if(!jn.auth||!jn.p256dh||!jn.endpoint)return;K={token:jn.fcmToken,createTime:null!==(zn=jn.createTime)&&void 0!==zn?zn:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:Lr(jn.vapidKey)}}}else if(3===Wt){const jn=Dr;K={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Lr(jn.auth),p256dh:Lr(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Lr(jn.vapidKey)}}}else if(4===Wt){const jn=Dr;K={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Lr(jn.auth),p256dh:Lr(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Lr(jn.vapidKey)}}}}),function(Wt,wn,Yn,zn){return $e.apply(this,arguments)})})).close(),yield(0,ye.MR)(ni),yield(0,ye.MR)("fcm_vapid_details_db"),yield(0,ye.MR)("undefined"),function ji(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:K}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}(K)?K:null;var $e}),qi.apply(this,arguments)}const Vi="firebase-messaging-database",$o=1,_o="firebase-messaging-store";let ko=null;function Xo(){return ko||(ko=(0,ye.P2)(Vi,$o,{upgrade:(U,K)=>{0===K&&U.createObjectStore(_o)}})),ko}function es(){return es=(0,ce.A)(function*(U){const K=jo(U),$e=yield(yield Xo()).transaction(_o).objectStore(_o).get(K);if($e)return $e;{const Lt=yield function ai(U){return qi.apply(this,arguments)}(U.appConfig.senderId);if(Lt)return yield Co(U,Lt),Lt}}),es.apply(this,arguments)}function Co(U,K){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,ce.A)(function*(U,K){const Ie=jo(U),Lt=(yield Xo()).transaction(_o,"readwrite");return yield Lt.objectStore(_o).put(K,Ie),yield Lt.done,K})).apply(this,arguments)}function jo({appConfig:U}){return U.appId}const Ri=new He.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ts(U,K){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,ce.A)(function*(U,K){const Ie=yield bo(U),$e=Nr(K),Lt={method:"POST",headers:Ie,body:JSON.stringify($e)};let Wt;try{Wt=yield(yield fetch(Jr(U.appConfig),Lt)).json()}catch(wn){throw Ri.create("token-subscribe-failed",{errorInfo:null==wn?void 0:wn.toString()})}if(Wt.error)throw Ri.create("token-subscribe-failed",{errorInfo:Wt.error.message});if(!Wt.token)throw Ri.create("token-subscribe-no-token");return Wt.token})).apply(this,arguments)}function Do(){return(Do=(0,ce.A)(function*(U,K){const Ie=yield bo(U),$e=Nr(K.subscriptionOptions),Lt={method:"PATCH",headers:Ie,body:JSON.stringify($e)};let Wt;try{Wt=yield(yield fetch(`${Jr(U.appConfig)}/${K.token}`,Lt)).json()}catch(wn){throw Ri.create("token-update-failed",{errorInfo:null==wn?void 0:wn.toString()})}if(Wt.error)throw Ri.create("token-update-failed",{errorInfo:Wt.error.message});if(!Wt.token)throw Ri.create("token-update-no-token");return Wt.token})).apply(this,arguments)}function ps(){return(ps=(0,ce.A)(function*(U,K){const $e={method:"DELETE",headers:yield bo(U)};try{const Wt=yield(yield fetch(`${Jr(U.appConfig)}/${K}`,$e)).json();if(Wt.error)throw Ri.create("token-unsubscribe-failed",{errorInfo:Wt.error.message})}catch(Lt){throw Ri.create("token-unsubscribe-failed",{errorInfo:null==Lt?void 0:Lt.toString()})}})).apply(this,arguments)}function Jr({projectId:U}){return`${Le}/projects/${U}/registrations`}function bo(U){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,ce.A)(function*({appConfig:U,installations:K}){const Ie=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ie}`})})).apply(this,arguments)}function Nr({p256dh:U,auth:K,endpoint:Ie,vapidKey:$e}){const Lt={web:{endpoint:Ie,auth:K,p256dh:U}};return $e!==re&&(Lt.web.applicationPubKey=$e),Lt}const As=6048e5;function Gr(){return Gr=(0,ce.A)(function*(U){const K=yield function we(U,K){return Be.apply(this,arguments)}(U.swRegistration,U.vapidKey),Ie={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:K.endpoint,auth:Lr(K.getKey("auth")),p256dh:Lr(K.getKey("p256dh"))},$e=yield function Qo(U){return es.apply(this,arguments)}(U.firebaseDependencies);if($e){if(function at(U,K){return K.vapidKey===U.vapidKey&&K.endpoint===U.endpoint&&K.auth===U.auth&&K.p256dh===U.p256dh}($e.subscriptionOptions,Ie))return Date.now()>=$e.createTime+As?function de(U,K){return N.apply(this,arguments)}(U,{token:$e.token,createTime:Date.now(),subscriptionOptions:Ie}):$e.token;try{yield function ma(U,K){return ps.apply(this,arguments)}(U.firebaseDependencies,$e.token)}catch(Lt){console.warn(Lt)}return C(U.firebaseDependencies,Ie)}return C(U.firebaseDependencies,Ie)}),Gr.apply(this,arguments)}function N(){return N=(0,ce.A)(function*(U,K){try{const Ie=yield function ga(U,K){return Do.apply(this,arguments)}(U.firebaseDependencies,K),$e=Object.assign(Object.assign({},K),{token:Ie,createTime:Date.now()});return yield Co(U.firebaseDependencies,$e),Ie}catch(Ie){throw Ie}}),N.apply(this,arguments)}function C(U,K){return k.apply(this,arguments)}function k(){return(k=(0,ce.A)(function*(U,K){const $e={token:yield ts(U,K),createTime:Date.now(),subscriptionOptions:K};return yield Co(U,$e),$e.token})).apply(this,arguments)}function Be(){return(Be=(0,ce.A)(function*(U,K){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ur(K)})})).apply(this,arguments)}function vt(U){const K={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Gt(U,K){if(!K.notification)return;U.notification={};const Ie=K.notification.title;Ie&&(U.notification.title=Ie);const $e=K.notification.body;$e&&(U.notification.body=$e);const Lt=K.notification.image;Lt&&(U.notification.image=Lt);const Wt=K.notification.icon;Wt&&(U.notification.icon=Wt)}(K,U),function Yt(U,K){K.data&&(U.data=K.data)}(K,U),function jt(U,K){var Ie,$e,Lt,Wt,wn;if(!(K.fcmOptions||null!==(Ie=K.notification)&&void 0!==Ie&&Ie.click_action))return;U.fcmOptions={};const Yn=null!==(Lt=null===($e=K.fcmOptions)||void 0===$e?void 0:$e.link)&&void 0!==Lt?Lt:null===(Wt=K.notification)||void 0===Wt?void 0:Wt.click_action;Yn&&(U.fcmOptions.link=Yn);const zn=null===(wn=K.fcmOptions)||void 0===wn?void 0:wn.analytics_label;zn&&(U.fcmOptions.analyticsLabel=zn)}(K,U),K}function fn(U,K){const Ie=[];for(let $e=0;$e<U.length;$e++)Ie.push(U.charAt($e)),$e<K.length&&Ie.push(K.charAt($e));return Ie.join("")}function $n(U){return Ri.create("missing-app-config-values",{valueName:U})}fn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vn{constructor(K,Ie,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Lt=function In(U){if(!U||!U.options)throw $n("App Configuration Object");if(!U.name)throw $n("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:Ie}=U;for(const $e of K)if(!Ie[$e])throw $n($e);return{appName:U.name,projectId:Ie.projectId,apiKey:Ie.apiKey,appId:Ie.appId,senderId:Ie.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:Lt,installations:Ie,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function ri(){return(ri=(0,ce.A)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(ht,{scope:oe}),U.swRegistration.update().catch(()=>{})}catch(K){throw Ri.create("failed-service-worker-registration",{browserErrorMessage:null==K?void 0:K.message})}})).apply(this,arguments)}function Kr(){return(Kr=(0,ce.A)(function*(U,K){if(!K&&!U.swRegistration&&(yield function Br(U){return ri.apply(this,arguments)}(U)),K||!U.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw Ri.create("invalid-sw-registration");U.swRegistration=K}})).apply(this,arguments)}function ao(){return(ao=(0,ce.A)(function*(U,K){K?U.vapidKey=K:U.vapidKey||(U.vapidKey=re)})).apply(this,arguments)}function Xi(U,K){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,ce.A)(function*(U,K){if(!navigator)throw Ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ri.create("permission-blocked");return yield function Qr(U,K){return ao.apply(this,arguments)}(U,null==K?void 0:K.vapidKey),yield function Wr(U,K){return Kr.apply(this,arguments)}(U,null==K?void 0:K.serviceWorkerRegistration),function Ho(U){return Gr.apply(this,arguments)}(U)}),Sn.apply(this,arguments)}function Hi(){return(Hi=(0,ce.A)(function*(U,K,Ie){const $e=function $s(U){switch(U){case pi.NOTIFICATION_CLICKED:return"notification_open";case pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(K);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:Ie[Pt],message_name:Ie[an],message_time:Ie[vn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lo(){return Lo=(0,ce.A)(function*(U,K){const Ie=K.data;if(!Ie.isFirebaseMessaging)return;U.onMessageHandler&&Ie.messageType===pi.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(vt(Ie)):U.onMessageHandler.next(vt(Ie)));const $e=Ie.data;(function en(U){return"object"==typeof U&&!!U&&Pt in U})($e)&&"1"===$e["google.c.a.e"]&&(yield function Fo(U,K,Ie){return Hi.apply(this,arguments)}(U,Ie.messageType,$e))}),Lo.apply(this,arguments)}const Vo="@firebase/messaging",wo="0.12.10",lo=U=>{const K=new Vn(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ie=>function na(U,K){return Lo.apply(this,arguments)}(K,Ie)),K},Uo=U=>{const K=U.getProvider("messaging").getImmediate();return{getToken:$e=>Xi(K,$e)}};function Ni(){return(Ni=(0,ce.A)(function*(){try{yield(0,He.eX)()}catch{return!1}return typeof window<"u"&&(0,He.zW)()&&(0,He.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Rr(){return(Rr=(0,ce.A)(function*(U,K){return Xi(U=(0,He.Ku)(U),K)})).apply(this,arguments)}!function So(){(0,Ce._registerComponent)(new xe.uA("messaging",lo,"PUBLIC")),(0,Ce._registerComponent)(new xe.uA("messaging-internal",Uo,"PRIVATE")),(0,Ce.registerVersion)(Vo,wo),(0,Ce.registerVersion)(Vo,wo,"esm2017")}();const rr_firebaseConfig={apiKey:"AIzaSyD-VNGBKhkFxVbtWM7YTPBr3RpQ4sHeGnw",authDomain:"delivery-app-a40fe.firebaseapp.com",databaseURL:"https://delivery-app-a40fe-default-rtdb.firebaseio.com",projectId:"delivery-app-a40fe",storageBucket:"delivery-app-a40fe.appspot.com",messagingSenderId:"960555729586",appId:"1:960555729586:web:8e8e487850070fd55b7fab",measurementId:"G-J1Z146XX67"};var Yr=P(2214),ra=P(1635),er=P(1985),ms=P(3726),uo={error:"cordova_not_available"},gl={error:"plugin_not_installed"};function Ts(U){if(typeof window<"u"&&window.angular){var Ie=window.document,$e=window.angular.element(Ie.querySelector("[ng-app]")||Ie.body).injector();if($e)return $e.get("$q")(function(Wt,wn){U(Wt,wn)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Wt,wn){U(Wt,wn)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function vl(U,K,Ie){var $e,Lt;"string"==typeof U?$e=U:($e=U.constructor.getPluginRef(),Ie=U.constructor.getPluginName(),Lt=U.constructor.getPluginInstallName());var Wt=te($e);return!(!Wt||K&&typeof Wt[K]>"u")||(typeof window>"u"||!window.cordova?(function ln(U,K){typeof process>"u"&&console.warn(K?"Native: tried calling "+U+"."+K+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+U+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Ie,K),uo):(function ue(U,K,Ie){console.warn(Ie?"Native: tried calling "+U+"."+Ie+", but the "+U+" plugin is not installed.":"Native: tried accessing the "+U+" plugin but it's not installed."),K&&console.warn("Install the "+U+" plugin: 'ionic cordova plugin add "+K+"'")}(Ie,Lt,K),gl))}function z(U,K,Ie,$e,Lt,Wt){void 0===$e&&($e={}),Ie=function qa(U,K,Ie,$e){if(void 0===K&&(K={}),K.sync)return U;if("reverse"===K.callbackOrder)U.unshift($e),U.unshift(Ie);else if("node"===K.callbackStyle)U.push(function(Yn,zn){Yn?$e(Yn):Ie(zn)});else if("object"===K.callbackStyle&&K.successName&&K.errorName){var Lt={};Lt[K.successName]=Ie,Lt[K.errorName]=$e,U.push(Lt)}else if(typeof K.successIndex<"u"||typeof K.errorIndex<"u"){var Wt=function(){K.successIndex>U.length?U[K.successIndex]=Ie:U.splice(K.successIndex,0,Ie)},wn=function(){K.errorIndex>U.length?U[K.errorIndex]=$e:U.splice(K.errorIndex,0,$e)};K.successIndex>K.errorIndex?(wn(),Wt()):(Wt(),wn())}else U.push(Ie),U.push($e);return U}(Ie,$e,Lt,Wt);var wn=vl(U,K);if(!0===wn){var Yn=te(U.constructor.getPluginRef());return Yn[K].apply(Yn,Ie)}return wn}function te(U){return typeof window<"u"?$(window,U):null}function $(U,K){for(var Ie=K.split("."),$e=U,Lt=0;Lt<Ie.length;Lt++){if(!$e)return null;$e=$e[Ie[Lt]]}return $e}var Er=function(){function U(){}return U.installed=function(){return!0===vl(this.pluginRef)},U.getPlugin=function(){return typeof window<"u"?function zi(U,K){for(var Ie=K.split("."),$e=U,Lt=0;Lt<Ie.length;Lt++){if(!$e)return null;$e=$e[Ie[Lt]]}return $e}(window,this.pluginRef):null},U.getPluginName=function(){return this.pluginName},U.getPluginRef=function(){return this.pluginRef},U.getPluginInstallName=function(){return this.plugin},U.getSupportedPlatforms=function(){return this.platforms},U.pluginName="",U.pluginRef="",U.plugin="",U.repo="",U.platforms=[],U.install="",U}();function ho(U,K,Ie,$e){return function(U,K,Ie){return void 0===Ie&&(Ie={}),function(){for(var $e=[],Lt=0;Lt<arguments.length;Lt++)$e[Lt]=arguments[Lt];return Ie.sync?z(U,K,$e,Ie):Ie.observable?function ml(U,K,Ie,$e){return void 0===$e&&($e={}),new er.c(function(Lt){var Wt;return Wt=$e.destruct?z(U,K,Ie,$e,function(){for(var wn=[],Yn=0;Yn<arguments.length;Yn++)wn[Yn]=arguments[Yn];return Lt.next(wn)},function(){for(var wn=[],Yn=0;Yn<arguments.length;Yn++)wn[Yn]=arguments[Yn];return Lt.error(wn)}):z(U,K,Ie,$e,Lt.next.bind(Lt),Lt.error.bind(Lt)),Wt&&Wt.error&&(Lt.error(Wt.error),Lt.complete()),function(){try{if($e.clearFunction)return $e.clearWithArgs?z(U,$e.clearFunction,Ie,$e,Lt.next.bind(Lt),Lt.error.bind(Lt)):z(U,$e.clearFunction,[])}catch(wn){console.warn("Unable to clear the previous observable watch for",U.constructor.getPluginName(),K),console.warn(wn)}}})}(U,K,$e,Ie):Ie.eventObservable&&Ie.event?function zl(U,K){return K=typeof window<"u"&&K?$(window,K):K||(typeof window<"u"?window:{}),(0,ms.R)(K,U)}(Ie.event,Ie.element):Ie.otherPromise?function Ro(U,K,Ie,$e){return void 0===$e&&($e={}),Ts(function(Lt,Wt){var wn=z(U,K,Ie,$e);wn?wn.error?Wt(wn.error):wn.then&&wn.then(Lt).catch(Wt):Wt({error:"unexpected_error"})})}(U,K,$e,Ie):function ti(U,K,Ie,$e){void 0===$e&&($e={});var Lt,Wt,wn=Ts(function(Yn,zn){Lt=$e.destruct?z(U,K,Ie,$e,function(){for(var Dn=[],Dr=0;Dr<arguments.length;Dr++)Dn[Dr]=arguments[Dr];return Yn(Dn)},function(){for(var Dn=[],Dr=0;Dr<arguments.length;Dr++)Dn[Dr]=arguments[Dr];return zn(Dn)}):z(U,K,Ie,$e,Yn,zn),Wt=zn});return Lt&&Lt.error&&(wn.catch(function(){}),"function"==typeof Wt&&Wt(Lt.error)),wn}(U,K,$e,Ie)}}(U,K,Ie).apply(this,$e)}!function Cs(){if(typeof process>"u"){var U=typeof window<"u"?window:{},Ie=Date.now(),$e=!1;U.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Ie)+" ms"),$e=!0}),setTimeout(function(){!$e&&U.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var js=function(U){function K(){return null!==U&&U.apply(this,arguments)||this}return(0,ra.C6)(K,U),K.prototype.getAPNSToken=function(){return ho(this,"getAPNSToken",{},arguments)},K.prototype.getToken=function(){return ho(this,"getToken",{},arguments)},K.prototype.onTokenRefresh=function(){return ho(this,"onTokenRefresh",{observable:!0},arguments)},K.prototype.subscribeToTopic=function(Ie){return ho(this,"subscribeToTopic",{},arguments)},K.prototype.unsubscribeFromTopic=function(Ie){return ho(this,"unsubscribeFromTopic",{},arguments)},K.prototype.hasPermission=function(){return ho(this,"hasPermission",{},arguments)},K.prototype.onNotification=function(){return ho(this,"onNotification",{observable:!0,successIndex:0,errorIndex:2},arguments)},K.prototype.clearAllNotifications=function(){return ho(this,"clearAllNotifications",{},arguments)},K.prototype.requestPushPermissionIOS=function(Ie){return ho(this,"requestPushPermissionIOS",{},arguments)},K.prototype.createNotificationChannelAndroid=function(Ie){return ho(this,"createNotificationChannelAndroid",{},arguments)},K.\u0275fac=(()=>{let Ie;return function(Lt){return(Ie||(Ie=f.xGo(K)))(Lt||K)}})(),K.\u0275prov=f.jDH({token:K,factory:K.\u0275fac}),K.pluginName="FCM",K.plugin="cordova-plugin-fcm-with-dependecy-updated",K.pluginRef="FCMPlugin",K.repo="https://github.com/andrehtissot/cordova-plugin-fcm-with-dependecy-updated",K.platforms=["Android","iOS"],K=(0,ra.Cg)([],K)}(Er);let Ds=(()=>{var U;class K{constructor($e,Lt){this.fcm=$e,this.platform=Lt,this.initializeFCM()}initializeFCM(){const Lt=function Ka(U=(0,Ce.getApp)()){return function va(){return Ni.apply(this,arguments)}().then(K=>{if(!K)throw Ri.create("unsupported-browser")},K=>{throw Ri.create("indexed-db-unsupported")}),(0,Ce._getProvider)((0,He.Ku)(U),"messaging").getImmediate()}((0,Yr.Wp)(rr_firebaseConfig));Notification.requestPermission().then(Wt=>{"granted"===Wt?(console.log("Notification permission granted."),function gs(U,K){return Rr.apply(this,arguments)}(Lt,{vapidKey:"BH-ICku7RaHXyOff5G_GT5XxEiltiXXbG6HdIT5IyDF8JzjiaRHSPocLulnqCJJB0cjhD_vlt2uRGR9z-cyn9v4"}).then(wn=>{wn?console.log("FCM Token:",wn):console.log("No registration token available.")}).catch(wn=>{console.error("An error occurred while retrieving token.",wn)})):console.error("Unable to get permission to notify.")}),function Di(U,K){return function ei(U,K){if(!navigator)throw Ri.create("only-available-in-window");return U.onMessageHandler=K,()=>{U.onMessageHandler=null}}(U=(0,He.Ku)(U),K)}(Lt,Wt=>{console.log("Message received. ",Wt)})}}return(U=K).\u0275fac=function($e){return new($e||U)(f.rXU(js),f.rXU(J.OD))},U.\u0275cmp=f.VBU({type:U,selectors:[["app-root"]],decls:2,vars:0,template:function($e,Lt){1&$e&&(f.j41(0,"ion-app"),f.nrm(1,"ion-router-outlet"),f.k0s())},dependencies:[le.U1,le.Rg]}),K})();const ya=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([P.e(2076),P.e(5075)]).then(P.bind(P,5075)).then(U=>U.HomePageModule)},{path:"pages",loadChildren:()=>P.e(49).then(P.bind(P,49)).then(U=>U.PagesPageModule)}];let sa=(()=>{var U;class K{}return(U=K).\u0275fac=function($e){return new($e||U)},U.\u0275mod=f.$C({type:U}),U.\u0275inj=f.G2t({imports:[Y.iI.forRoot(ya,{preloadingStrategy:Y.Kp}),Y.iI]}),K})();var Ea=P(9253),dr=P(8079),ns=P(4341),bs=P(177),yl=P(9030),Oa=P(8810),Gl=P(7673),Go=P(8793),pu=P(1413),Wo=P(5343);const ws=new er.c(Wo.l);var Ia=P(7786),yo=P(8455),Ss=P(6354),rs=P(5964),Aa=P(5558),is=P(17),_r=P(8071),Xa=P(8750),pr=P(9974);const Uu={connector:()=>new pu.B};function Rs(U,K=Uu){const{connector:Ie}=K;return(0,pr.N)(($e,Lt)=>{const Wt=Ie();(0,Xa.Tg)(U(function Zr(U){return new er.c(K=>U.subscribe(K))}(Wt))).subscribe(Lt),Lt.add($e.subscribe(Wt))})}var Yo=P(6697),xa=P(8141),Tr=P(3236),Ko=P(4360),li=P(3703),Al=P(1397);function Ca(U,K){return K?Ie=>(0,Go.x)(K.pipe((0,Yo.s)(1),function Il(){return(0,pr.N)((U,K)=>{U.subscribe((0,Ko._)(K,Wo.l))})}()),Ie.pipe(Ca(U))):(0,Al.Z)((Ie,$e)=>(0,Xa.Tg)(U(Ie,$e)).pipe((0,Yo.s)(1),(0,li.u)(Ie)))}var D=P(9470);const pe="Service workers are disabled or not supported by this browser";class $t{constructor(K){if(this.serviceWorker=K,K){const $e=(0,ms.R)(K,"controllerchange").pipe((0,Ss.T)(()=>K.controller)),Lt=(0,yl.v)(()=>(0,Gl.of)(K.controller)),Wt=(0,Go.x)(Lt,$e);this.worker=Wt.pipe((0,rs.p)(Dr=>!!Dr)),this.registration=this.worker.pipe((0,Aa.n)(()=>K.getRegistration()));const Dn=(0,ms.R)(K,"message").pipe((0,Ss.T)(Dr=>Dr.data)).pipe((0,rs.p)(Dr=>Dr&&Dr.type)).pipe(function El(U){return U?K=>Rs(U)(K):K=>function Qa(U,K){const Ie=(0,_r.T)(U)?U:()=>U;return(0,_r.T)(K)?Rs(K,{connector:Ie}):$e=>new is.G($e,Ie)}(new pu.B)(K)}());Dn.connect(),this.events=Dn}else this.worker=this.events=this.registration=function ke(U){return(0,yl.v)(()=>(0,Oa.$)(new Error(U)))}(pe)}postMessage(K,Ie){return this.worker.pipe((0,Yo.s)(1),(0,xa.M)($e=>{$e.postMessage({action:K,...Ie})})).toPromise().then(()=>{})}postMessageWithOperation(K,Ie,$e){const Lt=this.waitForOperationCompleted($e),Wt=this.postMessage(K,Ie);return Promise.all([Wt,Lt]).then(([,wn])=>wn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(K){let Ie;return Ie="string"==typeof K?$e=>$e.type===K:$e=>K.includes($e.type),this.events.pipe((0,rs.p)(Ie))}nextEventOfType(K){return this.eventsOfType(K).pipe((0,Yo.s)(1))}waitForOperationCompleted(K){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,rs.p)(Ie=>Ie.nonce===K),(0,Yo.s)(1),(0,Ss.T)(Ie=>{if(void 0!==Ie.result)return Ie.result;throw new Error(Ie.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let dn=(()=>{var U;class K{get isEnabled(){return this.sw.isEnabled}constructor($e){if(this.sw=$e,this.pushManager=null,this.subscriptionChanges=new pu.B,!$e.isEnabled)return this.messages=ws,this.notificationClicks=ws,void(this.subscription=ws);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ss.T)(Wt=>Wt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ss.T)(Wt=>Wt.data)),this.pushManager=this.sw.registration.pipe((0,Ss.T)(Wt=>Wt.pushManager));const Lt=this.pushManager.pipe((0,Aa.n)(Wt=>Wt.getSubscription()));this.subscription=(0,Ia.h)(Lt,this.subscriptionChanges)}requestSubscription($e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(pe));const Lt={userVisibleOnly:!0};let Wt=this.decodeBase64($e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),wn=new Uint8Array(new ArrayBuffer(Wt.length));for(let Yn=0;Yn<Wt.length;Yn++)wn[Yn]=Wt.charCodeAt(Yn);return Lt.applicationServerKey=wn,this.pushManager.pipe((0,Aa.n)(Yn=>Yn.subscribe(Lt)),(0,Yo.s)(1)).toPromise().then(Yn=>(this.subscriptionChanges.next(Yn),Yn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Yo.s)(1),(0,Aa.n)(Lt=>{if(null===Lt)throw new Error("Not subscribed to push notifications.");return Lt.unsubscribe().then(Wt=>{if(!Wt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(pe))}decodeBase64($e){return atob($e)}}return(U=K).\u0275fac=function($e){return new($e||U)(f.KVO($t))},U.\u0275prov=f.jDH({token:U,factory:U.\u0275fac}),K})(),fr=(()=>{var U;class K{get isEnabled(){return this.sw.isEnabled}constructor($e){if(this.sw=$e,!$e.isEnabled)return this.versionUpdates=ws,void(this.unrecoverable=ws);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pe));const $e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:$e},$e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pe));const $e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:$e},$e)}}return(U=K).\u0275fac=function($e){return new($e||U)(f.KVO($t))},U.\u0275prov=f.jDH({token:U,factory:U.\u0275fac}),K})();const kr=new f.nKC("");function Mr(U,K,Ie,$e){return()=>{if(!(0,bs.UE)($e)||!("serviceWorker"in navigator)||!1===Ie.enabled)return;const Lt=U.get(f.SKi),Wt=U.get(f.o8S);let wn;if(Lt.runOutsideAngular(()=>{const Yn=navigator.serviceWorker,zn=()=>{var Dn;return null===(Dn=Yn.controller)||void 0===Dn?void 0:Dn.postMessage({action:"INITIALIZE"})};Yn.addEventListener("controllerchange",zn),Wt.onDestroy(()=>{Yn.removeEventListener("controllerchange",zn)})}),"function"==typeof Ie.registrationStrategy)wn=Ie.registrationStrategy();else{const[Yn,...zn]=(Ie.registrationStrategy||"registerWhenStable:30000").split(":");switch(Yn){case"registerImmediately":wn=(0,Gl.of)(null);break;case"registerWithDelay":wn=yr(+zn[0]||0);break;case"registerWhenStable":const Dn=(0,yo.H)(U.get(f.o8S).whenStable());wn=zn[0]?(0,Ia.h)(Dn,yr(+zn[0])):Dn;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Ie.registrationStrategy}`)}}Lt.runOutsideAngular(()=>wn.pipe((0,Yo.s)(1)).subscribe(()=>navigator.serviceWorker.register(K,{scope:Ie.scope}).catch(Yn=>console.error("Service worker registration failed with:",Yn))))}}function yr(U){return(0,Gl.of)(null).pipe(function B(U,K=Tr.E){const Ie=function Re(U=0,K,Ie=Tr.b){let $e=-1;return null!=K&&((0,D.m)(K)?Ie=K:$e=K),new er.c(Lt=>{let Wt=function j(U){return U instanceof Date&&!isNaN(U)}(U)?+U-Ie.now():U;Wt<0&&(Wt=0);let wn=0;return Ie.schedule(function(){Lt.closed||(Lt.next(wn++),0<=$e?this.schedule(void 0,$e):Lt.complete())},Wt)})}(U,K);return Ca(()=>Ie)}(U))}function Ar(U,K){return new $t((0,bs.UE)(K)&&!1!==U.enabled?navigator.serviceWorker:void 0)}class Hr{}function bn(U,K={}){return(0,f.EmA)([dn,fr,{provide:kr,useValue:U},{provide:Hr,useValue:K},{provide:$t,useFactory:Ar,deps:[Hr,f.Agw]},{provide:f.hnV,useFactory:Mr,deps:[f.zZn,kr,Hr,f.Agw],multi:!0}])}let os=(()=>{var U;class K{static register($e,Lt={}){return{ngModule:K,providers:[bn($e,Lt)]}}}return(U=K).\u0275fac=function($e){return new($e||U)},U.\u0275mod=f.$C({type:U}),U.\u0275inj=f.G2t({providers:[dn,fr]}),K})(),bi=(()=>{var U;class K{}return(U=K).\u0275fac=function($e){return new($e||U)},U.\u0275mod=f.$C({type:U,bootstrap:[Ds]}),U.\u0275inj=f.G2t({providers:[{provide:Y.b,useClass:J.jM},js],imports:[ns.YN,d.Bb,le.bv.forRoot(),sa,Ea.bf.initializeApp(rr_firebaseConfig),dr.cM,os.register("ngsw-worker.js",{enabled:!(0,f.naY)(),registrationStrategy:"registerWhenStable:30000"})]}),K})();"serviceWorker"in navigator&&navigator.serviceWorker.register("firebase-messaging-sw.js").then(U=>{console.log("Service Worker registered with scope:",U.scope)}).catch(U=>{console.log("Service Worker registration failed:",U)}),d.sG().bootstrapModule(bi).catch(U=>console.log(U))},4412:(gn,mt,P)=>{"use strict";P.d(mt,{t:()=>f});var d=P(1413);class f extends d.B{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const le=super._subscribe(J);return!le.closed&&J.next(this._value),le}getValue(){const{hasError:J,thrownError:le,_value:ce}=this;if(J)throw le;return this._throwIfClosed(),ce}next(J){super.next(this._value=J)}}},1985:(gn,mt,P)=>{"use strict";P.d(mt,{c:()=>xe});var d=P(7707),f=P(8359),Y=P(3494),J=P(1203),le=P(1026),ce=P(8071),Ce=P(9786);let xe=(()=>{class ze{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const st=new ze;return st.source=this,st.operator=Ge,st}subscribe(Ge,st,_t){const ft=function me(ze){return ze&&ze instanceof d.vU||function ye(ze){return ze&&(0,ce.T)(ze.next)&&(0,ce.T)(ze.error)&&(0,ce.T)(ze.complete)}(ze)&&(0,f.Uv)(ze)}(Ge)?Ge:new d.Ms(Ge,st,_t);return(0,Ce.Y)(()=>{const{operator:tt,source:pt}=this;ft.add(tt?tt.call(ft,pt):pt?this._subscribe(ft):this._trySubscribe(ft))}),ft}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(st){Ge.error(st)}}forEach(Ge,st){return new(st=He(st))((_t,ft)=>{const tt=new d.Ms({next:pt=>{try{Ge(pt)}catch(ct){ft(ct),tt.unsubscribe()}},error:ft,complete:_t});this.subscribe(tt)})}_subscribe(Ge){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(Ge)}[Y.s](){return this}pipe(...Ge){return(0,J.m)(Ge)(this)}toPromise(Ge){return new(Ge=He(Ge))((st,_t)=>{let ft;this.subscribe(tt=>ft=tt,tt=>_t(tt),()=>st(ft))})}}return ze.create=Ke=>new ze(Ke),ze})();function He(ze){var Ke;return null!==(Ke=null!=ze?ze:le.$.Promise)&&void 0!==Ke?Ke:Promise}},1413:(gn,mt,P)=>{"use strict";P.d(mt,{B:()=>Ce});var d=P(1985),f=P(8359);const J=(0,P(1853).L)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=P(7908),ce=P(9786);let Ce=(()=>{class He extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const ze=new xe(this,this);return ze.operator=me,ze}_throwIfClosed(){if(this.closed)throw new J}next(me){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(me)}})}error(me){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:ze}=this;for(;ze.length;)ze.shift().error(me)}})}complete(){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:ze,isStopped:Ke,observers:Ge}=this;return ze||Ke?f.Kn:(this.currentObservers=null,Ge.push(me),new f.yU(()=>{this.currentObservers=null,(0,le.o)(Ge,me)}))}_checkFinalizedStatuses(me){const{hasError:ze,thrownError:Ke,isStopped:Ge}=this;ze?me.error(Ke):Ge&&me.complete()}asObservable(){const me=new d.c;return me.source=this,me}}return He.create=(ye,me)=>new xe(ye,me),He})();class xe extends Ce{constructor(ye,me){super(),this.destination=ye,this.source=me}next(ye){var me,ze;null===(ze=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===ze||ze.call(me,ye)}error(ye){var me,ze;null===(ze=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===ze||ze.call(me,ye)}complete(){var ye,me;null===(me=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===me||me.call(ye)}_subscribe(ye){var me,ze;return null!==(ze=null===(me=this.source)||void 0===me?void 0:me.subscribe(ye))&&void 0!==ze?ze:f.Kn}}},7707:(gn,mt,P)=>{"use strict";P.d(mt,{Ms:()=>_t,vU:()=>ze});var d=P(8071),f=P(8359),Y=P(1026),J=P(5334),le=P(5343);const ce=He("C",void 0,void 0);function He(Ee,Ne,Ve){return{kind:Ee,value:Ne,error:Ve}}var ye=P(9270),me=P(9786);class ze extends f.yU{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,f.Uv)(Ne)&&Ne.add(this)):this.destination=ct}static create(Ne,Ve,nt){return new _t(Ne,Ve,nt)}next(Ne){this.isStopped?pt(function xe(Ee){return He("N",Ee,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?pt(function Ce(Ee){return He("E",void 0,Ee)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?pt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ge(Ee,Ne){return Ke.call(Ee,Ne)}class st{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Ne)}catch(nt){ft(nt)}}error(Ne){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Ne)}catch(nt){ft(nt)}else ft(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Ve){ft(Ve)}}}class _t extends ze{constructor(Ne,Ve,nt){let Je;if(super(),(0,d.T)(Ne)||!Ne)Je={next:null!=Ne?Ne:void 0,error:null!=Ve?Ve:void 0,complete:null!=nt?nt:void 0};else{let qe;this&&Y.$.useDeprecatedNextContext?(qe=Object.create(Ne),qe.unsubscribe=()=>this.unsubscribe(),Je={next:Ne.next&&Ge(Ne.next,qe),error:Ne.error&&Ge(Ne.error,qe),complete:Ne.complete&&Ge(Ne.complete,qe)}):Je=Ne}this.destination=new st(Je)}}function ft(Ee){Y.$.useDeprecatedSynchronousErrorHandling?(0,me.l)(Ee):(0,J.m)(Ee)}function pt(Ee,Ne){const{onStoppedNotification:Ve}=Y.$;Ve&&ye.f.setTimeout(()=>Ve(Ee,Ne))}const ct={closed:!0,next:le.l,error:function tt(Ee){throw Ee},complete:le.l}},8359:(gn,mt,P)=>{"use strict";P.d(mt,{Kn:()=>ce,yU:()=>le,Uv:()=>Ce});var d=P(8071);const Y=(0,P(1853).L)(He=>function(me){He(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((ze,Ke)=>`${Ke+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var J=P(7908);class le{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Ge of me)Ge.remove(this);else me.remove(this);const{initialTeardown:ze}=this;if((0,d.T)(ze))try{ze()}catch(Ge){ye=Ge instanceof Y?Ge.errors:[Ge]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ge of Ke)try{xe(Ge)}catch(st){ye=null!=ye?ye:[],st instanceof Y?ye=[...ye,...st.errors]:ye.push(st)}}if(ye)throw new Y(ye)}}add(ye){var me;if(ye&&ye!==this)if(this.closed)xe(ye);else{if(ye instanceof le){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ye)}}_hasParent(ye){const{_parentage:me}=this;return me===ye||Array.isArray(me)&&me.includes(ye)}_addParent(ye){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ye),me):me?[me,ye]:ye}_removeParent(ye){const{_parentage:me}=this;me===ye?this._parentage=null:Array.isArray(me)&&(0,J.o)(me,ye)}remove(ye){const{_finalizers:me}=this;me&&(0,J.o)(me,ye),ye instanceof le&&ye._removeParent(this)}}le.EMPTY=(()=>{const He=new le;return He.closed=!0,He})();const ce=le.EMPTY;function Ce(He){return He instanceof le||He&&"closed"in He&&(0,d.T)(He.remove)&&(0,d.T)(He.add)&&(0,d.T)(He.unsubscribe)}function xe(He){(0,d.T)(He)?He():He.unsubscribe()}},1026:(gn,mt,P)=>{"use strict";P.d(mt,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(gn,mt,P)=>{"use strict";P.d(mt,{G:()=>ce});var d=P(1985),f=P(8359),Y=P(9898),J=P(4360),le=P(9974);class ce extends d.c{constructor(xe,He){super(),this.source=xe,this.subjectFactory=He,this._subject=null,this._refCount=0,this._connection=null,(0,le.S)(xe)&&(this.lift=xe.lift)}_subscribe(xe){return this.getSubject().subscribe(xe)}getSubject(){const xe=this._subject;return(!xe||xe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:xe}=this;this._subject=this._connection=null,null==xe||xe.unsubscribe()}connect(){let xe=this._connection;if(!xe){xe=this._connection=new f.yU;const He=this.getSubject();xe.add(this.source.subscribe((0,J._)(He,void 0,()=>{this._teardown(),He.complete()},ye=>{this._teardown(),He.error(ye)},()=>this._teardown()))),xe.closed&&(this._connection=null,xe=f.yU.EMPTY)}return xe}refCount(){return(0,Y.B)()(this)}}},4572:(gn,mt,P)=>{"use strict";P.d(mt,{z:()=>ye});var d=P(1985),f=P(3073),Y=P(8455),J=P(3669),le=P(6450),ce=P(9326),Ce=P(8496),xe=P(4360),He=P(5225);function ye(...Ke){const Ge=(0,ce.lI)(Ke),st=(0,ce.ms)(Ke),{args:_t,keys:ft}=(0,f.D)(Ke);if(0===_t.length)return(0,Y.H)([],Ge);const tt=new d.c(function me(Ke,Ge,st=J.D){return _t=>{ze(Ge,()=>{const{length:ft}=Ke,tt=new Array(ft);let pt=ft,ct=ft;for(let Ee=0;Ee<ft;Ee++)ze(Ge,()=>{const Ne=(0,Y.H)(Ke[Ee],Ge);let Ve=!1;Ne.subscribe((0,xe._)(_t,nt=>{tt[Ee]=nt,Ve||(Ve=!0,ct--),ct||_t.next(st(tt.slice()))},()=>{--pt||_t.complete()}))},_t)},_t)}}(_t,Ge,ft?pt=>(0,Ce.e)(ft,pt):J.D));return st?tt.pipe((0,le.I)(st)):tt}function ze(Ke,Ge,st){Ke?(0,He.N)(st,Ke,Ge):Ge()}},8793:(gn,mt,P)=>{"use strict";P.d(mt,{x:()=>le});var d=P(6365),Y=P(9326),J=P(8455);function le(...ce){return function f(){return(0,d.U)(1)}()((0,J.H)(ce,(0,Y.lI)(ce)))}},9030:(gn,mt,P)=>{"use strict";P.d(mt,{v:()=>Y});var d=P(1985),f=P(8750);function Y(J){return new d.c(le=>{(0,f.Tg)(J()).subscribe(le)})}},983:(gn,mt,P)=>{"use strict";P.d(mt,{w:()=>f});const f=new(P(1985).c)(le=>le.complete())},8455:(gn,mt,P)=>{"use strict";P.d(mt,{H:()=>Ne});var d=P(8750),f=P(941),Y=P(6745),ce=P(1985),xe=P(4761),He=P(8071),ye=P(5225);function ze(Ve,nt){if(!Ve)throw new Error("Iterable cannot be null");return new ce.c(Je=>{(0,ye.N)(Je,nt,()=>{const qe=Ve[Symbol.asyncIterator]();(0,ye.N)(Je,nt,()=>{qe.next().then(Se=>{Se.done?Je.complete():Je.next(Se.value)})},0,!0)})})}var Ke=P(5055),Ge=P(9858),st=P(7441),_t=P(5397),ft=P(7953),tt=P(591),pt=P(5196);function Ne(Ve,nt){return nt?function Ee(Ve,nt){if(null!=Ve){if((0,Ke.l)(Ve))return function J(Ve,nt){return(0,d.Tg)(Ve).pipe((0,Y._)(nt),(0,f.Q)(nt))}(Ve,nt);if((0,st.X)(Ve))return function Ce(Ve,nt){return new ce.c(Je=>{let qe=0;return nt.schedule(function(){qe===Ve.length?Je.complete():(Je.next(Ve[qe++]),Je.closed||this.schedule())})})}(Ve,nt);if((0,Ge.y)(Ve))return function le(Ve,nt){return(0,d.Tg)(Ve).pipe((0,Y._)(nt),(0,f.Q)(nt))}(Ve,nt);if((0,ft.T)(Ve))return ze(Ve,nt);if((0,_t.x)(Ve))return function me(Ve,nt){return new ce.c(Je=>{let qe;return(0,ye.N)(Je,nt,()=>{qe=Ve[xe.l](),(0,ye.N)(Je,nt,()=>{let Se,Me;try{({value:Se,done:Me}=qe.next())}catch(kt){return void Je.error(kt)}Me?Je.complete():Je.next(Se)},0,!0)}),()=>(0,He.T)(null==qe?void 0:qe.return)&&qe.return()})}(Ve,nt);if((0,pt.U)(Ve))return function ct(Ve,nt){return ze((0,pt.C)(Ve),nt)}(Ve,nt)}throw(0,tt.L)(Ve)}(Ve,nt):(0,d.Tg)(Ve)}},3726:(gn,mt,P)=>{"use strict";P.d(mt,{R:()=>ye});var d=P(8750),f=P(1985),Y=P(1397),J=P(7441),le=P(8071),ce=P(6450);const Ce=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],He=["on","off"];function ye(st,_t,ft,tt){if((0,le.T)(ft)&&(tt=ft,ft=void 0),tt)return ye(st,_t,ft).pipe((0,ce.I)(tt));const[pt,ct]=function Ge(st){return(0,le.T)(st.addEventListener)&&(0,le.T)(st.removeEventListener)}(st)?xe.map(Ee=>Ne=>st[Ee](_t,Ne,ft)):function ze(st){return(0,le.T)(st.addListener)&&(0,le.T)(st.removeListener)}(st)?Ce.map(me(st,_t)):function Ke(st){return(0,le.T)(st.on)&&(0,le.T)(st.off)}(st)?He.map(me(st,_t)):[];if(!pt&&(0,J.X)(st))return(0,Y.Z)(Ee=>ye(Ee,_t,ft))((0,d.Tg)(st));if(!pt)throw new TypeError("Invalid event target");return new f.c(Ee=>{const Ne=(...Ve)=>Ee.next(1<Ve.length?Ve:Ve[0]);return pt(Ne),()=>ct(Ne)})}function me(st,_t){return ft=>tt=>st[ft](_t,tt)}},8750:(gn,mt,P)=>{"use strict";P.d(mt,{Tg:()=>Ke});var d=P(1635),f=P(7441),Y=P(9858),J=P(1985),le=P(5055),ce=P(7953),Ce=P(591),xe=P(5397),He=P(5196),ye=P(8071),me=P(5334),ze=P(3494);function Ke(Ee){if(Ee instanceof J.c)return Ee;if(null!=Ee){if((0,le.l)(Ee))return function Ge(Ee){return new J.c(Ne=>{const Ve=Ee[ze.s]();if((0,ye.T)(Ve.subscribe))return Ve.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,f.X)(Ee))return function st(Ee){return new J.c(Ne=>{for(let Ve=0;Ve<Ee.length&&!Ne.closed;Ve++)Ne.next(Ee[Ve]);Ne.complete()})}(Ee);if((0,Y.y)(Ee))return function _t(Ee){return new J.c(Ne=>{Ee.then(Ve=>{Ne.closed||(Ne.next(Ve),Ne.complete())},Ve=>Ne.error(Ve)).then(null,me.m)})}(Ee);if((0,ce.T)(Ee))return tt(Ee);if((0,xe.x)(Ee))return function ft(Ee){return new J.c(Ne=>{for(const Ve of Ee)if(Ne.next(Ve),Ne.closed)return;Ne.complete()})}(Ee);if((0,He.U)(Ee))return function pt(Ee){return tt((0,He.C)(Ee))}(Ee)}throw(0,Ce.L)(Ee)}function tt(Ee){return new J.c(Ne=>{(function ct(Ee,Ne){var Ve,nt,Je,qe;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Ve=(0,d.xN)(Ee);!(nt=yield Ve.next()).done;)if(Ne.next(nt.value),Ne.closed)return}catch(Se){Je={error:Se}}finally{try{nt&&!nt.done&&(qe=Ve.return)&&(yield qe.call(Ve))}finally{if(Je)throw Je.error}}Ne.complete()})})(Ee,Ne).catch(Ve=>Ne.error(Ve))})}},7786:(gn,mt,P)=>{"use strict";P.d(mt,{h:()=>ce});var d=P(6365),f=P(8750),Y=P(983),J=P(9326),le=P(8455);function ce(...Ce){const xe=(0,J.lI)(Ce),He=(0,J.R0)(Ce,1/0),ye=Ce;return ye.length?1===ye.length?(0,f.Tg)(ye[0]):(0,d.U)(He)((0,le.H)(ye,xe)):Y.w}},7673:(gn,mt,P)=>{"use strict";P.d(mt,{of:()=>Y});var d=P(9326),f=P(8455);function Y(...J){const le=(0,d.lI)(J);return(0,f.H)(J,le)}},8810:(gn,mt,P)=>{"use strict";P.d(mt,{$:()=>Y});var d=P(1985),f=P(8071);function Y(J,le){const ce=(0,f.T)(J)?J:()=>J,Ce=xe=>xe.error(ce());return new d.c(le?xe=>le.schedule(Ce,0,xe):Ce)}},4360:(gn,mt,P)=>{"use strict";P.d(mt,{_:()=>f});var d=P(7707);function f(J,le,ce,Ce,xe){return new Y(J,le,ce,Ce,xe)}class Y extends d.vU{constructor(le,ce,Ce,xe,He,ye){super(le),this.onFinalize=He,this.shouldUnsubscribe=ye,this._next=ce?function(me){try{ce(me)}catch(ze){le.error(ze)}}:super._next,this._error=xe?function(me){try{xe(me)}catch(ze){le.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(me){le.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},9901:(gn,mt,P)=>{"use strict";P.d(mt,{U:()=>Y});var d=P(9974),f=P(4360);function Y(J){return(0,d.N)((le,ce)=>{let Ce=!1;le.subscribe((0,f._)(ce,xe=>{Ce=!0,ce.next(xe)},()=>{Ce||ce.next(J),ce.complete()}))})}},3294:(gn,mt,P)=>{"use strict";P.d(mt,{F:()=>J});var d=P(3669),f=P(9974),Y=P(4360);function J(ce,Ce=d.D){return ce=null!=ce?ce:le,(0,f.N)((xe,He)=>{let ye,me=!0;xe.subscribe((0,Y._)(He,ze=>{const Ke=Ce(ze);(me||!ce(ye,Ke))&&(me=!1,ye=Ke,He.next(ze))}))})}function le(ce,Ce){return ce===Ce}},5964:(gn,mt,P)=>{"use strict";P.d(mt,{p:()=>Y});var d=P(9974),f=P(4360);function Y(J,le){return(0,d.N)((ce,Ce)=>{let xe=0;ce.subscribe((0,f._)(Ce,He=>J.call(le,He,xe++)&&Ce.next(He)))})}},1594:(gn,mt,P)=>{"use strict";P.d(mt,{$:()=>Ce});var d=P(9350),f=P(5964),Y=P(6697),J=P(9901),le=P(3774),ce=P(3669);function Ce(xe,He){const ye=arguments.length>=2;return me=>me.pipe(xe?(0,f.p)((ze,Ke)=>xe(ze,Ke,me)):ce.D,(0,Y.s)(1),ye?(0,J.U)(He):(0,le.v)(()=>new d.G))}},6354:(gn,mt,P)=>{"use strict";P.d(mt,{T:()=>Y});var d=P(9974),f=P(4360);function Y(J,le){return(0,d.N)((ce,Ce)=>{let xe=0;ce.subscribe((0,f._)(Ce,He=>{Ce.next(J.call(le,He,xe++))}))})}},3703:(gn,mt,P)=>{"use strict";P.d(mt,{u:()=>f});var d=P(6354);function f(Y){return(0,d.T)(()=>Y)}},6365:(gn,mt,P)=>{"use strict";P.d(mt,{U:()=>Y});var d=P(1397),f=P(3669);function Y(J=1/0){return(0,d.Z)(f.D,J)}},1397:(gn,mt,P)=>{"use strict";P.d(mt,{Z:()=>xe});var d=P(6354),f=P(8750),Y=P(9974),J=P(5225),le=P(4360),Ce=P(8071);function xe(He,ye,me=1/0){return(0,Ce.T)(ye)?xe((ze,Ke)=>(0,d.T)((Ge,st)=>ye(ze,Ge,Ke,st))((0,f.Tg)(He(ze,Ke))),me):("number"==typeof ye&&(me=ye),(0,Y.N)((ze,Ke)=>function ce(He,ye,me,ze,Ke,Ge,st,_t){const ft=[];let tt=0,pt=0,ct=!1;const Ee=()=>{ct&&!ft.length&&!tt&&ye.complete()},Ne=nt=>tt<ze?Ve(nt):ft.push(nt),Ve=nt=>{Ge&&ye.next(nt),tt++;let Je=!1;(0,f.Tg)(me(nt,pt++)).subscribe((0,le._)(ye,qe=>{null==Ke||Ke(qe),Ge?Ne(qe):ye.next(qe)},()=>{Je=!0},void 0,()=>{if(Je)try{for(tt--;ft.length&&tt<ze;){const qe=ft.shift();st?(0,J.N)(ye,st,()=>Ve(qe)):Ve(qe)}Ee()}catch(qe){ye.error(qe)}}))};return He.subscribe((0,le._)(ye,Ne,()=>{ct=!0,Ee()})),()=>{null==_t||_t()}}(ze,Ke,He,me)))}},941:(gn,mt,P)=>{"use strict";P.d(mt,{Q:()=>J});var d=P(5225),f=P(9974),Y=P(4360);function J(le,ce=0){return(0,f.N)((Ce,xe)=>{Ce.subscribe((0,Y._)(xe,He=>(0,d.N)(xe,le,()=>xe.next(He),ce),()=>(0,d.N)(xe,le,()=>xe.complete(),ce),He=>(0,d.N)(xe,le,()=>xe.error(He),ce)))})}},9898:(gn,mt,P)=>{"use strict";P.d(mt,{B:()=>Y});var d=P(9974),f=P(4360);function Y(){return(0,d.N)((J,le)=>{let ce=null;J._refCount++;const Ce=(0,f._)(le,void 0,void 0,void 0,()=>{if(!J||J._refCount<=0||0<--J._refCount)return void(ce=null);const xe=J._connection,He=ce;ce=null,xe&&(!He||xe===He)&&xe.unsubscribe(),le.unsubscribe()});J.subscribe(Ce),Ce.closed||(ce=J.connect())})}},2816:(gn,mt,P)=>{"use strict";P.d(mt,{S:()=>J});var d=P(9974),f=P(4360);function J(le,ce){return(0,d.N)(function Y(le,ce,Ce,xe,He){return(ye,me)=>{let ze=Ce,Ke=ce,Ge=0;ye.subscribe((0,f._)(me,st=>{const _t=Ge++;Ke=ze?le(Ke,st,_t):(ze=!0,st),xe&&me.next(Ke)},He&&(()=>{ze&&me.next(Ke),me.complete()})))}}(le,ce,arguments.length>=2,!0))}},9172:(gn,mt,P)=>{"use strict";P.d(mt,{Z:()=>J});var d=P(8793),f=P(9326),Y=P(9974);function J(...le){const ce=(0,f.lI)(le);return(0,Y.N)((Ce,xe)=>{(ce?(0,d.x)(le,Ce,ce):(0,d.x)(le,Ce)).subscribe(xe)})}},6745:(gn,mt,P)=>{"use strict";P.d(mt,{_:()=>f});var d=P(9974);function f(Y,J=0){return(0,d.N)((le,ce)=>{ce.add(Y.schedule(()=>le.subscribe(ce),J))})}},5558:(gn,mt,P)=>{"use strict";P.d(mt,{n:()=>J});var d=P(8750),f=P(9974),Y=P(4360);function J(le,ce){return(0,f.N)((Ce,xe)=>{let He=null,ye=0,me=!1;const ze=()=>me&&!He&&xe.complete();Ce.subscribe((0,Y._)(xe,Ke=>{null==He||He.unsubscribe();let Ge=0;const st=ye++;(0,d.Tg)(le(Ke,st)).subscribe(He=(0,Y._)(xe,_t=>xe.next(ce?ce(Ke,_t,st,Ge++):_t),()=>{He=null,ze()}))},()=>{me=!0,ze()}))})}},6697:(gn,mt,P)=>{"use strict";P.d(mt,{s:()=>J});var d=P(983),f=P(9974),Y=P(4360);function J(le){return le<=0?()=>d.w:(0,f.N)((ce,Ce)=>{let xe=0;ce.subscribe((0,Y._)(Ce,He=>{++xe<=le&&(Ce.next(He),le<=xe&&Ce.complete())}))})}},8141:(gn,mt,P)=>{"use strict";P.d(mt,{M:()=>le});var d=P(8071),f=P(9974),Y=P(4360),J=P(3669);function le(ce,Ce,xe){const He=(0,d.T)(ce)||Ce||xe?{next:ce,error:Ce,complete:xe}:ce;return He?(0,f.N)((ye,me)=>{var ze;null===(ze=He.subscribe)||void 0===ze||ze.call(He);let Ke=!0;ye.subscribe((0,Y._)(me,Ge=>{var st;null===(st=He.next)||void 0===st||st.call(He,Ge),me.next(Ge)},()=>{var Ge;Ke=!1,null===(Ge=He.complete)||void 0===Ge||Ge.call(He),me.complete()},Ge=>{var st;Ke=!1,null===(st=He.error)||void 0===st||st.call(He,Ge),me.error(Ge)},()=>{var Ge,st;Ke&&(null===(Ge=He.unsubscribe)||void 0===Ge||Ge.call(He)),null===(st=He.finalize)||void 0===st||st.call(He)}))}):J.D}},3774:(gn,mt,P)=>{"use strict";P.d(mt,{v:()=>J});var d=P(9350),f=P(9974),Y=P(4360);function J(ce=le){return(0,f.N)((Ce,xe)=>{let He=!1;Ce.subscribe((0,Y._)(xe,ye=>{He=!0,xe.next(ye)},()=>He?xe.complete():xe.error(ce())))})}function le(){return new d.G}},6780:(gn,mt,P)=>{"use strict";P.d(mt,{R:()=>le});var d=P(8359);class f extends d.yU{constructor(Ce,xe){super()}schedule(Ce,xe=0){return this}}const Y={setInterval(ce,Ce,...xe){const{delegate:He}=Y;return null!=He&&He.setInterval?He.setInterval(ce,Ce,...xe):setInterval(ce,Ce,...xe)},clearInterval(ce){const{delegate:Ce}=Y;return((null==Ce?void 0:Ce.clearInterval)||clearInterval)(ce)},delegate:void 0};var J=P(7908);class le extends f{constructor(Ce,xe){super(Ce,xe),this.scheduler=Ce,this.work=xe,this.pending=!1}schedule(Ce,xe=0){var He;if(this.closed)return this;this.state=Ce;const ye=this.id,me=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(me,ye,xe)),this.pending=!0,this.delay=xe,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(me,this.id,xe),this}requestAsyncId(Ce,xe,He=0){return Y.setInterval(Ce.flush.bind(Ce,this),He)}recycleAsyncId(Ce,xe,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return xe;null!=xe&&Y.clearInterval(xe)}execute(Ce,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Ce,xe);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,xe){let ye,He=!1;try{this.work(Ce)}catch(me){He=!0,ye=me||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:xe}=this,{actions:He}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.o)(He,this),null!=Ce&&(this.id=this.recycleAsyncId(xe,Ce,null)),this.delay=null,super.unsubscribe()}}}},9687:(gn,mt,P)=>{"use strict";P.d(mt,{q:()=>Y});var d=P(6129);class f{constructor(le,ce=f.now){this.schedulerActionCtor=le,this.now=ce}schedule(le,ce=0,Ce){return new this.schedulerActionCtor(this,le).schedule(Ce,ce)}}f.now=d.U.now;class Y extends f{constructor(le,ce=f.now){super(le,ce),this.actions=[],this._active=!1}flush(le){const{actions:ce}=this;if(this._active)return void ce.push(le);let Ce;this._active=!0;do{if(Ce=le.execute(le.state,le.delay))break}while(le=ce.shift());if(this._active=!1,Ce){for(;le=ce.shift();)le.unsubscribe();throw Ce}}}},3236:(gn,mt,P)=>{"use strict";P.d(mt,{E:()=>Y,b:()=>J});var d=P(6780);const Y=new(P(9687).q)(d.R),J=Y},6129:(gn,mt,P)=>{"use strict";P.d(mt,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(gn,mt,P)=>{"use strict";P.d(mt,{f:()=>d});const d={setTimeout(f,Y,...J){const{delegate:le}=d;return null!=le&&le.setTimeout?le.setTimeout(f,Y,...J):setTimeout(f,Y,...J)},clearTimeout(f){const{delegate:Y}=d;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(gn,mt,P)=>{"use strict";P.d(mt,{l:()=>f});const f=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(gn,mt,P)=>{"use strict";P.d(mt,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(gn,mt,P)=>{"use strict";P.d(mt,{G:()=>f});const f=(0,P(1853).L)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(gn,mt,P)=>{"use strict";P.d(mt,{R0:()=>ce,lI:()=>le,ms:()=>J});var d=P(8071),f=P(9470);function Y(Ce){return Ce[Ce.length-1]}function J(Ce){return(0,d.T)(Y(Ce))?Ce.pop():void 0}function le(Ce){return(0,f.m)(Y(Ce))?Ce.pop():void 0}function ce(Ce,xe){return"number"==typeof Y(Ce)?Ce.pop():xe}},3073:(gn,mt,P)=>{"use strict";P.d(mt,{D:()=>le});const{isArray:d}=Array,{getPrototypeOf:f,prototype:Y,keys:J}=Object;function le(Ce){if(1===Ce.length){const xe=Ce[0];if(d(xe))return{args:xe,keys:null};if(function ce(Ce){return Ce&&"object"==typeof Ce&&f(Ce)===Y}(xe)){const He=J(xe);return{args:He.map(ye=>xe[ye]),keys:He}}}return{args:Ce,keys:null}}},7908:(gn,mt,P)=>{"use strict";function d(f,Y){if(f){const J=f.indexOf(Y);0<=J&&f.splice(J,1)}}P.d(mt,{o:()=>d})},1853:(gn,mt,P)=>{"use strict";function d(f){const J=f(le=>{Error.call(le),le.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}P.d(mt,{L:()=>d})},8496:(gn,mt,P)=>{"use strict";function d(f,Y){return f.reduce((J,le,ce)=>(J[le]=Y[ce],J),{})}P.d(mt,{e:()=>d})},9786:(gn,mt,P)=>{"use strict";P.d(mt,{Y:()=>Y,l:()=>J});var d=P(1026);let f=null;function Y(le){if(d.$.useDeprecatedSynchronousErrorHandling){const ce=!f;if(ce&&(f={errorThrown:!1,error:null}),le(),ce){const{errorThrown:Ce,error:xe}=f;if(f=null,Ce)throw xe}}else le()}function J(le){d.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=le)}},5225:(gn,mt,P)=>{"use strict";function d(f,Y,J,le=0,ce=!1){const Ce=Y.schedule(function(){J(),ce?f.add(this.schedule(null,le)):this.unsubscribe()},le);if(f.add(Ce),!ce)return Ce}P.d(mt,{N:()=>d})},3669:(gn,mt,P)=>{"use strict";function d(f){return f}P.d(mt,{D:()=>d})},7441:(gn,mt,P)=>{"use strict";P.d(mt,{X:()=>d});const d=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(gn,mt,P)=>{"use strict";P.d(mt,{T:()=>f});var d=P(8071);function f(Y){return Symbol.asyncIterator&&(0,d.T)(null==Y?void 0:Y[Symbol.asyncIterator])}},8071:(gn,mt,P)=>{"use strict";function d(f){return"function"==typeof f}P.d(mt,{T:()=>d})},5055:(gn,mt,P)=>{"use strict";P.d(mt,{l:()=>Y});var d=P(3494),f=P(8071);function Y(J){return(0,f.T)(J[d.s])}},5397:(gn,mt,P)=>{"use strict";P.d(mt,{x:()=>Y});var d=P(4761),f=P(8071);function Y(J){return(0,f.T)(null==J?void 0:J[d.l])}},9858:(gn,mt,P)=>{"use strict";P.d(mt,{y:()=>f});var d=P(8071);function f(Y){return(0,d.T)(null==Y?void 0:Y.then)}},5196:(gn,mt,P)=>{"use strict";P.d(mt,{C:()=>Y,U:()=>J});var d=P(1635),f=P(8071);function Y(le){return(0,d.AQ)(this,arguments,function*(){const Ce=le.getReader();try{for(;;){const{value:xe,done:He}=yield(0,d.N3)(Ce.read());if(He)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(xe)}}finally{Ce.releaseLock()}})}function J(le){return(0,f.T)(null==le?void 0:le.getReader)}},9470:(gn,mt,P)=>{"use strict";P.d(mt,{m:()=>f});var d=P(8071);function f(Y){return Y&&(0,d.T)(Y.schedule)}},9974:(gn,mt,P)=>{"use strict";P.d(mt,{N:()=>Y,S:()=>f});var d=P(8071);function f(J){return(0,d.T)(null==J?void 0:J.lift)}function Y(J){return le=>{if(f(le))return le.lift(function(ce){try{return J(ce,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(gn,mt,P)=>{"use strict";P.d(mt,{I:()=>J});var d=P(6354);const{isArray:f}=Array;function J(le){return(0,d.T)(ce=>function Y(le,ce){return f(ce)?le(...ce):le(ce)}(le,ce))}},5343:(gn,mt,P)=>{"use strict";function d(){}P.d(mt,{l:()=>d})},1203:(gn,mt,P)=>{"use strict";P.d(mt,{F:()=>f,m:()=>Y});var d=P(3669);function f(...J){return Y(J)}function Y(J){return 0===J.length?d.D:1===J.length?J[0]:function(ce){return J.reduce((Ce,xe)=>xe(Ce),ce)}}},5334:(gn,mt,P)=>{"use strict";P.d(mt,{m:()=>Y});var d=P(1026),f=P(9270);function Y(J){f.f.setTimeout(()=>{const{onUnhandledError:le}=d.$;if(!le)throw J;le(J)})}},591:(gn,mt,P)=>{"use strict";function d(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(mt,{L:()=>d})},8996:(gn,mt,P)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(Y){if(!P.o(d,Y))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+Y+"'");throw ce.code="MODULE_NOT_FOUND",ce});var J=d[Y],le=J[0];return Promise.all(J.slice(1).map(P.e)).then(()=>P(le))}f.keys=()=>Object.keys(d),f.id=8996,gn.exports=f},177:(gn,mt,P)=>{"use strict";P.d(mt,{AJ:()=>Gt,MD:()=>vt,N0:()=>ri,QT:()=>Y,Sm:()=>_t,Sq:()=>pi,T3:()=>es,UE:()=>jt,VF:()=>le,Vy:()=>en,Xr:()=>In,ZD:()=>J,_b:()=>re,aZ:()=>tt,bT:()=>ni,fw:()=>ft,hb:()=>Ge,hj:()=>He,qQ:()=>Ce});var d=P(3953);let f=null;function Y(){return f}function J(D){var j;null!==(j=f)&&void 0!==j||(f=D)}class le{}const Ce=new d.nKC("");let xe=(()=>{var D;class j{historyGo(B){throw new Error("")}}return(D=j).\u0275fac=function(B){return new(B||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(ye),providedIn:"platform"}),j})();const He=new d.nKC("");let ye=(()=>{var D;class j extends xe{constructor(){super(),this._doc=(0,d.WQX)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(B){const pe=Y().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("popstate",B,!1),()=>pe.removeEventListener("popstate",B)}onHashChange(B){const pe=Y().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("hashchange",B,!1),()=>pe.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,pe,ke){this._history.pushState(B,pe,ke)}replaceState(B,pe,ke){this._history.replaceState(B,pe,ke)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return(D=j).\u0275fac=function(B){return new(B||D)},D.\u0275prov=d.jDH({token:D,factory:()=>new D,providedIn:"platform"}),j})();function me(D,j){if(0==D.length)return j;if(0==j.length)return D;let Re=0;return D.endsWith("/")&&Re++,j.startsWith("/")&&Re++,2==Re?D+j.substring(1):1==Re?D+j:D+"/"+j}function ze(D){const j=D.match(/#|\?|$/),Re=j&&j.index||D.length;return D.slice(0,Re-("/"===D[Re-1]?1:0))+D.slice(Re)}function Ke(D){return D&&"?"!==D[0]?"?"+D:D}let Ge=(()=>{var D;class j{historyGo(B){throw new Error("")}}return(D=j).\u0275fac=function(B){return new(B||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(_t),providedIn:"root"}),j})();const st=new d.nKC("");let _t=(()=>{var D;class j extends Ge{constructor(B,pe){var ke,$t,dn;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(ke=null!==($t=null!=pe?pe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==$t?$t:null===(dn=(0,d.WQX)(Ce).location)||void 0===dn?void 0:dn.origin)&&void 0!==ke?ke:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return me(this._baseHref,B)}path(B=!1){const pe=this._platformLocation.pathname+Ke(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&B?`${pe}${ke}`:pe}pushState(B,pe,ke,$t){const dn=this.prepareExternalUrl(ke+Ke($t));this._platformLocation.pushState(B,pe,dn)}replaceState(B,pe,ke,$t){const dn=this.prepareExternalUrl(ke+Ke($t));this._platformLocation.replaceState(B,pe,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var pe,ke;null===(pe=(ke=this._platformLocation).historyGo)||void 0===pe||pe.call(ke,B)}}return(D=j).\u0275fac=function(B){return new(B||D)(d.KVO(xe),d.KVO(st,8))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),j})(),ft=(()=>{var D;class j extends Ge{constructor(B,pe){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){var pe;const ke=null!==(pe=this._platformLocation.hash)&&void 0!==pe?pe:"#";return ke.length>0?ke.substring(1):ke}prepareExternalUrl(B){const pe=me(this._baseHref,B);return pe.length>0?"#"+pe:pe}pushState(B,pe,ke,$t){let dn=this.prepareExternalUrl(ke+Ke($t));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.pushState(B,pe,dn)}replaceState(B,pe,ke,$t){let dn=this.prepareExternalUrl(ke+Ke($t));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.replaceState(B,pe,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var pe,ke;null===(pe=(ke=this._platformLocation).historyGo)||void 0===pe||pe.call(ke,B)}}return(D=j).\u0275fac=function(B){return new(B||D)(d.KVO(xe),d.KVO(st,8))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac}),j})(),tt=(()=>{var D;class j{constructor(B){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const pe=this._locationStrategy.getBaseHref();this._basePath=function Ne(D){if(new RegExp("^(https?:)?//").test(D)){const[,Re]=D.split(/\/\/[^\/]+/);return Re}return D}(ze(Ee(pe))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,pe=""){return this.path()==this.normalize(B+Ke(pe))}normalize(B){return j.stripTrailingSlash(function ct(D,j){if(!D||!j.startsWith(D))return j;const Re=j.substring(D.length);return""===Re||["/",";","?","#"].includes(Re[0])?Re:j}(this._basePath,Ee(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,pe="",ke=null){this._locationStrategy.pushState(ke,"",B,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ke(pe)),ke)}replaceState(B,pe="",ke=null){this._locationStrategy.replaceState(ke,"",B,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ke(pe)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var pe,ke;null===(pe=(ke=this._locationStrategy).historyGo)||void 0===pe||pe.call(ke,B)}onUrlChange(B){var pe;return this._urlChangeListeners.push(B),null!==(pe=this._urlChangeSubscription)&&void 0!==pe||(this._urlChangeSubscription=this.subscribe(ke=>{this._notifyUrlChangeListeners(ke.url,ke.state)})),()=>{const ke=this._urlChangeListeners.indexOf(B);var $t;this._urlChangeListeners.splice(ke,1),0===this._urlChangeListeners.length&&(null===($t=this._urlChangeSubscription)||void 0===$t||$t.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",pe){this._urlChangeListeners.forEach(ke=>ke(B,pe))}subscribe(B,pe,ke){return this._subject.subscribe({next:B,error:pe,complete:ke})}}return(D=j).normalizeQueryParams=Ke,D.joinWithSlash=me,D.stripTrailingSlash=ze,D.\u0275fac=function(B){return new(B||D)(d.KVO(Ge))},D.\u0275prov=d.jDH({token:D,factory:()=>function pt(){return new tt((0,d.KVO)(Ge))}(),providedIn:"root"}),j})();function Ee(D){return D.replace(/\/index.html$/,"")}function re(D,j){j=encodeURIComponent(j);for(const Re of D.split(";")){const B=Re.indexOf("="),[pe,ke]=-1==B?[Re,""]:[Re.slice(0,B),Re.slice(B+1)];if(pe.trim()===j)return decodeURIComponent(ke)}return null}class Bn{constructor(j,Re,B,pe){this.$implicit=j,this.ngForOf=Re,this.index=B,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{var D;class j{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,pe,ke){this._viewContainer=B,this._template=pe,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const pe=this._viewContainer;B.forEachOperation((ke,$t,dn)=>{if(null==ke.previousIndex)pe.createEmbeddedView(this._template,new Bn(ke.item,this._ngForOf,-1,-1),null===dn?void 0:dn);else if(null==dn)pe.remove(null===$t?void 0:$t);else if(null!==$t){const fr=pe.get($t);pe.move(fr,dn),Lr(fr,ke)}});for(let ke=0,$t=pe.length;ke<$t;ke++){const fr=pe.get(ke).context;fr.index=ke,fr.count=$t,fr.ngForOf=this._ngForOf}B.forEachIdentityChange(ke=>{Lr(pe.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(B,pe){return!0}}return(D=j).\u0275fac=function(B){return new(B||D)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function Lr(D,j){D.context.$implicit=j.item}let ni=(()=>{var D;class j{constructor(B,pe){this._viewContainer=B,this._context=new Li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Mi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Mi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,pe){return!0}}return(D=j).\u0275fac=function(B){return new(B||D)(d.rXU(d.c1b),d.rXU(d.C4Q))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class Li{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(D,j){if(j&&!j.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,d.Tbb)(j)}'.`)}let es=(()=>{var D;class j{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(this._shouldRecreateView(B)){var pe;const ke=this._viewContainerRef;if(this._viewRef&&ke.remove(ke.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const $t=this._createContextForwardProxy();this._viewRef=ke.createEmbeddedView(this.ngTemplateOutlet,$t,{injector:null!==(pe=this.ngTemplateOutletInjector)&&void 0!==pe?pe:void 0})}}_shouldRecreateView(B){return!!B.ngTemplateOutlet||!!B.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(B,pe,ke)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,pe,ke),get:(B,pe,ke)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,pe,ke)}})}}return(D=j).\u0275fac=function(B){return new(B||D)(d.rXU(d.c1b))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),j})(),vt=(()=>{var D;class j{}return(D=j).\u0275fac=function(B){return new(B||D)},D.\u0275mod=d.$C({type:D}),D.\u0275inj=d.G2t({}),j})();const Gt="browser",Yt="server";function jt(D){return D===Gt}function en(D){return D===Yt}let In=(()=>{var D;class j{}return(D=j).\u0275prov=(0,d.jDH)({token:D,providedIn:"root",factory:()=>jt((0,d.WQX)(d.Agw))?new $n((0,d.WQX)(Ce),window):new Br}),j})();class $n{constructor(j,Re){this.document=j,this.window=Re,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(j){this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){const Re=function Vn(D,j){const Re=D.getElementById(j)||D.getElementsByName(j)[0];if(Re)return Re;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const B=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let pe=B.currentNode;for(;pe;){const ke=pe.shadowRoot;if(ke){const $t=ke.getElementById(j)||ke.querySelector(`[name="${j}"]`);if($t)return $t}pe=B.nextNode()}}return null}(this.document,j);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(j){this.window.history.scrollRestoration=j}scrollToElement(j){const Re=j.getBoundingClientRect(),B=Re.left+this.window.pageXOffset,pe=Re.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(B-ke[0],pe-ke[1])}}class Br{setOffset(j){}getScrollPosition(){return[0,0]}scrollToPosition(j){}scrollToAnchor(j){}setHistoryScrollRestoration(j){}}class ri{}},3953:(gn,mt,P)=>{"use strict";function d(e,t){return Object.is(e,t)}P.d(mt,{iLQ:()=>k0,sZ2:()=>eg,hnV:()=>Wb,Hbi:()=>dx,o8S:()=>Ac,BIS:()=>Rf,gRc:()=>lw,Ql9:()=>xO,Ocv:()=>$O,Z63:()=>Ms,aKT:()=>Ma,uvJ:()=>Ws,zcH:()=>au,bkB:()=>al,$GK:()=>Tr,nKC:()=>dr,zZn:()=>Xs,_q3:()=>bA,MKu:()=>wA,xe9:()=>yA,Co$:()=>YC,Vns:()=>dp,SKi:()=>Io,Xx1:()=>Wt,Agw:()=>sh,PLl:()=>iv,sFG:()=>CS,_9s:()=>aI,czy:()=>Or,kdw:()=>Yn,C4Q:()=>Ph,NYb:()=>wO,giA:()=>zb,xvI:()=>tO,RxE:()=>Lb,c1b:()=>s0,gXe:()=>_s,mal:()=>g0,L39:()=>jx,EWP:()=>zx,a0P:()=>Yx,Ol2:()=>CI,w6W:()=>pR,oH4:()=>iw,Rfq:()=>Cs,WQX:()=>bn,naY:()=>QO,QuC:()=>Eo,EmA:()=>aa,fpN:()=>cx,HJs:()=>Zx,N4e:()=>Wh,vPA:()=>OC,O8t:()=>Gx,H3F:()=>Vb,zAP:()=>Ow,H8p:()=>Sc,KH2:()=>pm,TgB:()=>rc,wOt:()=>Sn,WHO:()=>jb,e01:()=>Hb,H5H:()=>XI,mq5:()=>nD,JZv:()=>ei,LfX:()=>_a,plB:()=>Lh,jNT:()=>gA,zjR:()=>Gb,TL$:()=>ay,Tbb:()=>Di,Vt3:()=>EI,GFd:()=>QC,OA$:()=>Md,Jv_:()=>fb,aNF:()=>pb,R7$:()=>Sv,BMQ:()=>FI,AVh:()=>jI,wni:()=>UD,VBU:()=>Zt,FsC:()=>br,jDH:()=>Er,G2t:()=>Bo,$C:()=>mr,EJ8:()=>Ai,rXU:()=>Eh,nrm:()=>KI,eu8:()=>qI,bVm:()=>T0,qex:()=>C0,k0s:()=>A0,j41:()=>I0,RV6:()=>JT,xGo:()=>kp,KVO:()=>Ar,kS0:()=>Lp,QTQ:()=>Ry,bIt:()=>ZI,lsd:()=>jD,XpG:()=>wD,SdG:()=>RD,NAR:()=>SD,Y8G:()=>BI,Mz_:()=>R0,mGM:()=>$D,sdS:()=>HD,Njj:()=>Wc,eBV:()=>Fl,n$t:()=>Ey,DNE:()=>DI,EFF:()=>JD,JRh:()=>tA,SpI:()=>M0,DH7:()=>ub,mxI:()=>rA,R50:()=>nA,GBs:()=>BD});let f=null,Y=!1,J=1;const le=Symbol("SIGNAL");function ce(e){const t=f;return f=e,t}const ye={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function me(e){if(Y)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const t=f.nextProducerIndex++;nt(f),t<f.producerNode.length&&f.producerNode[t]!==e&&Ve(f)&&Ne(f.producerNode[t],f.producerIndexOfThis[t]),f.producerNode[t]!==e&&(f.producerNode[t]=e,f.producerIndexOfThis[t]=Ve(f)?Ee(e,f,t):0),f.producerLastReadVersion[t]=e.version}function Ke(e){if((!Ve(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==J)){if(!e.producerMustRecompute(e)&&!pt(e))return e.dirty=!1,void(e.lastCleanEpoch=J);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=J}}function Ge(e){if(void 0===e.liveConsumerNode)return;const t=Y;Y=!0;try{for(const r of e.liveConsumerNode)r.dirty||_t(r)}finally{Y=t}}function st(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function _t(e){var t;e.dirty=!0,Ge(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function ft(e){return e&&(e.nextProducerIndex=0),ce(e)}function tt(e,t){if(ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ve(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ne(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pt(e){nt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Ke(r),o!==r.version))return!0}return!1}function ct(e){if(nt(e),Ve(e))for(let t=0;t<e.producerNode.length;t++)Ne(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ee(e,t,r){if(Je(e),0===e.liveConsumerNode.length&&qe(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ee(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Ne(e,t){if(Je(e),1===e.liveConsumerNode.length&&qe(e))for(let o=0;o<e.producerNode.length;o++)Ne(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];nt(a),a.producerIndexOfThis[o]=t}}function Ve(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function nt(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function Je(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function qe(e){return void 0!==e.producerNode}const Me=Symbol("UNSET"),kt=Symbol("COMPUTING"),Vt=Symbol("ERRORED"),hn={...ye,value:Me,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===Me||e.value===kt,producerRecomputeValue(e){if(e.value===kt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=kt;const r=ft(e);let o;try{o=e.computation()}catch(a){o=Vt,e.error=a}finally{tt(e,r)}t!==Me&&t!==Vt&&o!==Vt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let sn=function qt(){throw new Error};function dt(){sn()}let Z=null;function ut(e,t){st()||dt(),e.equal(e.value,t)||(e.value=t,function Rt(e){var t;e.version++,function ze(){J++}(),Ge(e),null===(t=Z)||void 0===t||t()}(e))}const zt={...ye,equal:d,value:void 0};var Wr,Qr,Nn=P(4412),Gn=P(1413),Bt=P(8359),rn=P(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Xi="https://g.co/ng/security#xss";class Sn extends Error{constructor(t,r){super(function Fo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function wo(e){return{toString:e}.toString()}const Uo="__parameters__";function zo(e,t,r){return wo(()=>{const o=function Ni(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...c){if(this instanceof a)return o.apply(this,c),this;const m=new a(...c);return E.annotation=m,E;function E(T,V,G){const ie=T.hasOwnProperty(Uo)?T[Uo]:Object.defineProperty(T,Uo,{value:[]})[Uo];for(;ie.length<=G;)ie.push(null);return(ie[G]=ie[G]||[]).push(m),T}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const ei=globalThis;function Rr(e){for(let t in e)if(e[t]===Rr)return t;throw Error("Could not find renamed property on target object.")}function pl(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Di(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Di).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function rr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ra=Rr({__forward_ref__:Rr});function Cs(e){return e.__forward_ref__=Cs,e.toString=function(){return Di(this())},e}function er(e){return ms(e)?e():e}function ms(e){return"function"==typeof e&&e.hasOwnProperty(ra)&&e.__forward_ref__===Cs}function Er(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bo(e){return{providers:e.providers||[],imports:e.imports||[]}}function ia(e){return oa(e,Ds)||oa(e,sa)}function _a(e){return null!==ia(e)}function oa(e,t){return e.hasOwnProperty(t)?e[t]:null}function js(e){return e&&(e.hasOwnProperty(ya)||e.hasOwnProperty(Ea))?e[ya]:null}const Ds=Rr({\u0275prov:Rr}),ya=Rr({\u0275inj:Rr}),sa=Rr({ngInjectableDef:Rr}),Ea=Rr({ngInjectorDef:Rr});class dr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Er({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ia(e){return e&&!!e.\u0275providers}const yo=Rr({\u0275cmp:Rr}),Ss=Rr({\u0275dir:Rr}),rs=Rr({\u0275pipe:Rr}),Aa=Rr({\u0275mod:Rr}),is=Rr({\u0275fac:Rr}),_r=Rr({__NG_ELEMENT_ID__:Rr}),Xa=Rr({__NG_ENV_ID__:Rr});function pr(e){return"string"==typeof e?e:null==e?"":String(e)}function xa(e,t){throw new Sn(-201,!1)}var Tr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Tr||{});let Ko;function Il(){return Ko}function li(e){const t=Ko;return Ko=e,t}function Al(e,t,r){const o=ia(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Tr.Optional?null:void 0!==t?t:void xa()}const j={},Re="__NG_DI_FLAG__",B="ngTempTokenPath",ke=/\n/gm,dn="__source";let fr;function Mr(e){const t=fr;return fr=e,t}function yr(e,t=Tr.Default){if(void 0===fr)throw new Sn(-203,!1);return null===fr?Al(e,void 0,t):fr.get(e,t&Tr.Optional?null:void 0,t)}function Ar(e,t=Tr.Default){return(Il()||yr)(er(e),t)}function bn(e,t=Tr.Default){return Ar(e,os(t))}function os(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function bi(e){const t=[];for(let r=0;r<e.length;r++){const o=er(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Sn(900,!1);let a,c=Tr.Default;for(let m=0;m<o.length;m++){const E=o[m],T=K(E);"number"==typeof T?-1===T?a=E.token:c|=T:a=E}t.push(Ar(a,c))}else t.push(Ar(o))}return t}function U(e,t){return e[Re]=t,e.prototype[Re]=t,e}function K(e){return e[Re]}const Wt=U(zo("Optional"),8),Yn=U(zo("SkipSelf"),4);function Dn(e,t){return e.hasOwnProperty(is)?e[is]:null}function po(e,t){e.forEach(r=>Array.isArray(r)?po(r,t):t(r))}function Hs(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Bu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Mo(e,t,r){let o=Cl(e,t);return o>=0?e[1|o]=r:(o=~o,function vs(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Ta(e,t){const r=Cl(e,t);if(r>=0)return e[1|r]}function Cl(e,t){return function $u(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const c=o+(a-o>>1),m=e[c<<r];if(t===m)return c<<r;m>t?a=c:o=c+1}return~(a<<r)}(e,t,1)}const zs={},gi=[],Ms=new dr(""),jh=new dr("",-1),Tc=new dr("");class mu{get(t,r=j){if(r===j){const o=new Error(`NullInjectorError: No provider for ${Di(t)}!`);throw o.name="NullInjectorError",o}return r}}var Dc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Dc||{}),_s=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(_s||{}),ys=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ys||{});function ql(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===o||e.charCodeAt(a+c)<=32)return a}r=a+1}}function Xl(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const c=r[o++],m=r[o++],E=r[o++];e.setAttribute(t,m,E,c)}else{const c=a,m=r[++o];Ql(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),o++}}return o}function no(e){return 3===e||4===e||6===e}function Ql(e){return 64===e.charCodeAt(0)}function Ya(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||vu(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function vu(e,t,r,o,a){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const E=e[c++];if("number"==typeof E){if(E===t){m=-1;break}if(E>t){m=c-1;break}}}for(;c<e.length;){const E=e[c];if("number"==typeof E)break;if(E===r){if(null===o)return void(null!==a&&(e[c+1]=a));if(o===e[c+1])return void(e[c+2]=a)}c++,null!==o&&c++,null!==a&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,r),null!==o&&e.splice(c++,0,o),null!==a&&e.splice(c++,0,a)}const Tl="ng-template";function Gs(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==ql(t[a+1].toLowerCase(),r,0))return!0}else if(ju(e))return!1;if(a=t.indexOf(1,a),a>-1){let c;for(;++a<t.length&&"string"==typeof(c=t[a]);)if(c.toLowerCase()===r)return!0}return!1}function ju(e){return 4===e.type&&e.value!==Tl}function Hh(e,t,r){return t===(4!==e.type||r?e.value:Tl)}function vd(e,t,r){let o=4;const a=e.attrs,c=null!==a?function S(e){for(let t=0;t<e.length;t++)if(no(e[t]))return t;return e.length}(a):0;let m=!1;for(let E=0;E<t.length;E++){const T=t[E];if("number"!=typeof T){if(!m)if(4&o){if(o=2|1&o,""!==T&&!Hh(e,T,r)||""===T&&1===t.length){if(Da(o))return!1;m=!0}}else if(8&o){if(null===a||!Gs(e,a,T,r)){if(Da(o))return!1;m=!0}}else{const V=t[++E],G=Yl(T,a,ju(e),r);if(-1===G){if(Da(o))return!1;m=!0;continue}if(""!==V){let ie;if(ie=G>c?"":a[G+1].toLowerCase(),2&o&&V!==ie){if(Da(o))return!1;m=!0}}}}else{if(!m&&!Da(o)&&!Da(T))return!1;if(m&&Da(T))continue;m=!1,o=T|1&o}}return Da(o)||m}function Da(e){return!(1&e)}function Yl(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let c=!1;for(;a<t.length;){const m=t[a];if(m===e)return a;if(3===m||6===m)c=!0;else{if(1===m||2===m){let E=t[++a];for(;"string"==typeof E;)E=t[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=c?1:2}return-1}return function O(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function _d(e,t,r=!1){for(let o=0;o<t.length;o++)if(vd(e,t[o],r))return!0;return!1}function b(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function L(e,t){return e?":not("+t.trim()+")":t}function he(e){let t=e[0],r=1,o=2,a="",c=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const E=e[++r];a+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!Da(m)&&(t+=L(c,a),a=""),o=m,c=c||!Da(o);r++}return""!==a&&(t+=L(c,a)),t}function Zt(e){return wo(()=>{var t;const r=_u(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Dc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||_s.Emulated,styles:e.styles||gi,_:null,schemas:e.schemas||null,tView:null,id:""};Zl(o);const a=e.dependencies;return o.directiveDefs=yu(a,!1),o.pipeDefs=yu(a,!0),o.id=function Za(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function Mt(e){return hr(e)||vi(e)}function Pn(e){return null!==e}function mr(e){return wo(()=>({type:e.type,bootstrap:e.bootstrap||gi,declarations:e.declarations||gi,imports:e.imports||gi,exports:e.exports||gi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ui(e,t){if(null==e)return zs;const r={};for(const a in e)if(e.hasOwnProperty(a)){const c=e[a];let m,E,T=ys.None;var o;Array.isArray(c)?(T=c[0],m=c[1],E=null!==(o=c[2])&&void 0!==o?o:m):(m=c,E=c),t?(r[m]=T!==ys.None?[a,T]:a,t[m]=E):r[m]=a}return r}function br(e){return wo(()=>{const t=_u(e);return Zl(t),t})}function Ai(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function hr(e){return e[yo]||null}function vi(e){return e[Ss]||null}function to(e){return e[rs]||null}function Eo(e){const t=hr(e)||vi(e)||to(e);return null!==t&&t.standalone}function wi(e,t){const r=e[Aa]||null;if(!r&&!0===t)throw new Error(`Type ${Di(e)} does not have '\u0275mod' property.`);return r}function _u(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||zs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||gi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ui(e.inputs,t),outputs:ui(e.outputs),debugInfo:null}}function Zl(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function yu(e,t){if(!e)return null;const r=t?to:Mt;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Pn)}function aa(e){return{\u0275providers:e}}function Eu(...e){return{\u0275providers:Dl(0,e),\u0275fromNgModule:!0}}function Dl(e,...t){const r=[],o=new Set;let a;const c=m=>{r.push(m)};return po(t,m=>{const E=m;ba(E,c,[],o)&&(a||(a=[]),a.push(E))}),void 0!==a&&Iu(a,c),r}function Iu(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Ed(a,c=>{t(c,o)})}}function ba(e,t,r,o){if(!(e=er(e)))return!1;let a=null,c=js(e);const m=!c&&hr(e);if(c||m){if(m&&!m.standalone)return!1;a=e}else{const T=e.ngModule;if(c=js(T),!c)return!1;a=T}const E=o.has(a);if(m){if(E)return!1;if(o.add(a),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of T)ba(V,t,r,o)}}else{if(!c)return!1;{if(null!=c.imports&&!E){let V;o.add(a);try{po(c.imports,G=>{ba(G,t,r,o)&&(V||(V=[]),V.push(G))})}finally{}void 0!==V&&Iu(V,t)}if(!E){const V=Dn(a)||(()=>new a);t({provide:a,useFactory:V,deps:gi},a),t({provide:Tc,useValue:a,multi:!0},a),t({provide:Ms,useValue:()=>Ar(a),multi:!0},a)}const T=c.providers;if(null!=T&&!E){const V=e;Ed(T,G=>{t(G,V)})}}}return a!==e&&void 0!==e.providers}function Ed(e,t){for(let r of e)Ia(r)&&(r=r.\u0275providers),Array.isArray(r)?Ed(r,t):t(r)}const yp=Rr({provide:String,useValue:Rr});function zh(e){return null!==e&&"object"==typeof e&&yp in e}function Ja(e){return"function"==typeof e}const Sc=new dr(""),el={},Gh={};let Ad;function Hu(){return void 0===Ad&&(Ad=new mu),Ad}class Ws{}class zu extends Ws{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gu(t,m=>this.processProvider(m)),this.records.set(jh,bl(void 0,this)),a.has("environment")&&this.records.set(Ws,bl(void 0,this));const c=this.records.get(Sc);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Tc,gi,Tr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ce(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Mr(this),o=li(void 0);try{return t()}finally{Mr(r),li(o)}}get(t,r=j,o=Tr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Xa))return t[Xa](this);o=os(o);const c=Mr(this),m=li(void 0);try{if(!(o&Tr.SkipSelf)){let T=this.records.get(t);if(void 0===T){const V=function Mc(e){return"function"==typeof e||"object"==typeof e&&e instanceof dr}(t)&&ia(t);T=V&&this.injectableDefInScope(V)?bl(Fa(t),el):null,this.records.set(t,T)}if(null!=T)return this.hydrate(t,T)}return(o&Tr.Self?Hu():this.parent).get(t,r=o&Tr.Optional&&r===j?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[B]=E[B]||[]).unshift(Di(t)),c)throw E;return function Ie(e,t,r,o){const a=e[B];throw t[dn]&&a.unshift(t[dn]),e.message=function $e(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Di(t);if(Array.isArray(t))a=t.map(Di).join(" -> ");else if("object"==typeof t){let c=[];for(let m in t)if(t.hasOwnProperty(m)){let E=t[m];c.push(m+":"+("string"==typeof E?JSON.stringify(E):Di(E)))}a=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(ke,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[B]=null,e}(E,t,"R3InjectorError",this.source)}throw E}finally{li(m),Mr(c)}}resolveInjectorInitializers(){const t=ce(null),r=Mr(this),o=li(void 0);try{const c=this.get(Ms,gi,Tr.Self);for(const m of c)m()}finally{Mr(r),li(o),ce(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Di(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Sn(205,!1)}processProvider(t){let r=Ja(t=er(t))?t:er(t&&t.provide);const o=function Jl(e){return zh(e)?bl(void 0,e.useValue):bl(Rc(e),el)}(t);if(!Ja(t)&&!0===t.multi){let a=this.records.get(r);a||(a=bl(void 0,el,!0),a.factory=()=>bi(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=ce(null);try{return r.value===el&&(r.value=Gh,r.value=r.factory()),"object"==typeof r.value&&r.value&&function vm(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ce(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=er(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Fa(e){const t=ia(e),r=null!==t?t.factory:Dn(e);if(null!==r)return r;if(e instanceof dr)throw new Sn(204,!1);if(e instanceof Function)return function Au(e){if(e.length>0)throw new Sn(204,!1);const r=function fo(e){return e&&(e[Ds]||e[sa])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Sn(204,!1)}function Rc(e,t,r){let o;if(Ja(e)){const a=er(e);return Dn(a)||Fa(a)}if(zh(e))o=()=>er(e.useValue);else if(function Id(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...bi(e.deps||[]));else if(function bc(e){return!(!e||!e.useExisting)}(e))o=()=>Ar(er(e.useExisting));else{const a=er(e&&(e.useClass||e.provide));if(!function Cd(e){return!!e.deps}(e))return Dn(a)||Fa(a);o=()=>new a(...bi(e.deps))}return o}function bl(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Gu(e,t){for(const r of e)Array.isArray(r)?Gu(r,t):r&&Ia(r)?Gu(r.\u0275providers,t):t(r)}function Wh(e,t){e instanceof zu&&e.assertNotDestroyed();const o=Mr(e),a=li(void 0);try{return t()}finally{Mr(o),li(a)}}function Td(){return void 0!==Il()||null!=function kr(){return fr}()}const Ui=0,Tn=1,ir=2,Qi=3,Ks=4,mo=5,Ps=6,wa=7,Oi=8,Gi=9,La=10,wr=11,Ku=12,Oc=13,Tu=14,ro=15,tl=16,Du=17,nl=18,bu=19,Ep=20,Rl=21,la=22,Es=23,or=25,Sd=1,Va=7,qu=9,No=10;var Xu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Xu||{});function ci(e){return Array.isArray(e)&&"object"==typeof e[Sd]}function Is(e){return Array.isArray(e)&&!0===e[Sd]}function Fc(e){return!!(4&e.flags)}function Ml(e){return e.componentOffset>-1}function Rd(e){return!(1&~e.flags)}function Ns(e){return!!e.template}function Lc(e){return!!(512&e[ir])}class Zu{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Zh(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function Md(){return jc}function jc(e){return e.type.prototype.ngOnChanges&&(e.setInput=Jh),Cm}function Cm(){const e=Nd(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===zs)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Jh(e,t,r,o,a){const c=this.declaredInputs[o],m=Nd(e)||function Tp(e,t){return e[Pd]=t}(e,{previous:zs,current:null}),E=m.current||(m.current={}),T=m.previous,V=T[c];E[c]=new Zu(V&&V.currentValue,r,T===zs),Zh(e,t,a,r)}Md.ngInherit=!0;const Pd="__ngSimpleChanges__";function Nd(e){return e[Pd]||null}const ua=function(e,t,r){};function mi(e){for(;Array.isArray(e);)e=e[Ui];return e}function Nl(e,t){return mi(t[e])}function Jo(e,t){return mi(t[e.index])}function Ju(e,t){return e.data[t]}function Os(e,t){const r=t[e];return ci(r)?r:r[Ui]}function tf(e){return!(128&~e[ir])}function Sa(e,t){return null==t?null:e[t]}function nf(e){e[Du]=0}function zc(e){1024&e[ir]||(e[ir]|=1024,tf(e)&&Gc(e))}function rl(e){var t;return!!(9216&e[ir]||null!==(t=e[Es])&&void 0!==t&&t.dirty)}function xd(e){var t;null===(t=e[La].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[ir]&&(e[ir]|=1024),rl(e)&&Gc(e)}function Gc(e){var t;null===(t=e[La].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Ol(e);for(;null!==r&&!(8192&r[ir])&&(r[ir]|=8192,tf(r));)r=Ol(r)}function kd(e,t){if(!(256&~e[ir]))throw new Sn(911,!1);null===e[Rl]&&(e[Rl]=[]),e[Rl].push(t)}function Ol(e){const t=e[Qi];return Is(t)?t[Qi]:t}const Pr={lFrame:Hn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let kl=!1;function xs(){return Pr.bindingsEnabled}function da(){return null!==Pr.skipHydrationRootTNode}function tn(){return Pr.lFrame.lView}function qr(){return Pr.lFrame.tView}function Fl(e){return Pr.lFrame.contextLView=e,e[Oi]}function Wc(e){return Pr.lFrame.contextLView=null,e}function xi(){let e=Ud();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ud(){return Pr.lFrame.currentTNode}function qs(e,t){const r=Pr.lFrame;r.currentTNode=e,r.isParent=t}function as(){return Pr.lFrame.isParent}function il(){Pr.lFrame.isParent=!1}function Bd(){return kl}function cf(e){kl=e}function Ba(){return Pr.lFrame.bindingIndex++}function h(e,t){const r=Pr.lFrame;r.bindingIndex=r.bindingRootIndex=e,A(t)}function A(e){Pr.lFrame.currentDirectiveIndex=e}function se(){return Pr.lFrame.currentQueryIndex}function Ze(e){Pr.lFrame.currentQueryIndex=e}function wt(e){const t=e[Tn];return 2===t.type?t.declTNode:1===t.type?e[mo]:null}function nn(e,t,r){if(r&Tr.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||r&Tr.Host||(a=wt(c),null===a||(c=c[Tu],10&a.type))););if(null===a)return!1;t=a,e=c}const o=Pr.lFrame=qn();return o.currentTNode=t,o.lView=e,!0}function Mn(e){const t=qn(),r=e[Tn];Pr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function qn(){const e=Pr.lFrame,t=null===e?null:e.child;return null===t?Hn(e):t}function Hn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function io(){const e=Pr.lFrame;return Pr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ra=io;function Ou(){const e=io();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Oo(){return Pr.lFrame.selectedIndex}function ol(e){Pr.lFrame.selectedIndex=e}function ki(){const e=Pr.lFrame;return Ju(e.tView,e.selectedIndex)}let Gd=!0;function xu(){return Gd}function ja(e){Gd=e}function hf(e,t){for(let V=t.directiveStart,G=t.directiveEnd;V<G;V++){const Ue=e.data[V].type.prototype,{ngAfterContentInit:Ye,ngAfterContentChecked:We,ngAfterViewInit:Ht,ngAfterViewChecked:cn,ngOnDestroy:En}=Ue;var r,o,a,c,m,E,T;Ye&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-V,Ye),We&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(V,We),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(V,We)),Ht&&(null!==(c=e.viewHooks)&&void 0!==c?c:e.viewHooks=[]).push(-V,Ht),cn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(V,cn),(null!==(E=e.viewCheckHooks)&&void 0!==E?E:e.viewCheckHooks=[]).push(V,cn)),null!=En&&(null!==(T=e.destroyHooks)&&void 0!==T?T:e.destroyHooks=[]).push(V,En)}}function ff(e,t,r){R_(e,t,3,r)}function pf(e,t,r,o){(3&e[ir])===r&&R_(e,t,r,o)}function bp(e,t){let r=e[ir];(3&r)===t&&(r&=16383,r+=1,e[ir]=r)}function R_(e,t,r,o){const c=null!=o?o:-1,m=t.length-1;let E=0;for(let T=void 0!==o?65535&e[Du]:0;T<m;T++)if("number"==typeof t[T+1]){if(E=t[T],null!=o&&E>=o)break}else t[T]<0&&(e[Du]+=65536),(E<c||-1==c)&&(K0(e,r,t,T),e[Du]=(4294901760&e[Du])+T+2),T++}function M_(e,t){ua(4,e,t);const r=ce(null);try{t.call(e)}finally{ce(r),ua(5,e,t)}}function K0(e,t,r,o){const a=r[o]<0,c=r[o+1],E=e[a?-r[o]:r[o]];a?e[ir]>>14<e[Du]>>16&&(3&e[ir])===t&&(e[ir]+=16384,M_(E,c)):M_(E,c)}const Wd=-1;class qc{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const mf={};class Xc{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=os(o);const a=this.injector.get(t,mf,o);return a!==mf||r===mf?a:this.parentInjector.get(t,r,o)}}function vf(e){return e!==Wd}function _f(e){return 32767&e}function Kd(e,t){let r=function Mm(e){return e>>16}(e),o=t;for(;r>0;)o=o[Tu],r--;return o}let wp=!0;function Sp(e){const t=wp;return wp=e,t}const O_=255,Rp=5;let X0=0;const sl={};function qd(e,t){const r=Mp(e,t);if(-1!==r)return r;const o=t[Tn];o.firstCreatePass&&(e.injectorIndex=t.length,yf(o.data,e),yf(t,null),yf(o.blueprint,null));const a=ku(e,t),c=e.injectorIndex;if(vf(a)){const m=_f(a),E=Kd(a,t),T=E[Tn].data;for(let V=0;V<8;V++)t[c+V]=E[m+V]|T[m+V]}return t[c+8]=a,c}function yf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ku(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=xm(a),null===o)return Wd;if(r++,a=a[Tu],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Wd}function Pp(e,t,r){!function Q0(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(_r)&&(o=r[_r]),null==o&&(o=r[_r]=X0++);const a=o&O_;t.data[e+(a>>Rp)]|=1<<a}(e,t,r)}function x_(e,t,r){if(r&Tr.Optional||void 0!==e)return e;xa()}function Np(e,t,r,o){if(r&Tr.Optional&&void 0===o&&(o=null),!(r&(Tr.Self|Tr.Host))){const a=e[Gi],c=li(void 0);try{return a?a.get(t,o,r&Tr.Optional):Al(t,o,r&Tr.Optional)}finally{li(c)}}return x_(o,0,r)}function su(e,t,r,o=Tr.Default,a){if(null!==e){if(2048&t[ir]&&!(o&Tr.Self)){const m=function Om(e,t,r,o,a){let c=e,m=t;for(;null!==c&&null!==m&&2048&m[ir]&&!(512&m[ir]);){const E=Op(c,m,r,o|Tr.Self,sl);if(E!==sl)return E;let T=c.parent;if(!T){const V=m[Ep];if(V){const G=V.get(r,sl,o);if(G!==sl)return G}T=xm(m),m=m[Tu]}c=T}return a}(e,t,r,o,sl);if(m!==sl)return m}const c=Op(e,t,r,o,sl);if(c!==sl)return c}return Np(t,r,o,a)}function Op(e,t,r,o,a){const c=function Z0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_r)?e[_r]:void 0;return"number"==typeof t?t>=0?t&O_:J0:t}(r);if("function"==typeof c){if(!nn(t,e,o))return o&Tr.Host?x_(a,0,o):Np(t,r,o,a);try{let m;if(m=c(o),null!=m||o&Tr.Optional)return m;xa()}finally{Ra()}}else if("number"==typeof c){let m=null,E=Mp(e,t),T=Wd,V=o&Tr.Host?t[ro][mo]:null;for((-1===E||o&Tr.SkipSelf)&&(T=-1===E?ku(e,t):t[E+8],T!==Wd&&k_(o,!1)?(m=t[Tn],E=_f(T),t=Kd(T,t)):E=-1);-1!==E;){const G=t[Tn];if(xp(c,E,G.data)){const ie=Y0(E,t,r,m,o,V);if(ie!==sl)return ie}T=t[E+8],T!==Wd&&k_(o,t[Tn].data[E+8]===V)&&xp(c,E,t)?(m=G,E=_f(T),t=Kd(T,t)):E=-1}}return a}function Y0(e,t,r,o,a,c){const m=t[Tn],E=m.data[e+8],G=Xd(E,m,r,null==o?Ml(E)&&wp:o!=m&&!!(3&E.type),a&Tr.Host&&c===E);return null!==G?Qc(t,m,G,E):sl}function Xd(e,t,r,o,a){const c=e.providerIndexes,m=t.data,E=1048575&c,T=e.directiveStart,G=c>>20,Ue=a?E+G:e.directiveEnd;for(let Ye=o?E:E+G;Ye<Ue;Ye++){const We=m[Ye];if(Ye<T&&r===We||Ye>=T&&We.type===r)return Ye}if(a){const Ye=m[T];if(Ye&&Ns(Ye)&&Ye.type===r)return T}return null}function Qc(e,t,r,o){let a=e[r];const c=t.data;if(function q0(e){return e instanceof qc}(a)){const m=a;m.resolving&&function Qa(e,t){throw t&&t.join(" > "),new Sn(-200,e)}(function Zr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pr(e)}(c[r]));const E=Sp(m.canSeeViewProviders);m.resolving=!0;const V=m.injectImpl?li(m.injectImpl):null;nn(e,o,Tr.Default);try{a=e[r]=m.factory(void 0,c,e,o),t.firstCreatePass&&r>=o.directiveStart&&function W0(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(o){var m,E;const ie=jc(t);(null!==(m=r.preOrderHooks)&&void 0!==m?m:r.preOrderHooks=[]).push(e,ie),(null!==(E=r.preOrderCheckHooks)&&void 0!==E?E:r.preOrderCheckHooks=[]).push(e,ie)}var T,V,G;a&&(null!==(T=r.preOrderHooks)&&void 0!==T?T:r.preOrderHooks=[]).push(0-e,a),c&&((null!==(V=r.preOrderHooks)&&void 0!==V?V:r.preOrderHooks=[]).push(e,c),(null!==(G=r.preOrderCheckHooks)&&void 0!==G?G:r.preOrderCheckHooks=[]).push(e,c))}(r,c[r],t)}finally{null!==V&&li(V),Sp(E),m.resolving=!1,Ra()}}return a}function xp(e,t,r){return!!(r[t+(e>>Rp)]&1<<e)}function k_(e,t){return!(e&Tr.Self||e&Tr.Host&&t)}class qo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return su(this._tNode,this._lView,t,os(o),r)}}function J0(){return new qo(xi(),tn())}function kp(e){return wo(()=>{const t=e.prototype.constructor,r=t[is]||Fp(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const c=a[is]||Fp(a);if(c&&c!==r)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Fp(e){return ms(e)?()=>{const t=Fp(er(e));return t&&t()}:Dn(e)}function xm(e){const t=e[Tn],r=t.type;return 2===r?t.declTNode:1===r?e[mo]:null}function Lp(e){return function Nm(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const c=r[a];if(no(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(c===t)return r[a+1];a+=2}}}return null}(xi(),e)}function V_(e,t=null,r=null,o){const a=U_(e,t,r,o);return a.resolveInjectorInitializers(),a}function U_(e,t=null,r=null,o,a=new Set){const c=[r||gi,Eu(e)];return o=o||("object"==typeof e?void 0:Di(e)),new zu(c,t||Hu(),o||null,a)}class Xs{static create(t,r){if(Array.isArray(t))return V_({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return V_({name:a},t.parent,t.providers,a)}}}(Wr=Xs).THROW_IF_NOT_FOUND=j,Wr.NULL=new mu,Wr.\u0275prov=Er({token:Wr,providedIn:"any",factory:()=>Ar(jh)}),Wr.__NG_ELEMENT_ID__=-1,new dr("").__NG_ELEMENT_ID__=e=>{const t=xi();if(null===t)throw new Sn(204,!1);if(2&t.type)return t.value;if(e&Tr.Optional)return null;throw new Sn(204,!1)};function $p(e){return e.ngOriginalError}const jp=!0;let Yc=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Bm,e.__NG_ENV_ID__=r=>r,t})();class Hp extends Yc{constructor(t){super(),this._lView=t}onDestroy(t){return kd(this._lView,t),()=>function rf(e,t){if(null===e[Rl])return;const r=e[Rl].indexOf(t);-1!==r&&e[Rl].splice(r,1)}(this._lView,t)}}function Bm(){return new Hp(tn())}let rc=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Nn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Er({token:e,providedIn:"root",factory:()=>new e}),t})();const al=class j_ extends Gn.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Td()&&(this.destroyRef=null!==(r=bn(Yc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=bn(rc,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=ce(null);try{super.next(t)}finally{ce(r)}}subscribe(t,r,o){let a=t,c=r||(()=>null),m=o;if(t&&"object"==typeof t){var E,T,V;const ie=t;a=null===(E=ie.next)||void 0===E?void 0:E.bind(ie),c=null===(T=ie.error)||void 0===T?void 0:T.bind(ie),m=null===(V=ie.complete)||void 0===V?void 0:V.bind(ie)}this.__isAsync&&(c=this.wrapInTimeout(c),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const G=super.subscribe({next:a,error:c,complete:m});return t instanceof Bt.yU&&t.add(G),G}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var c;t(r),void 0!==a&&(null===(c=this.pendingTasks)||void 0===c||c.remove(a))})}}};function Af(...e){}function Zc(e){let t,r;function o(){e=Af;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function zp(e){return queueMicrotask(()=>e()),()=>{e=Af}}const $m="isAngularZone",Gp=$m+"_ID";let H_=0;class Io{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:c=jp}=t;if(typeof Zone>"u")throw new Sn(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!a&&o,m.shouldCoalesceRunChangeDetection=a,m.callbackScheduled=!1,m.scheduleInRootZone=c,function rE(e){const t=()=>{!function nE(e){function t(){Zc(()=>{e.callbackScheduled=!1,Hm(e),e.isCheckStableRunning=!0,jm(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Hm(e))}(e)},r=H_++;e._inner=e._inner.fork({name:"angular",properties:{[$m]:!0,[Gp]:r,[Gp+r]:!0},onInvokeTask:(o,a,c,m,E,T)=>{if(function K_(e){return Wp(e,"__ignore_ng_zone__")}(T))return o.invokeTask(c,m,E,T);try{return G_(e),o.invokeTask(c,m,E,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),W_(e)}},onInvoke:(o,a,c,m,E,T,V)=>{try{return G_(e),o.invoke(c,m,E,T,V)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function q_(e){return Wp(e,"__scheduler_tick__")}(T)&&t(),W_(e)}},onHasTask:(o,a,c,m)=>{o.hasTask(c,m),a===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,Hm(e),jm(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,c,m)=>(o.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get($m)}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Sn(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Sn(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+a,t,z_,Af,Af);try{return c.runTask(m,r,o)}finally{c.cancelTask(m)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const z_={};function jm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function G_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function W_(e){e._nesting--,jm(e)}class zm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Wp(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class au{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&$p(t);for(;r&&$p(r);)r=$p(r);return r||null}}const Q_=new dr("",{providedIn:"root",factory:()=>{const e=bn(Io),t=bn(au);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function ks(){return Bi(xi(),tn())}function Bi(e,t){return new Ma(Jo(e,t))}let Ma=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=ks,t})();function Gm(e){return e instanceof Ma?e.nativeElement:e}function aE(){return this._results[Symbol.iterator]()}class eh{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new al}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=eh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=aE)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function jn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Dr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],c=t[o];if(r&&(a=r(a),c=r(c)),c!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Tf(e){return!(128&~e.flags)}const Y_=new Map;let kA=0;function qm(e){Y_.delete(e[bu])}const Xp="__ngContext__";function Qs(e,t){ci(t)?(e[Xp]=t[bu],function Z_(e){Y_.set(e[bu],e)}(t)):e[Xp]=t}function wf(e){return oc(e[Ku])}function oy(e){return oc(e[Ks])}function oc(e){for(;null!==e&&!Is(e);)e=e[Ks];return e}let oh;function ay(e){oh=e}const eg=new dr("",{providedIn:"root",factory:()=>tg}),tg="ng",iv=new dr(""),sh=new dr("",{providedIn:"platform",factory:()=>"unknown"}),Rf=new dr("",{providedIn:"root",factory:()=>{var e;return(null===(e=function ll(){if(void 0!==oh)return oh;if(typeof document<"u")return document;throw new Sn(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let ly=()=>null;function av(e,t,r=!1){return ly(e,t,r)}const ug=new dr("",{providedIn:"root",factory:()=>!1});let hg;function fy(e){var t;return(null===(t=function fv(){if(void 0===hg&&(hg=null,ei.trustedTypes))try{hg=ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return hg}())||void 0===t?void 0:t.createScriptURL(e))||e}class pv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xi})`}}function uc(e){return e instanceof pv?e.changingThisBreaksApplicationSecurity:e}function Nf(e,t){const r=function DE(e){return e instanceof pv&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Xi})`)}return r===t}const py=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(gh||{});function hc(e){const t=Ff();return t?t.sanitize(gh.URL,e)||"":Nf(e,"URL")?uc(e):function fg(e){return(e=String(e)).match(py)?e:"unsafe:"+e}(pr(e))}function Eg(e){const t=Ff();if(t)return fy(t.sanitize(gh.RESOURCE_URL,e)||"");if(Nf(e,"ResourceURL"))return fy(uc(e));throw new Sn(904,!1)}function Ey(e,t,r){return function OE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Eg:hc}(t,r)(e)}function Ff(){const e=tn();return e&&e[La].sanitizer}const _v=/^>|^->|<!--|-->|--!>|<!-$/g,Iy=/(<|>)/g,Ig="\u200b$1\u200b";function rt(e){return e instanceof Function?e():e}var Or=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Or||{});let Tt;function et(e,t){return Tt(e,t)}function bt(e,t,r,o,a){if(null!=o){let c,m=!1;Is(o)?c=o:ci(o)&&(m=!0,o=o[Ui]);const E=mi(o);0===e&&null!==r?null==a?Bf(t,r,E):cd(t,r,E,a||null,!0):1===e&&null!==r?cd(t,r,E,a||null,!0):2===e?function zf(e,t,r){e.removeChild(null,t,r)}(t,E,m):3===e&&t.destroyNode(E),null!=c&&function Rg(e,t,r,o,a){const c=r[Va];c!==mi(r)&&bt(t,e,o,c,a);for(let E=No;E<r.length;E++){const T=r[E];_h(T[Tn],T,e,t,o,c)}}(t,e,c,r,a)}}function yt(e,t){return e.createComment(function yv(e){return e.replace(_v,t=>t.replace(Iy,Ig))}(t))}function dl(e,t,r){return e.createElement(t,r)}function vh(e,t){var r;null===(r=t[La].changeDetectionScheduler)||void 0===r||r.notify(9),_h(e,t,t[wr],2,null,null)}function Cv(e,t){const r=e[qu],o=t[Qi];(ci(o)||t[ro]!==o[Qi][ro])&&(e[ir]|=Xu.HasTransplantedViews),null===r?e[qu]=[t]:r.push(t)}function Tv(e,t){const r=e[qu],o=r.indexOf(t);r.splice(o,1)}function hl(e,t){if(e.length<=No)return;const r=No+t,o=e[r];if(o){const a=o[tl];null!==a&&a!==e&&Tv(a,o),t>0&&(e[r-1][Ks]=o[Ks]);const c=Bu(e,No+t);!function Lf(e,t){vh(e,t),t[Ui]=null,t[mo]=null}(o[Tn],o);const m=c[nl];null!==m&&m.detachView(c[Tn]),o[Qi]=null,o[Ks]=null,o[ir]&=-129}return o}function us(e,t){if(!(256&t[ir])){const r=t[wr];r.destroyNode&&_h(e,t,r,3,null,null),function Vf(e){let t=e[Ku];if(!t)return Dv(e[Tn],e);for(;t;){let r=null;if(ci(t))r=t[Ku];else{const o=t[No];o&&(r=o)}if(!r){for(;t&&!t[Ks]&&t!==e;)ci(t)&&Dv(t[Tn],t),t=t[Qi];null===t&&(t=e),ci(t)&&Dv(t[Tn],t),r=t&&t[Ks]}t=r}}(t)}}function Dv(e,t){if(256&t[ir])return;const r=ce(null);try{t[ir]&=-129,t[ir]|=256,t[Es]&&ct(t[Es]),function jE(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof qc)){const c=r[o+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const E=a[c[m]],T=c[m+1];ua(4,E,T);try{T.call(E)}finally{ua(5,E,T)}}else{ua(4,a,c);try{c.call(a)}finally{ua(5,a,c)}}}}}(e,t),function Uf(e,t){const r=e.cleanup,o=t[wa];if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const m=r[c+3];m>=0?o[m]():o[-m].unsubscribe(),c+=2}else r[c].call(o[r[c+1]]);null!==o&&(t[wa]=null);const a=t[Rl];if(null!==a){t[Rl]=null;for(let c=0;c<a.length;c++)(0,a[c])()}}(e,t),1===t[Tn].type&&t[wr].destroy();const o=t[tl];if(null!==o&&Is(t[Qi])){o!==t[Qi]&&Tv(o,t);const a=t[nl];null!==a&&a.detachView(e)}qm(t)}finally{ce(r)}}function ud(e,t,r){return function Ty(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Ui];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:c}=e.data[o.directiveStart+a];if(c===_s.None||c===_s.Emulated)return null}return Jo(o,r)}}(e,t.parent,r)}function cd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function Bf(e,t,r){e.appendChild(t,r)}function $f(e,t,r,o,a){null!==o?cd(e,t,r,o,a):Bf(e,t,r)}function jf(e,t){return e.parentNode(t)}function Cg(e,t,r){return wv(e,t,r)}let Dg,wv=function Tg(e,t,r){return 40&e.type?Jo(e,r):null};function Hf(e,t,r,o){const a=ud(e,o,t),c=t[wr],E=Cg(o.parent||t[mo],o,t);if(null!=a)if(Array.isArray(r))for(let T=0;T<r.length;T++)$f(c,a,r[T],E,!1);else $f(c,a,r,E,!1);void 0!==Dg&&Dg(c,o,t,r,a)}function fc(e,t){if(null!==t){const r=t.type;if(3&r)return Jo(t,e);if(4&r)return wg(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return fc(e,o);{const a=e[t.index];return Is(a)?wg(-1,a):mi(a)}}if(128&r)return fc(e,t.next);if(32&r)return et(t,e)()||mi(e[t.index]);{const o=bg(e,t);return null!==o?Array.isArray(o)?o[0]:fc(Ol(e[ro]),o):fc(e,t.next)}}return null}function bg(e,t){return null!==t?e[ro][mo].projection[t.projection]:null}function wg(e,t){const r=No+e+1;if(r<t.length){const o=t[r],a=o[Tn].firstChild;if(null!==a)return fc(o,a)}return t[Va]}function Gf(e,t,r,o,a,c,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const E=o[r.index],T=r.type;if(m&&0===t&&(E&&Qs(mi(E),o),r.flags|=2),32&~r.flags)if(8&T)Gf(e,t,r.child,o,a,c,!1),bt(t,e,a,E,c);else if(32&T){const V=et(r,o);let G;for(;G=V();)bt(t,e,a,G,c);bt(t,e,a,E,c)}else 16&T?Zs(e,t,o,r,a,c):bt(t,e,a,E,c);r=m?r.projectionNext:r.next}}function _h(e,t,r,o,a,c){Gf(r,o,e.firstChild,t,a,c,!1)}function Zs(e,t,r,o,a,c){const m=r[ro],T=m[mo].projection[o.projection];if(Array.isArray(T))for(let V=0;V<T.length;V++)bt(t,e,a,T[V],c);else{let V=T;const G=m[Qi];Tf(o)&&(V.flags|=128),Gf(e,t,V,G,a,c,!0)}}function Sy(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function yh(e,t,r){const{mergedAttrs:o,classes:a,styles:c}=r;null!==o&&Xl(e,t,o),null!==a&&Sy(e,t,a),null!==c&&function wy(e,t,r){e.setAttribute(t,"style",r)}(e,t,c)}const $r={};function Sv(e=1){Mg(qr(),tn(),Oo()+e,!1)}function Mg(e,t,r,o){if(!o)if(3&~t[ir]){const c=e.preOrderHooks;null!==c&&pf(t,c,0,r)}else{const c=e.preOrderCheckHooks;null!==c&&ff(t,c,r)}ol(r)}function Eh(e,t=Tr.Default){const r=tn();return null===r?Ar(e,t):su(xi(),r,er(e),t)}function Ry(){throw new Error("invalid")}function Pg(e,t,r,o,a,c){const m=ce(null);try{let E=null;a&ys.SignalBased&&(E=t[o][le]),null!==E&&void 0!==E.transformFn&&(c=E.transformFn(c)),a&ys.HasDecoratorInputTransform&&(c=e.inputTransforms[o].call(t,c)),null!==e.setInput?e.setInput(t,E,c,r,o):Zh(t,E,o,c)}finally{ce(m)}}function Wf(e,t,r,o,a,c,m,E,T,V,G){const ie=t.blueprint.slice();return ie[Ui]=a,ie[ir]=204|o,(null!==V||e&&2048&e[ir])&&(ie[ir]|=2048),nf(ie),ie[Qi]=ie[Tu]=e,ie[Oi]=r,ie[La]=m||e&&e[La],ie[wr]=E||e&&e[wr],ie[Gi]=T||e&&e[Gi]||null,ie[mo]=c,ie[bu]=function Ao(){return kA++}(),ie[Ps]=G,ie[Ep]=V,ie[ro]=2==t.type?e[ro]:ie,ie}function Ll(e,t,r,o,a){let c=e.data[t];if(null===c)c=function Kf(e,t,r,o,a){const c=Ud(),m=as(),T=e.data[t]=function GE(e,t,r,o,a,c){let m=t?t.injectorIndex:-1,E=0;return da()&&(E|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(m?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T,T.prev=c)),T}(e,t,r,o,a),function bm(){return Pr.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=r,c.value=o,c.attrs=a;const m=function iu(){const e=Pr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return qs(c,!0),c}function dd(e,t,r,o){if(0===r)return-1;const a=t.length;for(let c=0;c<r;c++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function pc(e,t,r,o,a){const c=Oo(),m=2&o;try{ol(-1),m&&t.length>or&&Mg(e,t,or,!1),ua(m?2:0,a),r(o,a)}finally{ol(c),ua(m?3:1,a)}}function Ng(e,t,r){if(Fc(t)){const o=ce(null);try{const c=t.directiveEnd;for(let m=t.directiveStart;m<c;m++){const E=e.data[m];E.contentQueries&&E.contentQueries(1,r[m],m)}}finally{ce(o)}}}function Ih(e,t,r){xs()&&(function KE(e,t,r,o){const a=r.directiveStart,c=r.directiveEnd;Ml(r)&&function Uy(e,t,r){const o=Jo(t,e),a=Ah(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const E=Fg(e,Wf(e,a,null,m,o,t,null,e[La].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=E}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||qd(r,t),Qs(o,t);const m=r.initialInputs;for(let E=a;E<c;E++){const T=e.data[E],V=Qc(t,e,E,r);Qs(V,t),null!==m&&Nv(0,E-a,V,T,0,m),Ns(T)&&(Os(r.index,t)[Oi]=Qc(t,e,E,r))}}(e,t,r,Jo(r,t)),!(64&~r.flags)&&Yf(e,t,r))}function Og(e,t,r=Jo){const o=t.localNames;if(null!==o){let a=t.index+1;for(let c=0;c<o.length;c+=2){const m=o[c+1],E=-1===m?r(t,e):e[m];e[a++]=E}}}function Ah(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function xg(e,t,r,o,a,c,m,E,T,V,G){const ie=or+o,Ue=ie+a,Ye=function pa(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:$r);return r}(ie,Ue),We="function"==typeof V?V():V;return Ye[Tn]={type:e,blueprint:Ye,template:r,queries:null,viewQuery:E,declTNode:t,data:Ye.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:We,incompleteFirstPass:!1,ssrId:G}}let Ch=()=>null;function Ny(e,t,r,o,a){for(let m in t){var c;if(!t.hasOwnProperty(m))continue;const E=t[m];if(void 0===E)continue;null!==(c=o)&&void 0!==c||(o={});let T,V=ys.None;Array.isArray(E)?(T=E[0],V=E[1]):T=E;let G=m;if(null!==a){if(!a.hasOwnProperty(m))continue;G=a[m]}0===e?Xf(o,r,G,T,V):Xf(o,r,G,T)}return o}function Xf(e,t,r,o,a){let c;e.hasOwnProperty(r)?(c=e[r]).push(t,o):c=e[r]=[t,o],void 0!==a&&c.push(a)}function Fs(e,t,r,o,a,c,m,E){const T=Jo(t,r);let G,V=t.inputs;!E&&null!=V&&(G=V[o])?(Dh(e,r,G,o,a),Ml(t)&&function gc(e,t){const r=Os(t,e);16&r[ir]||(r[ir]|=64)}(r,t.index)):3&t.type&&(o=function Rv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,t.value||"",o):a,c.setProperty(T,o,a))}function Qf(e,t,r,o){if(xs()){const a=null===o?null:{"":-1},c=function Mv(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let m=0;m<r.length;m++){const E=r[m];if(_d(t,E.selectors,!1))if(o||(o=[]),Ns(E))if(null!==E.findHostDirectiveDefs){const T=[];a=a||new Map,E.findHostDirectiveDefs(E,T,a),o.unshift(...T,E),hd(e,t,T.length)}else o.unshift(E),hd(e,t,0);else{var c;a=a||new Map,null===(c=E.findHostDirectiveDefs)||void 0===c||c.call(E,E,o,a),o.push(E)}}return null===o?null:[o,a]}(e,r);let m,E;null===c?m=E=null:[m,E]=c,null!==m&&kg(e,t,r,m,a,E),a&&function fd(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=r[t[a+1]];if(null==c)throw new Sn(-301,!1);o.push(t[a],c)}}}(r,o,a)}r.mergedAttrs=Ya(r.mergedAttrs,r.attrs)}function kg(e,t,r,o,a,c){for(let ie=0;ie<o.length;ie++)Pp(qd(r,t),e,o[ie].type);!function qE(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let ie=0;ie<o.length;ie++){const Ue=o[ie];Ue.providersResolver&&Ue.providersResolver(Ue)}let m=!1,E=!1,T=dd(e,t,o.length,null);for(let ie=0;ie<o.length;ie++){const Ue=o[ie];r.mergedAttrs=Ya(r.mergedAttrs,Ue.hostAttrs),Vy(e,r,t,T,Ue),Pv(T,Ue,a),null!==Ue.contentQueries&&(r.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(r.flags|=64);const Ye=Ue.type.prototype;var V,G;!m&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((null!==(V=e.preOrderHooks)&&void 0!==V?V:e.preOrderHooks=[]).push(r.index),m=!0),E||!Ye.ngOnChanges&&!Ye.ngDoCheck||((null!==(G=e.preOrderCheckHooks)&&void 0!==G?G:e.preOrderCheckHooks=[]).push(r.index),E=!0),T++}!function Oy(e,t,r){const a=t.directiveEnd,c=e.data,m=t.attrs,E=[];let T=null,V=null;for(let G=t.directiveStart;G<a;G++){const ie=c[G],Ue=r?r.get(ie):null,We=Ue?Ue.outputs:null;T=Ny(0,ie.inputs,G,T,Ue?Ue.inputs:null),V=Ny(1,ie.outputs,G,V,We);const Ht=null===T||null===m||ju(t)?null:By(T,G,m);E.push(Ht)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=E,t.inputs=T,t.outputs=V}(e,r,c)}function Yf(e,t,r){const o=r.directiveStart,a=r.directiveEnd,c=r.index,m=function g(){return Pr.lFrame.currentDirectiveIndex}();try{ol(c);for(let E=o;E<a;E++){const T=e.data[E],V=t[E];A(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Ly(T,V)}}finally{ol(-1),A(m)}}function Ly(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function hd(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function Pv(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Ns(t)&&(r[""]=e)}}function Vy(e,t,r,o,a){e.data[o]=a;const c=a.factory||(a.factory=Dn(a.type)),m=new qc(c,Ns(a),Eh);e.blueprint[o]=m,r[o]=m,function ky(e,t,r,o,a){const c=a.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const E=~t.index;(function Fy(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(m)!=E&&m.push(E),m.push(r,o,c)}}(e,t,o,dd(e,r,a.hostVars,$r),a)}function Vl(e,t,r,o,a,c){const m=Jo(e,t);!function Zf(e,t,r,o,a,c,m){if(null==c)e.removeAttribute(t,a,r);else{const E=null==m?pr(c):m(c,o||"",a);e.setAttribute(t,a,E,r)}}(t[wr],m,c,e.value,r,o,a)}function Nv(e,t,r,o,a,c){const m=c[t];if(null!==m)for(let E=0;E<m.length;)Pg(o,r,m[E++],m[E++],m[E++],m[E++])}function By(e,t,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===o&&(o=[]);const m=e[c];for(let E=0;E<m.length;E+=3)if(m[E]===t){o.push(c,m[E+1],m[E+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Ov(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function $y(e,t){const r=e.contentQueries;if(null!==r){const o=ce(null);try{for(let a=0;a<r.length;a+=2){const m=r[a+1];if(-1!==m){const E=e.data[m];Ze(r[a]),E.contentQueries(2,t[m],m)}}}finally{ce(o)}}}function Fg(e,t){return e[Ku]?e[Oc][Ks]=t:e[Ku]=t,e[Oc]=t,t}function Lg(e,t,r){Ze(0);const o=ce(null);try{t(e,r)}finally{ce(o)}}function jy(e){var t;return null!==(t=e[wa])&&void 0!==t?t:e[wa]=[]}function mc(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function pd(e,t){const r=e[Gi],o=r?r.get(au,null):null;o&&o.handleError(t)}function Dh(e,t,r,o,a){for(let c=0;c<r.length;){const m=r[c++],E=r[c++],T=r[c++];Pg(e.data[m],t[m],o,E,T,a)}}function vo(e,t){const r=Os(t,e),o=r[Tn];!function Vg(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Ui];null!==a&&null===r[Ps]&&(r[Ps]=av(a,r[Gi])),gd(o,r,r[Oi])}function gd(e,t,r){Mn(t);try{var o;const a=e.viewQuery;null!==a&&Lg(1,a,r);const c=e.template;null!==c&&pc(e,t,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[nl])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&$y(e,t),e.staticViewQueries&&Lg(2,e.viewQuery,r);const m=e.components;null!==m&&function Jf(e,t){for(let r=0;r<t.length;r++)vo(e,t[r])}(t,m)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[ir]&=-5,Ou()}}function bh(e,t,r,o){const a=ce(null);try{var c,m,E;const T=t.tView,ie=Wf(e,T,r,4096&e[ir]?4096:16,null,t,null,null,null!==(c=null==o?void 0:o.injector)&&void 0!==c?c:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(E=null==o?void 0:o.dehydratedView)&&void 0!==E?E:null);ie[tl]=e[t.index];const Ye=e[nl];return null!==Ye&&(ie[nl]=Ye.createEmbeddedView(T)),gd(T,ie,r),ie}finally{ce(a)}}function md(e,t){return!t||null===t.firstChild||Tf(e)}function wh(e,t,r,o=!0){const a=t[Tn];if(function Av(e,t,r,o){const a=No+o,c=r.length;o>0&&(r[a-1][Ks]=t),o<c-No?(t[Ks]=r[a],Hs(r,No+o,t)):(r.push(t),t[Ks]=null),t[Qi]=r;const m=t[tl];null!==m&&r!==m&&Cv(m,t);const E=t[nl];null!==E&&E.insertView(e),xd(t),t[ir]|=128}(a,t,e,r),o){const m=wg(r,e),E=t[wr],T=jf(E,e[Va]);null!==T&&function $E(e,t,r,o,a,c){o[Ui]=a,o[mo]=t,_h(e,o,r,1,a,c)}(a,e[mo],E,t,T,m)}const c=t[Ps];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function ep(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const c=t[r.index];null!==c&&o.push(mi(c)),Is(c)&&Sh(c,o);const m=r.type;if(8&m)ep(e,t,r.child,o);else if(32&m){const E=et(r,t);let T;for(;T=E();)o.push(T)}else if(16&m){const E=bg(t,r);if(Array.isArray(E))o.push(...E);else{const T=Ol(t[ro]);ep(T[Tn],T,E,o,!0)}}r=a?r.projectionNext:r.next}return o}function Sh(e,t){for(let r=No;r<e.length;r++){const o=e[r],a=o[Tn].firstChild;null!==a&&ep(o[Tn],o,a,t)}e[Va]!==e[Ui]&&t.push(e[Va])}let Fu=[];const Rh={...ye,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gc(e.lView)},consumerOnSignalRead(){this.lView[Es]=this}},YE={...ye,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ol(e.lView);for(;t&&!Wy(t[Tn]);)t=Ol(t);t&&zc(t)},consumerOnSignalRead(){this.lView[Es]=this}};function Wy(e){return 2!==e.type}const vc=100;function Ug(e,t=!0,r=0){const o=e[La],a=o.rendererFactory;var m;null===(m=a.begin)||void 0===m||m.call(a);try{!function ZE(e,t){const r=Bd();try{cf(!0),rp(e,t);let o=0;for(;rl(e);){if(o===vc)throw new Sn(103,!1);o++,rp(e,1)}}finally{cf(r)}}(e,r)}catch(V){throw t&&pd(e,V),V}finally{var E,T;null===(E=a.end)||void 0===E||E.call(a),null===(T=o.inlineEffectRunner)||void 0===T||T.flush()}}function Bg(e,t,r,o){var a;const c=t[ir];if(!(256&~c))return;null===(a=t[La].inlineEffectRunner)||void 0===a||a.flush(),Mn(t);let T=!0,V=null,G=null;Wy(e)?(G=function Hy(e){var t;return null!==(t=e[Es])&&void 0!==t?t:function zy(e){var t;const r=null!==(t=Fu.pop())&&void 0!==t?t:Object.create(Rh);return r.lView=e,r}(e)}(t),V=ft(G)):null===function Ce(){return f}()?(T=!1,G=function QE(e){var t;const r=null!==(t=e[Es])&&void 0!==t?t:Object.create(YE);return r.lView=e,r}(t),V=ft(G)):t[Es]&&(ct(t[Es]),t[Es]=null);try{nf(t),function $d(e){return Pr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&pc(e,t,r,2,o);const ie=!(3&~c);if(ie){const We=e.preOrderCheckHooks;null!==We&&ff(t,We,null)}else{const We=e.preOrderHooks;null!==We&&pf(t,We,0,null),bp(t,0)}if(function tp(e){for(let t=wf(e);null!==t;t=oy(t)){if(!(t[ir]&Xu.HasTransplantedViews))continue;const r=t[qu];for(let o=0;o<r.length;o++)zc(r[o])}}(t),Fv(t,0),null!==e.contentQueries&&$y(e,t),ie){const We=e.contentCheckHooks;null!==We&&ff(t,We)}else{const We=e.contentHooks;null!==We&&pf(t,We,1),bp(t,1)}!function My(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)ol(~a);else{const c=a,m=r[++o],E=r[++o];h(m,c),E(2,t[c])}}}finally{ol(-1)}}(e,t);const Ue=e.components;null!==Ue&&xo(t,Ue,0);const Ye=e.viewQuery;if(null!==Ye&&Lg(2,Ye,o),ie){const We=e.viewCheckHooks;null!==We&&ff(t,We)}else{const We=e.viewHooks;null!==We&&pf(t,We,2),bp(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[la]){for(const We of t[la])We();t[la]=null}t[ir]&=-73}catch(ie){throw Gc(t),ie}finally{null!==G&&(tt(G,V),T&&function Gy(e){e.lView[Es]!==e&&(e.lView=null,Fu.push(e))}(G)),Ou()}}function Fv(e,t){for(let r=wf(e);null!==r;r=oy(r))for(let o=No;o<r.length;o++)Lv(r[o],t)}function np(e,t,r){Lv(Os(t,e),r)}function Lv(e,t){tf(e)&&rp(e,t)}function rp(e,t){const o=e[Tn],a=e[ir],c=e[Es];let m=!!(0===t&&16&a);if(m||(m=!!(64&a&&0===t)),m||(m=!!(1024&a)),m||(m=!(null==c||!c.dirty||!pt(c))),m||(m=!1),c&&(c.dirty=!1),e[ir]&=-9217,m)Bg(o,e,o.template,e[Oi]);else if(8192&a){Fv(e,1);const E=o.components;null!==E&&xo(e,E,1)}}function xo(e,t,r){for(let o=0;o<t.length;o++)np(e,t[o],r)}function ip(e,t){var r;const o=Bd()?64:1088;for(null===(r=e[La].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[ir]|=o;const a=Ol(e);if(Lc(e)&&!a)return e;e=a}return null}class op{get rootNodes(){const t=this._lView,r=t[Tn];return ep(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oi]}set context(t){this._lView[Oi]=t}get destroyed(){return!(256&~this._lView[ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Qi];if(Is(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(hl(t,o),Bu(r,o))}this._attachedToViewContainer=!1}us(this._lView[Tn],this._lView)}onDestroy(t){kd(this._lView,t)}markForCheck(){ip(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ir]&=-129}reattach(){xd(this._lView),this._lView[ir]|=128}detectChanges(){this._lView[ir]|=1024,Ug(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Sn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Lc(this._lView),r=this._lView[tl];null!==r&&!t&&Tv(r,this._lView),vh(this._lView[Tn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Sn(902,!1);this._appRef=t;const r=Lc(this._lView),o=this._lView[tl];null!==o&&!r&&Cv(o,this._lView),xd(this._lView)}}let Ph=(()=>{class t{}return t.__NG_ELEMENT_ID__=$g,t})();const Ky=Ph,qy=class extends Ky{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=bh(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new op(a)}};function $g(){return sp(xi(),tn())}function sp(e,t){return 4&e.type?new qy(t,e,Bi(e,t)):null}let cC=()=>null;function cp(e,t){return cC(e,t)}class Kg{}const Yv=new dr("",{providedIn:"root",factory:()=>!1}),dC=new dr(""),sI=new dr("");class ES{}class hC{}class AS{resolveComponentFactory(t){throw function IS(e){const t=Error(`No component factory found for ${Di(e)}.`);return t.ngComponent=e,t}(t)}}class Zv{}Zv.NULL=new AS;class aI{}let CS=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function TS(){const e=tn(),r=Os(xi().index,e);return(ci(r)?r:e)[wr]}(),t})(),DS=(()=>{var e;class t{}return(e=t).\u0275prov=Er({token:e,providedIn:"root",factory:()=>null}),t})();function Lh(e){return!!wi(e)}function o0(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const E=t[m];"number"==typeof E?c=E:1==c?a=rr(a,E):2==c&&(o=rr(o,E+": "+t[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class mC extends Zv{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=hr(t);return new t_(r,this.ngModule)}}function vC(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const c=Array.isArray(a),m=c?a[0]:a;r.push(t?{propName:m,templateName:o,isSignal:!!((c?a[1]:ys.None)&ys.SignalBased)}:{propName:m,templateName:o})}return r}class t_ extends hC{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=vC(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return vC(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function ge(e){return e.map(he).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const c=ce(null);try{var E;let T=(a=a||this.ngModule)instanceof Ws?a:null===(E=a)||void 0===E?void 0:E.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const V=T?new Xc(t,T):t,G=V.get(aI,null);if(null===G)throw new Sn(407,!1);const Ye={rendererFactory:G,sanitizer:V.get(DS,null),inlineEffectRunner:null,changeDetectionScheduler:V.get(Kg,null)},We=G.createRenderer(null,this.componentDef),Ht=this.componentDef.selectors[0][0]||"div",cn=o?function Py(e,t,r,o){const c=o.get(ug,!1)||r===_s.ShadowDom,m=e.selectRootElement(t,c);return function qf(e){Ch(e)}(m),m}(We,o,this.componentDef.encapsulation,V):dl(We,Ht,function SS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Ht));let En=512;this.componentDef.signals?En|=4096:this.componentDef.onPush||(En|=16);let Xt=null;null!==cn&&(Xt=av(cn,V,!0));const Cr=xg(0,null,null,1,0,null,null,null,null,null,null),Vr=Wf(null,Cr,null,En,null,null,Ye,We,V,null,Xt);Mn(Vr);let oo,Us,Na=null;try{const Hl=this.componentDef;let vp,PA=null;Hl.findHostDirectiveDefs?(vp=[],PA=new Map,Hl.findHostDirectiveDefs(Hl,vp,PA),vp.push(Hl)):vp=[Hl];const Jx=function MS(e,t){const r=e[Tn],o=or;return e[o]=t,Ll(r,o,2,"#host",null)}(Vr,cn);Na=function PS(e,t,r,o,a,c,m){const E=a[Tn];!function NS(e,t,r,o){for(const a of e)t.mergedAttrs=Ya(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(o0(t,t.mergedAttrs,!0),null!==r&&yh(o,r,t))}(o,e,t,m);let T=null;null!==t&&(T=av(t,a[Gi]));const V=c.rendererFactory.createRenderer(t,r);let G=16;r.signals?G=4096:r.onPush&&(G=64);const ie=Wf(a,Ah(r),null,G,a[e.index],e,c,V,null,null,T);return E.firstCreatePass&&hd(E,e,o.length-1),Fg(a,ie),a[e.index]=ie}(Jx,cn,Hl,vp,Vr,Ye,We),Us=Ju(Cr,or),cn&&function xS(e,t,r,o){if(o)Xl(e,r,["ng-version","18.2.3"]);else{const{attrs:a,classes:c}=function Dt(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let c=e[o];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++o]):8===a&&r.push(c);else{if(!Da(a))break;a=c}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&Xl(e,r,a),c&&c.length>0&&Sy(e,r,c.join(" "))}}(We,Hl,cn,o),void 0!==r&&function kS(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const c=r[a];o.push(null!=c?Array.from(c):null)}}(Us,this.ngContentSelectors,r),oo=function OS(e,t,r,o,a,c){const m=xi(),E=a[Tn],T=Jo(m,a);kg(E,a,m,r,null,o);for(let G=0;G<r.length;G++)Qs(Qc(a,E,m.directiveStart+G,m),a);Yf(E,a,m),T&&Qs(T,a);const V=Qc(a,E,m.directiveStart+m.componentOffset,m);if(e[Oi]=a[Oi]=V,null!==c)for(const G of c)G(V,t);return Ng(E,m,a),V}(Na,Hl,vp,PA,Vr,[FS]),gd(Cr,Vr,null)}catch(Hl){throw null!==Na&&qm(Na),qm(Vr),Hl}finally{Ou()}return new RS(this.componentType,oo,Bi(Us,Vr),Vr,Us)}finally{ce(c)}}}class RS extends ES{constructor(t,r,o,a,c){super(),this.location=o,this._rootLView=a,this._tNode=c,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new op(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var c;if(null!==(c=this.previousInputValues)&&void 0!==c||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const m=this._rootLView;Dh(m[Tn],m,a,t,r),this.previousInputValues.set(t,r),ip(Os(this._tNode.index,m),1)}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function FS(){const e=xi();hf(tn()[Tn],e)}let s0=(()=>{class t{}return t.__NG_ELEMENT_ID__=LS,t})();function LS(){return EC(xi(),tn())}const VS=s0,_C=class extends VS{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Bi(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const t=ku(this._hostTNode,this._hostLView);if(vf(t)){const r=Kd(t,this._hostLView),o=_f(t);return new qo(r[Tn].data[o+8],r)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=yC(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-No}createEmbeddedView(t,r,o){let a,c;"number"==typeof o?a=o:null!=o&&(a=o.index,c=o.injector);const m=cp(this._lContainer,t.ssrId),E=t.createEmbeddedViewImpl(r||{},c,m);return this.insertImpl(E,a,md(this._hostTNode,m)),E}createComponent(t,r,o,a,c){var m,E,T;const V=t&&!function eu(e){return"function"==typeof e}(t);let G;if(V)G=r;else{const En=r||{};G=En.index,o=En.injector,a=En.projectableNodes,c=En.environmentInjector||En.ngModuleRef}const ie=V?t:new t_(hr(t)),Ue=o||this.parentInjector;if(!c&&null==ie.ngModule){const Xt=(V?Ue:this.parentInjector).get(Ws,null);Xt&&(c=Xt)}const Ye=hr(null!==(m=ie.componentType)&&void 0!==m?m:{}),We=cp(this._lContainer,null!==(E=null==Ye?void 0:Ye.id)&&void 0!==E?E:null),Ht=null!==(T=null==We?void 0:We.firstChild)&&void 0!==T?T:null,cn=ie.create(Ue,a,Ht,c);return this.insertImpl(cn.hostView,G,md(this._hostTNode,We)),cn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function ss(e){return Is(e[Qi])}(a)){const E=this.indexOf(t);if(-1!==E)this.detach(E);else{const T=a[Qi],V=new _C(T,T[mo],T[Qi]);V.detach(V.indexOf(t))}}const c=this._adjustIndex(r),m=this._lContainer;return wh(m,a,c,o),t.attachToViewContainerRef(),Hs(cI(m),c,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=yC(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=hl(this._lContainer,r);o&&(Bu(cI(this._lContainer),r),us(o[Tn],o))}detach(t){const r=this._adjustIndex(t,-1),o=hl(this._lContainer,r);return o&&null!=Bu(cI(this._lContainer),r)?new op(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function yC(e){return e[8]}function cI(e){return e[8]||(e[8]=[])}function EC(e,t){let r;const o=t[e.index];return Is(o)?r=o:(r=Ov(o,t,null,e),t[e.index]=r,Fg(t,r)),IC(r,t,e,o),new _C(r,e,t)}let IC=function CC(e,t,r,o){if(e[Va])return;let a;a=8&r.type?mi(o):function US(e,t){const r=e[wr],o=r.createComment(""),a=Jo(t,e);return cd(r,jf(r,a),o,function bv(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[Va]=a},dI=()=>!1;class hI{constructor(t){this.queryList=t,this.matches=null}clone(){return new hI(this.queryList)}setDirty(){this.queryList.setDirty()}}class fI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let c=0;c<o;c++){const m=r.getByIndex(c);a.push(this.queries[m.indexInDeclarationView].clone())}return new fI(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==_I(t,r).matches&&this.queries[r].setDirty()}}class TC{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function KS(e){return e.split(",").map(t=>t.trim())}(t):t}}class pI{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(t,a);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new pI(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gI{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new gI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const c=o[a];this.matchTNodeWithReadOption(t,r,HS(r,c)),this.matchTNodeWithReadOption(t,r,Xd(r,t,c,!1,!1))}else o===Ph?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Xd(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Ma||a===s0||a===Ph&&4&r.type)this.addMatch(r.index,-2);else{const c=Xd(r,t,a,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function HS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function GS(e,t,r,o){return-1===r?function zS(e,t){return 11&e.type?Bi(e,t):4&e.type?sp(e,t):null}(t,e):-2===r?function WS(e,t,r){return r===Ma?Bi(t,e):r===Ph?sp(t,e):r===s0?EC(t,e):void 0}(e,t,o):Qc(e,e[Tn],r,t)}function DC(e,t,r,o){const a=t[nl].queries[o];if(null===a.matches){const c=e.data,m=r.matches,E=[];for(let T=0;null!==m&&T<m.length;T+=2){const V=m[T];E.push(V<0?null:GS(t,c[V],m[T+1],r.metadata.read))}a.matches=E}return a.matches}function mI(e,t,r,o){const a=e.queries.getByIndex(r),c=a.matches;if(null!==c){const m=DC(e,t,a,r);for(let E=0;E<c.length;E+=2){const T=c[E];if(T>0)o.push(m[E/2]);else{const V=c[E+1],G=t[-T];for(let ie=No;ie<G.length;ie++){const Ue=G[ie];Ue[tl]===Ue[Qi]&&mI(Ue[Tn],Ue,V,o)}if(null!==G[qu]){const ie=G[qu];for(let Ue=0;Ue<ie.length;Ue++){const Ye=ie[Ue];mI(Ye[Tn],Ye,V,o)}}}}}return o}function bC(e,t,r){var o;const a=new eh(!(4&~r));return function Th(e,t,r,o){const a=jy(t);a.push(r),e.firstCreatePass&&mc(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[nl])&&void 0!==o?o:t[nl]=new fI).queries.push(new hI(a))-1}function RC(e,t,r){null===e.queries&&(e.queries=new pI),e.queries.track(new gI(t,r))}function _I(e,t){return e.queries.getByIndex(t)}function MC(e,t){const r=e[Tn],o=_I(r,t);return o.crossesNgTemplate?mI(r,e,t,[]):DC(r,e,o,t)}const PC=new Set;function Ga(e){var t,r;PC.has(e)||(PC.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function OC(e,t){Ga("NgSignals");const r=function ee(e){const t=Object.create(zt);t.value=e;const r=()=>(me(t),t.value);return r[le]=t,r}(e),o=r[le];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>ut(o,a),r.update=a=>function Xe(e,t){st()||dt(),ut(e,t(e.value))}(o,a),r.asReadonly=xC.bind(r),r}function xC(){const e=this[le];if(void 0===e.readonlyFn){const t=()=>this();t[le]=e,e.readonlyFn=t}return e.readonlyFn}function kC(e){return function NC(e){return"function"==typeof e&&void 0!==e[le]}(e)&&"function"==typeof e.set}function EI(e){let t=function WC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Ns(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Sn(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const m=e;m.inputs=l0(e.inputs),m.inputTransforms=l0(e.inputTransforms),m.declaredInputs=l0(e.declaredInputs),m.outputs=l0(e.outputs);const E=a.hostBindings;E&&lR(e,E);const T=a.viewQuery,V=a.contentQueries;if(T&&sR(e,T),V&&aR(e,V),iR(e,a),pl(e.outputs,a.outputs),Ns(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let m=0;m<c.length;m++){const E=c[m];E&&E.ngInherit&&E(e),E===EI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function oR(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Ya(a.hostAttrs,r=Ya(r,a.hostAttrs))}}(o)}function iR(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const c=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(c))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[c]=t.inputTransforms[c]}}}function l0(e){return e===zs?{}:e===gi?[]:e}function sR(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function aR(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,c)=>{t(o,a,c),r(o,a,c)}:t}function lR(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function QC(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class dp{}class YC{}function pR(e,t){return new II(e,null!=t?t:null,[])}class II extends dp{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mC(this);const c=wi(t);this._bootstrapComponents=rt(c.bootstrap),this._r3Injector=U_(t,r,[{provide:dp,useValue:this},{provide:Zv,useValue:this.componentFactoryResolver},...o],Di(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class AI extends YC{constructor(t){super(),this.moduleType=t}create(t){return new II(this.moduleType,t,[])}}class ZC extends dp{constructor(t){super(),this.componentFactoryResolver=new mC(this),this.instance=null;const r=new zu([...t.providers,{provide:dp,useValue:this},{provide:Zv,useValue:this.componentFactoryResolver}],t.parent||Hu(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function CI(e,t,r=null){return new ZC({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function u0(e){return!!TI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function TI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ds(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function i_(e,t,r,o,a,c,m,E,T,V){const G=r+or,ie=t.firstCreatePass?function ER(e,t,r,o,a,c,m,E,T){const V=t.consts,G=Ll(t,e,4,m||null,E||null);Qf(t,r,G,Sa(V,T)),hf(t,G);const ie=G.tView=xg(2,G,o,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,V,null);return null!==t.queries&&(t.queries.template(t,G),ie.queries=t.queries.embeddedTView(G)),G}(G,t,e,o,a,c,m,E,T):t.data[G];qs(ie,!1);const Ue=JC(t,e,ie,r);xu()&&Hf(t,e,Ue,ie),Qs(Ue,e);const Ye=Ov(Ue,e,Ue,ie);return e[G]=Ye,Fg(e,Ye),function AC(e,t,r){return dI(e,t,r)}(Ye,ie,e),Rd(ie)&&Ih(t,e,ie),null!=T&&Og(e,ie,V),ie}function DI(e,t,r,o,a,c,m,E){const T=tn(),V=qr();return i_(T,V,e,t,r,o,a,Sa(V.consts,c),m,E),DI}let JC=function eT(e,t,r,o){return ja(!0),t[wr].createComment("")};var Yg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Yg||{});let sT=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=Er({token:e,providedIn:"root",factory:()=>new e}),t})();class p0{constructor(){this.ngZone=bn(Io),this.scheduler=bn(Kg),this.errorHandler=bn(au,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of p0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Qr=p0).PHASES=[Yg.EarlyRead,Yg.Write,Yg.MixedReadWrite,Yg.Read],Qr.\u0275prov=Er({token:Qr,providedIn:"root",factory:()=>new Qr});class TR{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function g0(e,t){var r;(null==t||!t.injector)&&function Pc(e){if(!Td())throw new Sn(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:bn(Xs);return function St(e){return"browser"===(null!=e?e:bn(Xs)).get(sh)}(o)?(Ga("NgAfterNextRender"),function aT(e,t,r,o){var a,c;const m=t.get(sT);null!==(a=m.impl)&&void 0!==a||(m.impl=t.get(p0));const E=null!==(c=null==r?void 0:r.phase)&&void 0!==c?c:Yg.MixedReadWrite,T=new TR(m.impl,function bR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,E),o,t.get(Yc));return m.impl.register(T),T}(e,o,t,!0)):lT}const lT={destroy(){}};function FI(e,t,r,o){const a=tn();return ds(a,Ba(),t)&&(qr(),Vl(ki(),a,e,t,r,o)),FI}function im(e,t,r,o){return ds(e,Ba(),r)?t+pr(r)+o:$r}function _0(e,t){return e<<17|t<<2}function Bh(e){return e>>17&32767}function LI(e){return 2|e}function pp(e){return(131068&e)>>2}function VI(e,t){return-131069&e|t<<2}function UI(e){return 1|e}function xT(e,t,r,o){const a=e[r+1],c=null===t;let m=o?Bh(a):pp(a),E=!1;for(;0!==m&&(!1===E||c);){const V=e[m+1];lM(e[m],t)&&(E=!0,e[m+1]=o?UI(V):LI(V)),m=o?Bh(V):pp(V)}E&&(e[r+1]=o?LI(a):UI(a))}function lM(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Cl(e,t)>=0}function BI(e,t,r){const o=tn();return ds(o,Ba(),t)&&Fs(qr(),ki(),o,e,t,o[wr],r,!1),BI}function $I(e,t,r,o,a){const m=a?"class":"style";Dh(e,r,t.inputs[m],m,o)}function jI(e,t){return function Lu(e,t,r,o){const a=tn(),c=qr(),m=function $a(e){const t=Pr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);c.firstUpdatePass&&function HT(e,t,r,o){const a=e.data;if(null===a[r+1]){const c=a[Oo()],m=function jT(e,t){return t>=e.expandoStartIndex}(e,r);(function KT(e,t){return!!(e.flags&(t?8:16))})(c,o)&&null===t&&!m&&(t=!1),t=function vM(e,t,r,o){const a=function H(e){const t=Pr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=l_(r=HI(null,e,t,r,o),t.attrs,o),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==a)if(r=HI(a,e,t,r,o),null===c){let T=function _M(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==pp(o))return e[Bh(o)]}(e,t,o);void 0!==T&&Array.isArray(T)&&(T=HI(null,e,t,T[1],o),T=l_(T,t.attrs,o),function yM(e,t,r,o){e[Bh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,T))}else c=function EM(e,t,r){let o;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)o=l_(o,e[c].hostAttrs,r);return l_(o,t.attrs,r)}(e,t,o)}return void 0!==c&&(o?t.residualClasses=c:t.residualStyles=c),r}(a,c,t,o),function sM(e,t,r,o,a,c){let m=c?t.classBindings:t.styleBindings,E=Bh(m),T=pp(m);e[o]=r;let G,V=!1;if(Array.isArray(r)?(G=r[1],(null===G||Cl(r,G)>0)&&(V=!0)):G=r,a)if(0!==T){const Ue=Bh(e[E+1]);e[o+1]=_0(Ue,E),0!==Ue&&(e[Ue+1]=VI(e[Ue+1],o)),e[E+1]=function iM(e,t){return 131071&e|t<<17}(e[E+1],o)}else e[o+1]=_0(E,0),0!==E&&(e[E+1]=VI(e[E+1],o)),E=o;else e[o+1]=_0(T,0),0===E?E=o:e[T+1]=VI(e[T+1],o),T=o;V&&(e[o+1]=LI(e[o+1])),xT(e,G,o,!0),xT(e,G,o,!1),function aM(e,t,r,o,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&Cl(c,t)>=0&&(r[o+1]=UI(r[o+1]))}(t,G,e,o,c),m=_0(E,T),c?t.classBindings=m:t.styleBindings=m}(a,c,t,r,m,o)}}(c,e,m,o),t!==$r&&ds(a,m,t)&&function GT(e,t,r,o,a,c,m,E){if(!(3&t.type))return;const T=e.data,V=T[E+1],G=function oM(e){return!(1&~e)}(V)?WT(T,t,r,a,pp(V),m):void 0;y0(G)||(y0(c)||function rM(e){return!(2&~e)}(V)&&(c=WT(T,null,r,a,E,m)),function by(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let c=-1===o.indexOf("-")?void 0:Or.DashCase;null==a?e.removeStyle(r,o,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=Or.Important),e.setStyle(r,o,a,c))}}(o,m,Nl(Oo(),r),a,c))}(c,c.data[Oo()],a,a[wr],e,a[m+1]=function TM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Di(uc(e)))),e}(t,r),o,m)}(e,t,null,!0),jI}function HI(e,t,r,o,a){let c=null;const m=r.directiveEnd;let E=r.directiveStylingLast;for(-1===E?E=r.directiveStart:E++;E<m&&(c=t[E],o=l_(o,c.hostAttrs,a),c!==e);)E++;return null!==e&&(r.directiveStylingLast=E),o}function l_(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Mo(e,m,!!r||t[++c]))}return void 0===e?null:e}function WT(e,t,r,o,a,c){const m=null===t;let E;for(;a>0;){const T=e[a],V=Array.isArray(T),G=V?T[1]:T,ie=null===G;let Ue=r[a+1];Ue===$r&&(Ue=ie?gi:void 0);let Ye=ie?Ta(Ue,o):G===o?Ue:void 0;if(V&&!y0(Ye)&&(Ye=Ta(T,o)),y0(Ye)&&(E=Ye,m))return E;const We=e[a+1];a=m?Bh(We):pp(We)}if(null!==t){let T=c?t.residualClasses:t.residualStyles;null!=T&&(E=Ta(T,o))}return E}function y0(e){return void 0!==e}function I0(e,t,r,o){const a=tn(),c=qr(),m=or+e,E=a[wr],T=c.firstCreatePass?function KM(e,t,r,o,a,c){const m=t.consts,T=Ll(t,e,2,o,Sa(m,a));return Qf(t,r,T,Sa(m,c)),null!==T.attrs&&o0(T,T.attrs,!1),null!==T.mergedAttrs&&o0(T,T.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,T),T}(m,c,a,t,r,o):c.data[m],V=YT(c,a,T,E,t,e);a[m]=V;const G=Rd(T);return qs(T,!0),yh(E,V,T),!function Xg(e){return!(32&~e.flags)}(T)&&xu()&&Hf(c,a,V,T),0===function Fd(){return Pr.lFrame.elementDepthCount}()&&Qs(V,a),function nu(){Pr.lFrame.elementDepthCount++}(),G&&(Ih(c,a,T),Ng(c,T,a)),null!==o&&Og(a,T),I0}function A0(){let e=xi();as()?il():(e=e.parent,qs(e,!1));const t=e;(function Ld(e){return Pr.skipHydrationRootTNode===e})(t)&&function uf(){Pr.skipHydrationRootTNode=null}(),function af(){Pr.lFrame.elementDepthCount--}();const r=qr();return r.firstCreatePass&&(hf(r,e),Fc(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Sm(e){return!!(8&e.flags)}(t)&&$I(r,t,tn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Rm(e){return!!(16&e.flags)}(t)&&$I(r,t,tn(),t.stylesWithoutHost,!1),A0}function KI(e,t,r,o){return I0(e,t,r,o),A0(),KI}let YT=(e,t,r,o,a,c)=>(ja(!0),dl(o,a,function zd(){return Pr.lFrame.currentNamespace}()));function C0(e,t,r){const o=tn(),a=qr(),c=e+or,m=a.firstCreatePass?function QM(e,t,r,o,a){const c=t.consts,m=Sa(c,o),E=Ll(t,e,8,"ng-container",m);return null!==m&&o0(E,m,!0),Qf(t,r,E,Sa(c,a)),null!==t.queries&&t.queries.elementStart(t,E),E}(c,a,o,t,r):a.data[c];qs(m,!0);const E=ZT(a,o,m,e);return o[c]=E,xu()&&Hf(a,o,E,m),Qs(E,o),Rd(m)&&(Ih(a,o,m),Ng(a,m,o)),null!=r&&Og(o,m),C0}function T0(){let e=xi();const t=qr();return as()?il():(e=e.parent,qs(e,!1)),t.firstCreatePass&&(hf(t,e),Fc(e)&&t.queries.elementEnd(e)),T0}function qI(e,t,r){return C0(e,t,r),T0(),qI}let ZT=(e,t,r,o)=>(ja(!0),yt(t[wr],""));function JT(){return tn()}const gp=void 0;var eP=["en",[["a","p"],["AM","PM"],gp],[["AM","PM"],gp,gp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gp,"{1} 'at' {0}",gp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let fm={};function XI(e){const t=function tP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=rD(t);if(r)return r;const o=t.split("-")[0];if(r=rD(o),r)return r;if("en"===o)return eP;throw new Sn(701,!1)}function nD(e){return XI(e)[pm.PluralCase]}function rD(e){return e in fm||(fm[e]=ei.ng&&ei.ng.common&&ei.ng.common.locales&&ei.ng.common.locales[e]),fm[e]}var pm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(pm||{});const D0="en-US";let iD=D0,AD=(e,t,r)=>{};function ZI(e,t,r,o){const a=tn(),c=qr(),m=xi();return JI(c,a,a[wr],m,e,t,o),ZI}function JI(e,t,r,o,a,c,m){const E=Rd(o),V=e.firstCreatePass&&mc(e),G=t[Oi],ie=jy(t);let Ue=!0;if(3&o.type||m){const Ht=Jo(o,t),cn=m?m(Ht):Ht,En=ie.length,Xt=m?Vr=>m(mi(Vr[o.index])):o.index;let Cr=null;if(!m&&E&&(Cr=function HP(e,t,r,o){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const m=a[c];if(m===r&&a[c+1]===o){const E=t[wa],T=a[c+2];return E.length>T?E[T]:null}"string"==typeof m&&(c+=2)}return null}(e,t,a,o.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=c,Cr.__ngLastListenerFn__=c,Ue=!1;else{c=bD(o,t,G,c),AD(Ht,a,c);const Vr=r.listen(cn,a,c);ie.push(c,Vr),V&&V.push(a,Xt,En,En+1)}}else c=bD(o,t,G,c);const Ye=o.outputs;let We;if(Ue&&null!==Ye&&(We=Ye[a])){const Ht=We.length;if(Ht)for(let cn=0;cn<Ht;cn+=2){const oo=t[We[cn]][We[cn+1]].subscribe(c),Us=ie.length;ie.push(c,oo),V&&V.push(a,o.index,Us,-(Us+1))}}}function DD(e,t,r,o){const a=ce(null);try{return ua(6,t,r),!1!==r(o)}catch(c){return pd(e,c),!1}finally{ua(7,t,r),ce(a)}}function bD(e,t,r,o){return function a(c){if(c===Function)return o;ip(e.componentOffset>-1?Os(e.index,t):t,5);let E=DD(t,r,o,c),T=a.__ngNextListenerFn__;for(;T;)E=DD(t,r,T,c)&&E,T=T.__ngNextListenerFn__;return E}}function wD(e=1){return function jd(e){return(Pr.lFrame.contextLView=function ec(e,t){for(;e>0;)t=t[Tu],e--;return t}(e,Pr.lFrame.contextLView))[Oi]}(e)}function zP(e,t){let r=null;const o=function I(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===o?_d(e,c,!0):b(o,c))return a}else r=a}return r}function SD(e){const t=tn()[ro][mo];if(!t.projection){const o=t.projection=function Cc(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const m=e?zP(c,e):0;null!==m&&(a[m]?a[m].projectionNext=c:o[m]=c,a[m]=c)}c=c.next}}}function RD(e,t=0,r,o,a,c){const m=tn(),E=qr(),T=o?e+1:null;null!==T&&i_(m,E,T,o,a,c,null,r);const V=Ll(E,or+e,16,null,r||null);null===V.projection&&(V.projection=t),il();const ie=!m[Ps]||da();null===m[ro][mo].projection[V.projection]&&null!==T?function GP(e,t,r){const o=or+r,a=t.data[o],c=e[o],m=cp(c,a.tView.ssrId);wh(c,bh(e,a,void 0,{dehydratedView:m}),0,md(a,m))}(m,E,T):ie&&32&~V.flags&&function Ys(e,t,r){Zs(t[wr],0,t,r,ud(e,r,t),Cg(r.parent||t[mo],r,t))}(E,m,V)}function R0(e,t,r,o,a){const c=tn(),m=im(c,t,r,o);return m!==$r&&Fs(qr(),ki(),c,e,m,c[wr],a,!1),R0}function UD(e,t,r,o){!function SC(e,t,r,o){const a=qr();if(a.firstCreatePass){const c=xi();RC(a,new TC(t,r,o),c.index),function qS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return bC(a,tn(),r)}(e,t,r,o)}function BD(e,t,r){!function wC(e,t,r){const o=qr();return o.firstCreatePass&&(RC(o,new TC(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),bC(o,tn(),t)}(e,t,r)}function $D(e){const t=tn(),r=qr(),o=se();Ze(o+1);const a=_I(r,o);if(e.dirty&&function Dm(e){return!(4&~e[ir])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const c=MC(t,o);e.reset(c,Gm),e.notifyOnChanges()}return!0}return!1}function jD(){return function vI(e,t){return e[nl].queries[t].queryList}(tn(),se())}function HD(e){return function ca(e,t){return e[t]}(function tc(){return Pr.lFrame.contextLView}(),or+e)}function JD(e,t=""){const r=tn(),o=qr(),a=e+or,c=o.firstCreatePass?Ll(o,a,1,t,null):o.data[a],m=eb(o,r,c,t,e);r[a]=m,xu()&&Hf(o,r,m,c),qs(c,!1)}let eb=(e,t,r,o,a)=>(ja(!0),function Ot(e,t){return e.createText(t)}(t[wr],o));function tA(e){return M0("",e,""),tA}function M0(e,t,r){const o=tn(),a=im(o,e,t,r);return a!==$r&&function hu(e,t,r){const o=Nl(t,e);!function Ut(e,t,r){e.setValue(t,r)}(e[wr],o,r)}(o,Oo(),a),M0}function nA(e,t,r){kC(t)&&(t=t());const o=tn();return ds(o,Ba(),t)&&Fs(qr(),ki(),o,e,t,o[wr],r,!1),nA}function ub(e,t){const r=kC(e);return r&&e.set(t),r}function rA(e,t){const r=tn(),o=qr(),a=xi();return JI(o,r,r[wr],a,e,t),rA}function iA(e,t,r,o,a){if(e=er(e),Array.isArray(e))for(let c=0;c<e.length;c++)iA(e[c],t,r,o,a);else{const c=qr(),m=tn(),E=xi();let T=Ja(e)?e:er(e.provide);const V=Rc(e),G=1048575&E.providerIndexes,ie=E.directiveStart,Ue=E.providerIndexes>>20;if(Ja(e)||!e.multi){const Ye=new qc(V,a,Eh),We=sA(T,t,a?G:G+Ue,ie);-1===We?(Pp(qd(E,m),c,T),oA(c,e,t.length),t.push(T),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(Ye),m.push(Ye)):(r[We]=Ye,m[We]=Ye)}else{const Ye=sA(T,t,G+Ue,ie),We=sA(T,t,G,G+Ue),cn=We>=0&&r[We];if(a&&!cn||!a&&!(Ye>=0&&r[Ye])){Pp(qd(E,m),c,T);const En=function dN(e,t,r,o,a){const c=new qc(e,r,Eh);return c.multi=[],c.index=t,c.componentProviders=0,hb(c,a,o&&!r),c}(a?cN:uN,r.length,a,o,V);!a&&cn&&(r[We].providerFactory=En),oA(c,e,t.length,0),t.push(T),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(En),m.push(En)}else oA(c,e,Ye>-1?Ye:We,hb(r[a?We:Ye],V,!a&&o));!a&&o&&cn&&r[We].componentProviders++}}}function oA(e,t,r,o){const a=Ja(t),c=function wc(e){return!!e.useClass}(t);if(a||c){const T=(c?er(t.useClass):t).prototype.ngOnDestroy;if(T){const V=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const G=V.indexOf(r);-1===G?V.push(r,[o,T]):V[G+1].push(o,T)}else V.push(r,T)}}}function hb(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function sA(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function uN(e,t,r,o){return aA(this.multi,[])}function cN(e,t,r,o){const a=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Qc(r,r[Tn],this.providerFactory.index,o);c=E.slice(0,m),aA(a,c);for(let T=m;T<E.length;T++)c.push(E[T])}else c=[],aA(a,c);return c}function aA(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function fb(e,t=[]){return r=>{r.providersResolver=(o,a)=>function lN(e,t,r){const o=qr();if(o.firstCreatePass){const a=Ns(e);iA(r,o.data,o.blueprint,a,!0),iA(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let hN=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Dl(0,o.type),c=a.length>0?CI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Er({token:e,providedIn:"environment",factory:()=>new e(Ar(Ws))}),t})();function pb(e){Ga("NgStandalone"),e.getStandaloneInjector=t=>t.get(hN).getOrCreateStandaloneInjector(e)}class Lb{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const tO=new Lb("18.2.3");let Vb=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const jb=new dr(""),Hb=new dr("");let pA,wO=(()=>{var e;class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,pA||(function SO(e){pA=e}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),o()},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(Ar(Io),Ar(zb),Ar(Hb))},e.\u0275prov=Er({token:e,factory:e.\u0275fac}),t})(),zb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var c,m;return null!==(c=null===(m=pA)||void 0===m?void 0:m.findTestabilityInTree(this,o,a))&&void 0!==c?c:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function gA(e){return!!e&&"function"==typeof e.then}function Gb(e){return!!e&&"function"==typeof e.subscribe}const Wb=new dr("");let Kb=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=null!==(o=bn(Wb,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const m=c();if(gA(m))o.push(m);else if(Gb(m)){const E=new Promise((T,V)=>{m.subscribe({complete:T,error:V})});o.push(E)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const k0=new dr("");function Xb(e,t){return Array.isArray(t)?t.reduce(Xb,e):{...e,...t}}let Ac=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=bn(Q_),this.afterRenderManager=bn(sT),this.zonelessEnabled=bn(Yv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gn.B,this.afterTick=new Gn.B,this.componentTypes=[],this.components=[],this.isStable=bn(rc).hasPendingTasks.pipe((0,rn.T)(o=>!o)),this._injector=bn(Ws)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof hC;if(!this._injector.get(Kb).done)throw!c&&Eo(o),new Sn(405,!1);let E;E=c?o:this._injector.get(Zv).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const T=function RO(e){return e.isBoundToModule}(E)?void 0:this._injector.get(dp),G=E.create(Xs.NULL,[],a||E.selector,T),ie=G.location.nativeElement,Ue=G.injector.get(jb,null);return null==Ue||Ue.registerApplication(ie),G.onDestroy(()=>{this.detachView(G.hostView),F0(this.components,G),null==Ue||Ue.unregisterApplication(ie)}),this._loadComponent(G),G}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Sn(101,!1);const o=ce(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,ce(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(aI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:E,notifyErrorHandler:T}of this._views)NO(E,T,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,c;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(c=o.end)||void 0===c||c.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>rl(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;F0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(k0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>F0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Sn(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function F0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function NO(e,t,r,o){(r||rl(e))&&Ug(e,t,r&&!o?0:1)}class OO{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let xO=(()=>{var e;class t{compileModuleSync(o){return new AI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=rt(wi(o).declarations).reduce((E,T)=>{const V=hr(T);return V&&E.push(new t_(V)),E},[]);return new OO(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),LO=(()=>{var e;class t{constructor(){this.zone=bn(Io),this.changeDetectionScheduler=bn(Kg),this.applicationRef=bn(Ac)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function mA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Io({...vA(),scheduleInRootZone:r})),[{provide:Io,useFactory:e},{provide:Ms,multi:!0,useFactory:()=>{const a=bn(LO,{optional:!0});return()=>a.initialize()}},{provide:Ms,multi:!0,useFactory:()=>{const a=bn(UO);return()=>{a.initialize()}}},!0===t?{provide:dC,useValue:!0}:[],{provide:sI,useValue:null!=r?r:jp}]}function vA(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let UO=(()=>{var e;class t{constructor(){this.subscription=new Bt.yU,this.initialized=!1,this.zone=bn(Io),this.pendingTasks=bn(rc)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;Io.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),y_=(()=>{var e;class t{constructor(){var o,a,c;this.appRef=bn(Ac),this.taskService=bn(rc),this.ngZone=bn(Io),this.zonelessEnabled=bn(Yv),this.disableScheduling=null!==(o=bn(dC,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Bt.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(Gp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(c=bn(sI,{optional:!0}))&&void 0!==c&&c,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof zm||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?zp:Zc;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const yA=new dr("",{providedIn:"root",factory:()=>bn(yA,Tr.Optional|Tr.SkipSelf)||function BO(){return typeof $localize<"u"&&$localize.locale||D0}()}),$O=new dr("",{providedIn:"root",factory:()=>"USD"}),EA=new dr("");function L0(e){return!!e.platformInjector}let nw=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=null==a?void 0:a.scheduleInRootZone,T=[mA({ngZoneFactory:()=>function X_(e="zone.js",t){return"noop"===e?new zm:"zone.js"===e?new Io(t):e}(null==a?void 0:a.ngZone,{...vA({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:Kg,useExisting:y_}],V=function gR(e,t,r){return new II(e,t,r,!1)}(o.moduleType,this.injector,T);return function tw(e){const t=L0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Io);return r.run(()=>{L0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(au,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:c=>{o.handleError(c)}})}),L0(e)){const c=()=>t.destroy(),m=e.platformInjector.get(EA);m.add(c),t.onDestroy(()=>{a.unsubscribe(),m.delete(c)})}else e.moduleRef.onDestroy(()=>{F0(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function PO(e,t,r){try{const o=r();return gA(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const c=t.get(Kb);return c.runInitializers(),c.donePromise.then(()=>{if(function oP(e){"string"==typeof e&&(iD=e.toLowerCase().replace(/_/g,"-"))}(t.get(yA,D0)||D0),L0(e)){const E=t.get(Ac);return void 0!==e.rootComponent&&E.bootstrap(e.rootComponent),E}return function WO(e,t){const r=e.injector.get(Ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Sn(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:V,allPlatformModules:this._modules})}bootstrapModule(o,a=[]){const c=Xb({},a);return function FO(e,t,r){const o=new AI(r);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,c))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Sn(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(EA,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(Ar(Xs))},e.\u0275prov=Er({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),$h=null;const rw=new dr("");function iw(e,t,r=[]){const o=`Platform: ${t}`,a=new dr(o);return(c=[])=>{let m=IA();if(!m||m.injector.get(rw,!1)){const E=[...r,...c,{provide:a,useValue:!0}];e?e(E):function KO(e){if($h&&!$h.get(rw,!1))throw new Sn(400,!1);(function qb(){!function be(e){sn=e}(()=>{throw new Sn(600,!1)})})(),$h=e;const t=e.get(nw);(function sw(e){const t=e.get(iv,null);null==t||t.forEach(r=>r())})(e)}(function ow(e=[],t){return Xs.create({name:t,providers:[{provide:Sc,useValue:"platform"},{provide:EA,useValue:new Set([()=>$h=null])},...e]})}(E,o))}return function qO(){const t=IA();if(!t)throw new Sn(401,!1);return t}()}}function IA(){var e,t;return null!==(e=null===(t=$h)||void 0===t?void 0:t.get(nw))&&void 0!==e?e:null}function QO(){return!1}let lw=(()=>{class t{}return t.__NG_ELEMENT_ID__=YO,t})();function YO(e){return function ZO(e,t,r){if(Ml(e)&&!r){const o=Os(e.index,t);return new op(o,o)}return 175&e.type?new op(t[ro],t):null}(xi(),tn(),!(16&~e))}class hw{constructor(){}supports(t){return u0(t)}create(t){return new rx(t)}}const nx=(e,t)=>t;class rx{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nx}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,c=null;for(;r||o;){const m=!o||r&&r.currentIndex<pw(o,a,c)?r:o,E=pw(m,a,c),T=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)a++;else{c||(c=[]);const V=E-a,G=T-a;if(V!=G){for(let Ue=0;Ue<V;Ue++){const Ye=Ue<c.length?c[Ue]:c[Ue]=0,We=Ye+Ue;G<=We&&We<V&&(c[Ue]=Ye+1)}c[m.previousIndex]=G-V}}E!==T&&t(m,E,T)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!u0(t))throw new Sn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,m,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)c=t[E],m=this._trackByFn(E,c),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,c,m,E)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,m,E),o=!0),r=r._next}else a=0,function _R(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,E=>{m=this._trackByFn(a,E),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,E,m,a)),Object.is(r.item,E)||this._addIdentityChange(r,E)):(r=this._mismatch(r,E,m,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,c,a)):t=this._addAfter(new ix(r,o),c,a),t}_verifyReinsertion(t,r,o,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ix{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ox{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class fw{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new ox,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class gw{constructor(){}supports(t){return t instanceof Map||TI(t)}create(){return new sx}}class sx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||TI(t)))throw new Sn(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const c=a._prev,m=a._next;return c&&(c._next=m),m&&(m._prev=c),a._next=null,a._prev=null,a}const o=new ax(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class ax{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new bA([new hw])}let bA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||mw()),deps:[[t,new Yn,new Wt]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new Sn(901,!1)}}return(e=t).\u0275prov=Er({token:e,providedIn:"root",factory:mw}),t})();function vw(){return new wA([new gw])}let wA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||vw()),deps:[[t,new Yn,new Wt]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new Sn(901,!1)}}return(e=t).\u0275prov=Er({token:e,providedIn:"root",factory:vw}),t})();const cx=iw(null,"core",[]);let dx=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(Ar(Ac))},e.\u0275mod=mr({type:e}),e.\u0275inj=Bo({}),t})();const Ow=new dr("");function jx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function zx(e,t){Ga("NgSignals");const r=function Se(e){const t=Object.create(hn);t.computation=e;const r=()=>{if(Ke(t),me(t),t.value===Vt)throw t.error;return t.value};return r[le]=t,r}(e);return null!=t&&t.equal&&(r[le].equal=t.equal),r}function Gx(e){const t=ce(null);try{return e()}finally{ce(t)}}function Yx(e,t){const r=hr(e),o=t.elementInjector||Hu();return new t_(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Zx(e){const t=hr(e);if(!t)return null;const r=new t_(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},8831:(gn,mt,P)=>{"use strict";P.d(mt,{DS:()=>ee,$z:()=>sn,UB:()=>be,yy:()=>hn,ZP:()=>qt,AU:()=>dt,CP:()=>Vt,gF:()=>Z});var d=P(9842),Y=(P(3200),P(177)),J=P(3953),le=P(5407),ce=P(9253),Ce=P(1413),xe=P(7673),He=P(1985),ye=P(8455),me=P(7786),ze=P(941),Ke=P(5558),Ge=P(6354),st=P(6129);class _t extends Ce.B{constructor(ut=1/0,Xe=1/0,Qe=st.U){super(),this._bufferSize=ut,this._windowTime=Xe,this._timestampProvider=Qe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Xe===1/0,this._bufferSize=Math.max(1,ut),this._windowTime=Math.max(1,Xe)}next(ut){const{isStopped:Xe,_buffer:Qe,_infiniteTimeWindow:zt,_timestampProvider:Rt,_windowTime:Nt}=this;Xe||(Qe.push(ut),!zt&&Qe.push(Rt.now()+Nt)),this._trimBuffer(),super.next(ut)}_subscribe(ut){this._throwIfClosed(),this._trimBuffer();const Xe=this._innerSubscribe(ut),{_infiniteTimeWindow:Qe,_buffer:zt}=this,Rt=zt.slice();for(let Nt=0;Nt<Rt.length&&!ut.closed;Nt+=Qe?1:2)ut.next(Rt[Nt]);return this._checkFinalizedStatuses(ut),Xe}_trimBuffer(){const{_bufferSize:ut,_timestampProvider:Xe,_buffer:Qe,_infiniteTimeWindow:zt}=this,Rt=(zt?1:2)*ut;if(ut<1/0&&Rt<Qe.length&&Qe.splice(0,Qe.length-Rt),!zt){const Nt=Xe.now();let pn=0;for(let Ct=1;Ct<Qe.length&&Qe[Ct]<=Nt;Ct+=2)pn=Ct;pn&&Qe.splice(0,pn+1)}}}var ft=P(8750),tt=P(7707),pt=P(9974);function Ee(Te,ut,...Xe){if(!0===ut)return void Te();if(!1===ut)return;const Qe=new tt.Ms({next:()=>{Qe.unsubscribe(),Te()}});return(0,ft.Tg)(ut(...Xe)).subscribe(Qe)}function Ne(Te,ut,Xe){let Qe,zt=!1;return Te&&"object"==typeof Te?({bufferSize:Qe=1/0,windowTime:ut=1/0,refCount:zt=!1,scheduler:Xe}=Te):Qe=null!=Te?Te:1/0,function ct(Te={}){const{connector:ut=()=>new Ce.B,resetOnError:Xe=!0,resetOnComplete:Qe=!0,resetOnRefCountZero:zt=!0}=Te;return Rt=>{let Nt,pn,Ct,On=0,Nn=!1,Gn=!1;const Bt=()=>{null==pn||pn.unsubscribe(),pn=void 0},rn=()=>{Bt(),Nt=Ct=void 0,Nn=Gn=!1},Xn=()=>{const lt=Nt;rn(),null==lt||lt.unsubscribe()};return(0,pt.N)((lt,De)=>{On++,!Gn&&!Nn&&Bt();const Fe=Ct=null!=Ct?Ct:ut();De.add(()=>{On--,0===On&&!Gn&&!Nn&&(pn=Ee(Xn,zt))}),Fe.subscribe(De),!Nt&&On>0&&(Nt=new tt.Ms({next:on=>Fe.next(on),error:on=>{Gn=!0,Bt(),pn=Ee(rn,Xe,on),Fe.error(on)},complete:()=>{Nn=!0,Bt(),pn=Ee(rn,Qe),Fe.complete()}}),(0,ft.Tg)(lt).subscribe(Nt))})(Rt)}}({connector:()=>new _t(Qe,ut,Xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:zt})}var Ve=P(1594),nt=P(8071);function Je(Te,ut){return(0,nt.T)(ut)?(0,Ke.n)(()=>Te,ut):(0,Ke.n)(()=>Te)}var qe=P(6745),Se=P(5964);P(7935);const Vt=new J.nKC("angularfire2.auth.use-emulator"),hn=new J.nKC("angularfire2.auth.settings"),qt=new J.nKC("angularfire2.auth.tenant-id"),sn=new J.nKC("angularfire2.auth.langugage-code"),dt=new J.nKC("angularfire2.auth.use-device-language"),be=new J.nKC("angularfire.auth.persistence"),Z=(Te,ut,Xe,Qe,zt,Rt,Nt,pn)=>(0,ce.BM)(`${Te.name}.auth`,"AngularFireAuth",Te.name,()=>{const Ct=ut.runOutsideAngular(()=>Te.auth());if(Xe&&Ct.useEmulator(...Xe),Qe&&(Ct.tenantId=Qe),Ct.languageCode=zt,Rt&&Ct.useDeviceLanguage(),Nt)for(const[On,Nn]of Object.entries(Nt))Ct.settings[On]=Nn;return pn&&Ct.setPersistence(pn),Ct},[Xe,Qe,zt,Rt,Nt,pn]);let ee=(()=>{var Te;class ut{constructor(Qe,zt,Rt,Nt,pn,Ct,On,Nn,Gn,Bt,rn,Xn){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const lt=new Ce.B,De=(0,xe.of)(void 0).pipe((0,ze.Q)(pn.outsideAngular),(0,Ke.n)(()=>Nt.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3200)))),(0,Ge.T)(()=>(0,ce.iB)(Qe,Nt,zt)),(0,Ge.T)(Fe=>Z(Fe,Nt,Ct,Nn,Gn,Bt,On,rn)),Ne({bufferSize:1,refCount:!1}));if((0,Y.Vy)(Rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{De.pipe((0,Ve.$)()).subscribe();const Fe=De.pipe((0,Ke.n)(Qn=>Qn.getRedirectResult().then(Wn=>Wn,()=>null)),le.U0,Ne({bufferSize:1,refCount:!1})),on=De.pipe((0,Ke.n)(Qn=>new He.c(Wn=>({unsubscribe:Nt.runOutsideAngular(()=>Qn.onAuthStateChanged(Cn=>Wn.next(Cn),Cn=>Wn.error(Cn),()=>Wn.complete()))})))),Ln=De.pipe((0,Ke.n)(Qn=>new He.c(Wn=>({unsubscribe:Nt.runOutsideAngular(()=>Qn.onIdTokenChanged(Cn=>Wn.next(Cn),Cn=>Wn.error(Cn),()=>Wn.complete()))}))));this.authState=Fe.pipe(Je(on),(0,qe._)(pn.outsideAngular),(0,ze.Q)(pn.insideAngular)),this.user=Fe.pipe(Je(Ln),(0,qe._)(pn.outsideAngular),(0,ze.Q)(pn.insideAngular)),this.idToken=this.user.pipe((0,Ke.n)(Qn=>Qn?(0,ye.H)(Qn.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe((0,Ke.n)(Qn=>Qn?(0,ye.H)(Qn.getIdTokenResult()):(0,xe.of)(null))),this.credential=(0,me.h)(Fe,lt,this.authState.pipe((0,Se.p)(Qn=>!Qn))).pipe((0,Ge.T)(Qn=>null!=Qn&&Qn.user?Qn:null),(0,qe._)(pn.outsideAngular),(0,ze.Q)(pn.insideAngular))}return(0,ce.Gt)(this,De,Nt,{spy:{apply:(Fe,on,Ln)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&Ln.then(Qn=>lt.next(Qn))}}})}}return Te=ut,(0,d.A)(ut,"\u0275fac",function(Qe){return new(Qe||Te)(J.KVO(ce.rx),J.KVO(ce.uP,8),J.KVO(J.Agw),J.KVO(J.SKi),J.KVO(le.u0),J.KVO(Vt,8),J.KVO(hn,8),J.KVO(qt,8),J.KVO(sn,8),J.KVO(dt,8),J.KVO(be,8),J.KVO(le.Jv,8))}),(0,d.A)(ut,"\u0275prov",J.jDH({token:Te,factory:Te.\u0275fac,providedIn:"any"})),ut})()},8079:(gn,mt,P)=>{"use strict";P.d(mt,{Qe:()=>BE,cM:()=>ZA});var d=P(9842),f=P(177),Y=P(3953),J=P(5407),le=P(9253),ce=P(8831),Ce=P(3236),xe=P(1985),He=P(8455),ye=P(7673),me=P(9172),ze=P(9974),Ke=P(4360);function Ge(){return(0,ze.N)((l,n)=>{let i,s=!1;l.subscribe((0,Ke._)(n,u=>{const p=i;i=u,s&&n.next([p,u]),s=!0}))})}var Me,kt,st=P(6354),_t=P(2816),ft=P(3294),tt=P(5964),ct=(P(3200),P(3345)),Ee=P(467),Ne=P(8742),Ve=P(1362),nt=P(8041),Je=P(1076),qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Tt,et,At){At||(At=0);var bt=Array(16);if("string"==typeof et)for(var Ot=0;16>Ot;++Ot)bt[Ot]=et.charCodeAt(At++)|et.charCodeAt(At++)<<8|et.charCodeAt(At++)<<16|et.charCodeAt(At++)<<24;else for(Ot=0;16>Ot;++Ot)bt[Ot]=et[At++]|et[At++]<<8|et[At++]<<16|et[At++]<<24;var Ut=Tt.g[3],yt=(et=Tt.g[0])+(Ut^(At=Tt.g[1])&((Ot=Tt.g[2])^Ut))+bt[0]+3614090360&4294967295;yt=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=(At=(Ot=(Ut=(et=At+(yt<<7&4294967295|yt>>>25))+((yt=Ut+(Ot^et&(At^Ot))+bt[1]+3905402710&4294967295)<<12&4294967295|yt>>>20))+((yt=Ot+(At^Ut&(et^At))+bt[2]+606105819&4294967295)<<17&4294967295|yt>>>15))+((yt=At+(et^Ot&(Ut^et))+bt[3]+3250441966&4294967295)<<22&4294967295|yt>>>10))+((yt=et+(Ut^At&(Ot^Ut))+bt[4]+4118548399&4294967295)<<7&4294967295|yt>>>25))+((yt=Ut+(Ot^et&(At^Ot))+bt[5]+1200080426&4294967295)<<12&4294967295|yt>>>20))+((yt=Ot+(At^Ut&(et^At))+bt[6]+2821735955&4294967295)<<17&4294967295|yt>>>15))+((yt=At+(et^Ot&(Ut^et))+bt[7]+4249261313&4294967295)<<22&4294967295|yt>>>10))+((yt=et+(Ut^At&(Ot^Ut))+bt[8]+1770035416&4294967295)<<7&4294967295|yt>>>25))+((yt=Ut+(Ot^et&(At^Ot))+bt[9]+2336552879&4294967295)<<12&4294967295|yt>>>20))+((yt=Ot+(At^Ut&(et^At))+bt[10]+4294925233&4294967295)<<17&4294967295|yt>>>15))+((yt=At+(et^Ot&(Ut^et))+bt[11]+2304563134&4294967295)<<22&4294967295|yt>>>10))+((yt=et+(Ut^At&(Ot^Ut))+bt[12]+1804603682&4294967295)<<7&4294967295|yt>>>25))+((yt=Ut+(Ot^et&(At^Ot))+bt[13]+4254626195&4294967295)<<12&4294967295|yt>>>20))+((yt=Ot+(At^Ut&(et^At))+bt[14]+2792965006&4294967295)<<17&4294967295|yt>>>15))+((yt=At+(et^Ot&(Ut^et))+bt[15]+1236535329&4294967295)<<22&4294967295|yt>>>10))+((yt=et+(Ot^Ut&(At^Ot))+bt[1]+4129170786&4294967295)<<5&4294967295|yt>>>27))+((yt=Ut+(At^Ot&(et^At))+bt[6]+3225465664&4294967295)<<9&4294967295|yt>>>23))+((yt=Ot+(et^At&(Ut^et))+bt[11]+643717713&4294967295)<<14&4294967295|yt>>>18))+((yt=At+(Ut^et&(Ot^Ut))+bt[0]+3921069994&4294967295)<<20&4294967295|yt>>>12))+((yt=et+(Ot^Ut&(At^Ot))+bt[5]+3593408605&4294967295)<<5&4294967295|yt>>>27))+((yt=Ut+(At^Ot&(et^At))+bt[10]+38016083&4294967295)<<9&4294967295|yt>>>23))+((yt=Ot+(et^At&(Ut^et))+bt[15]+3634488961&4294967295)<<14&4294967295|yt>>>18))+((yt=At+(Ut^et&(Ot^Ut))+bt[4]+3889429448&4294967295)<<20&4294967295|yt>>>12))+((yt=et+(Ot^Ut&(At^Ot))+bt[9]+568446438&4294967295)<<5&4294967295|yt>>>27))+((yt=Ut+(At^Ot&(et^At))+bt[14]+3275163606&4294967295)<<9&4294967295|yt>>>23))+((yt=Ot+(et^At&(Ut^et))+bt[3]+4107603335&4294967295)<<14&4294967295|yt>>>18))+((yt=At+(Ut^et&(Ot^Ut))+bt[8]+1163531501&4294967295)<<20&4294967295|yt>>>12))+((yt=et+(Ot^Ut&(At^Ot))+bt[13]+2850285829&4294967295)<<5&4294967295|yt>>>27))+((yt=Ut+(At^Ot&(et^At))+bt[2]+4243563512&4294967295)<<9&4294967295|yt>>>23))+((yt=Ot+(et^At&(Ut^et))+bt[7]+1735328473&4294967295)<<14&4294967295|yt>>>18))+((yt=At+(Ut^et&(Ot^Ut))+bt[12]+2368359562&4294967295)<<20&4294967295|yt>>>12))+((yt=et+(At^Ot^Ut)+bt[5]+4294588738&4294967295)<<4&4294967295|yt>>>28))+((yt=Ut+(et^At^Ot)+bt[8]+2272392833&4294967295)<<11&4294967295|yt>>>21))+((yt=Ot+(Ut^et^At)+bt[11]+1839030562&4294967295)<<16&4294967295|yt>>>16))+((yt=At+(Ot^Ut^et)+bt[14]+4259657740&4294967295)<<23&4294967295|yt>>>9))+((yt=et+(At^Ot^Ut)+bt[1]+2763975236&4294967295)<<4&4294967295|yt>>>28))+((yt=Ut+(et^At^Ot)+bt[4]+1272893353&4294967295)<<11&4294967295|yt>>>21))+((yt=Ot+(Ut^et^At)+bt[7]+4139469664&4294967295)<<16&4294967295|yt>>>16))+((yt=At+(Ot^Ut^et)+bt[10]+3200236656&4294967295)<<23&4294967295|yt>>>9))+((yt=et+(At^Ot^Ut)+bt[13]+681279174&4294967295)<<4&4294967295|yt>>>28))+((yt=Ut+(et^At^Ot)+bt[0]+3936430074&4294967295)<<11&4294967295|yt>>>21))+((yt=Ot+(Ut^et^At)+bt[3]+3572445317&4294967295)<<16&4294967295|yt>>>16))+((yt=At+(Ot^Ut^et)+bt[6]+76029189&4294967295)<<23&4294967295|yt>>>9))+((yt=et+(At^Ot^Ut)+bt[9]+3654602809&4294967295)<<4&4294967295|yt>>>28))+((yt=Ut+(et^At^Ot)+bt[12]+3873151461&4294967295)<<11&4294967295|yt>>>21))+((yt=Ot+(Ut^et^At)+bt[15]+530742520&4294967295)<<16&4294967295|yt>>>16))+((yt=At+(Ot^Ut^et)+bt[2]+3299628645&4294967295)<<23&4294967295|yt>>>9))+((yt=et+(Ot^(At|~Ut))+bt[0]+4096336452&4294967295)<<6&4294967295|yt>>>26))+((yt=Ut+(At^(et|~Ot))+bt[7]+1126891415&4294967295)<<10&4294967295|yt>>>22))+((yt=Ot+(et^(Ut|~At))+bt[14]+2878612391&4294967295)<<15&4294967295|yt>>>17))+((yt=At+(Ut^(Ot|~et))+bt[5]+4237533241&4294967295)<<21&4294967295|yt>>>11))+((yt=et+(Ot^(At|~Ut))+bt[12]+1700485571&4294967295)<<6&4294967295|yt>>>26))+((yt=Ut+(At^(et|~Ot))+bt[3]+2399980690&4294967295)<<10&4294967295|yt>>>22))+((yt=Ot+(et^(Ut|~At))+bt[10]+4293915773&4294967295)<<15&4294967295|yt>>>17))+((yt=At+(Ut^(Ot|~et))+bt[1]+2240044497&4294967295)<<21&4294967295|yt>>>11))+((yt=et+(Ot^(At|~Ut))+bt[8]+1873313359&4294967295)<<6&4294967295|yt>>>26))+((yt=Ut+(At^(et|~Ot))+bt[15]+4264355552&4294967295)<<10&4294967295|yt>>>22))+((yt=Ot+(et^(Ut|~At))+bt[6]+2734768916&4294967295)<<15&4294967295|yt>>>17))+((yt=At+(Ut^(Ot|~et))+bt[13]+1309151649&4294967295)<<21&4294967295|yt>>>11))+((Ut=(et=At+((yt=et+(Ot^(At|~Ut))+bt[4]+4149444226&4294967295)<<6&4294967295|yt>>>26))+((yt=Ut+(At^(et|~Ot))+bt[11]+3174756917&4294967295)<<10&4294967295|yt>>>22))^((Ot=Ut+((yt=Ot+(et^(Ut|~At))+bt[2]+718787259&4294967295)<<15&4294967295|yt>>>17))|~et))+bt[9]+3951481745&4294967295,Tt.g[0]=Tt.g[0]+et&4294967295,Tt.g[1]=Tt.g[1]+(Ot+(yt<<21&4294967295|yt>>>11))&4294967295,Tt.g[2]=Tt.g[2]+Ot&4294967295,Tt.g[3]=Tt.g[3]+Ut&4294967295}function _(Tt,et){this.h=et;for(var At=[],bt=!0,Ot=Tt.length-1;0<=Ot;Ot--){var Ut=0|Tt[Ot];bt&&Ut==et||(At[Ot]=Ut,bt=!1)}this.g=At}(function n(Tt,et){function At(){}At.prototype=et.prototype,Tt.D=et.prototype,Tt.prototype=new At,Tt.prototype.constructor=Tt,Tt.C=function(bt,Ot,Ut){for(var yt=Array(arguments.length-2),dl=2;dl<arguments.length;dl++)yt[dl-2]=arguments[dl];return et.prototype[Ot].apply(bt,yt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Tt,et){void 0===et&&(et=Tt.length);for(var At=et-this.blockSize,bt=this.B,Ot=this.h,Ut=0;Ut<et;){if(0==Ot)for(;Ut<=At;)u(this,Tt,Ut),Ut+=this.blockSize;if("string"==typeof Tt){for(;Ut<et;)if(bt[Ot++]=Tt.charCodeAt(Ut++),Ot==this.blockSize){u(this,bt),Ot=0;break}}else for(;Ut<et;)if(bt[Ot++]=Tt[Ut++],Ot==this.blockSize){u(this,bt),Ot=0;break}}this.h=Ot,this.o+=et},s.prototype.v=function(){var Tt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Tt[0]=128;for(var et=1;et<Tt.length-8;++et)Tt[et]=0;var At=8*this.o;for(et=Tt.length-8;et<Tt.length;++et)Tt[et]=255&At,At/=256;for(this.u(Tt),Tt=Array(16),et=At=0;4>et;++et)for(var bt=0;32>bt;bt+=8)Tt[At++]=this.g[et]>>>bt&255;return Tt};var w={};function x(Tt){return-128<=Tt&&128>Tt?function p(Tt,et){var At=w;return Object.prototype.hasOwnProperty.call(At,Tt)?At[Tt]:At[Tt]=et(Tt)}(Tt,function(et){return new _([0|et],0>et?-1:0)}):new _([0|Tt],0>Tt?-1:0)}function W(Tt){if(isNaN(Tt)||!isFinite(Tt))return Pe;if(0>Tt)return _n(W(-Tt));for(var et=[],At=1,bt=0;Tt>=At;bt++)et[bt]=Tt/At|0,At*=4294967296;return new _(et,0)}var Pe=x(0),rt=x(1),St=x(16777216);function un(Tt){if(0!=Tt.h)return!1;for(var et=0;et<Tt.g.length;et++)if(0!=Tt.g[et])return!1;return!0}function An(Tt){return-1==Tt.h}function _n(Tt){for(var et=Tt.g.length,At=[],bt=0;bt<et;bt++)At[bt]=~Tt.g[bt];return new _(At,~Tt.h).add(rt)}function nr(Tt,et){return Tt.add(_n(et))}function gr(Tt,et){for(;(65535&Tt[et])!=Tt[et];)Tt[et+1]+=Tt[et]>>>16,Tt[et]&=65535,et++}function ar(Tt,et){this.g=Tt,this.h=et}function Sr(Tt,et){if(un(et))throw Error("division by zero");if(un(Tt))return new ar(Pe,Pe);if(An(Tt))return et=Sr(_n(Tt),et),new ar(_n(et.g),_n(et.h));if(An(et))return et=Sr(Tt,_n(et)),new ar(_n(et.g),et.h);if(30<Tt.g.length){if(An(Tt)||An(et))throw Error("slowDivide_ only works with positive integers.");for(var At=rt,bt=et;0>=bt.l(Tt);)At=Ei(At),bt=Ei(bt);var Ot=Or(At,1),Ut=Or(bt,1);for(bt=Or(bt,2),At=Or(At,2);!un(bt);){var yt=Ut.add(bt);0>=yt.l(Tt)&&(Ot=Ot.add(At),Ut=yt),bt=Or(bt,1),At=Or(At,1)}return et=nr(Tt,Ot.j(et)),new ar(Ot,et)}for(Ot=Pe;0<=Tt.l(et);){for(At=Math.max(1,Math.floor(Tt.m()/et.m())),bt=48>=(bt=Math.ceil(Math.log(At)/Math.LN2))?1:Math.pow(2,bt-48),yt=(Ut=W(At)).j(et);An(yt)||0<yt.l(Tt);)yt=(Ut=W(At-=bt)).j(et);un(Ut)&&(Ut=rt),Ot=Ot.add(Ut),Tt=nr(Tt,yt)}return new ar(Ot,Tt)}function Ei(Tt){for(var et=Tt.g.length+1,At=[],bt=0;bt<et;bt++)At[bt]=Tt.i(bt)<<1|Tt.i(bt-1)>>>31;return new _(At,Tt.h)}function Or(Tt,et){var At=et>>5;et%=32;for(var bt=Tt.g.length-At,Ot=[],Ut=0;Ut<bt;Ut++)Ot[Ut]=0<et?Tt.i(Ut+At)>>>et|Tt.i(Ut+At+1)<<32-et:Tt.i(Ut+At);return new _(Ot,Tt.h)}(l=_.prototype).m=function(){if(An(this))return-_n(this).m();for(var Tt=0,et=1,At=0;At<this.g.length;At++){var bt=this.i(At);Tt+=(0<=bt?bt:4294967296+bt)*et,et*=4294967296}return Tt},l.toString=function(Tt){if(2>(Tt=Tt||10)||36<Tt)throw Error("radix out of range: "+Tt);if(un(this))return"0";if(An(this))return"-"+_n(this).toString(Tt);for(var et=W(Math.pow(Tt,6)),At=this,bt="";;){var Ot=Sr(At,et).g,Ut=((0<(At=nr(At,Ot.j(et))).g.length?At.g[0]:At.h)>>>0).toString(Tt);if(un(At=Ot))return Ut+bt;for(;6>Ut.length;)Ut="0"+Ut;bt=Ut+bt}},l.i=function(Tt){return 0>Tt?0:Tt<this.g.length?this.g[Tt]:this.h},l.l=function(Tt){return An(Tt=nr(this,Tt))?-1:un(Tt)?0:1},l.abs=function(){return An(this)?_n(this):this},l.add=function(Tt){for(var et=Math.max(this.g.length,Tt.g.length),At=[],bt=0,Ot=0;Ot<=et;Ot++){var Ut=bt+(65535&this.i(Ot))+(65535&Tt.i(Ot)),yt=(Ut>>>16)+(this.i(Ot)>>>16)+(Tt.i(Ot)>>>16);bt=yt>>>16,At[Ot]=(yt&=65535)<<16|(Ut&=65535)}return new _(At,-2147483648&At[At.length-1]?-1:0)},l.j=function(Tt){if(un(this)||un(Tt))return Pe;if(An(this))return An(Tt)?_n(this).j(_n(Tt)):_n(_n(this).j(Tt));if(An(Tt))return _n(this.j(_n(Tt)));if(0>this.l(St)&&0>Tt.l(St))return W(this.m()*Tt.m());for(var et=this.g.length+Tt.g.length,At=[],bt=0;bt<2*et;bt++)At[bt]=0;for(bt=0;bt<this.g.length;bt++)for(var Ot=0;Ot<Tt.g.length;Ot++){var Ut=this.i(bt)>>>16,yt=65535&this.i(bt),dl=Tt.i(Ot)>>>16,Lf=65535&Tt.i(Ot);At[2*bt+2*Ot]+=yt*Lf,gr(At,2*bt+2*Ot),At[2*bt+2*Ot+1]+=Ut*Lf,gr(At,2*bt+2*Ot+1),At[2*bt+2*Ot+1]+=yt*dl,gr(At,2*bt+2*Ot+1),At[2*bt+2*Ot+2]+=Ut*dl,gr(At,2*bt+2*Ot+2)}for(bt=0;bt<et;bt++)At[bt]=At[2*bt+1]<<16|At[2*bt];for(bt=et;bt<2*et;bt++)At[bt]=0;return new _(At,0)},l.A=function(Tt){return Sr(this,Tt).h},l.and=function(Tt){for(var et=Math.max(this.g.length,Tt.g.length),At=[],bt=0;bt<et;bt++)At[bt]=this.i(bt)&Tt.i(bt);return new _(At,this.h&Tt.h)},l.or=function(Tt){for(var et=Math.max(this.g.length,Tt.g.length),At=[],bt=0;bt<et;bt++)At[bt]=this.i(bt)|Tt.i(bt);return new _(At,this.h|Tt.h)},l.xor=function(Tt){for(var et=Math.max(this.g.length,Tt.g.length),At=[],bt=0;bt<et;bt++)At[bt]=this.i(bt)^Tt.i(bt);return new _(At,this.h^Tt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kt=Se.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=W,_.fromString=function fe(Tt,et){if(0==Tt.length)throw Error("number format error: empty string");if(2>(et=et||10)||36<et)throw Error("radix out of range: "+et);if("-"==Tt.charAt(0))return _n(fe(Tt.substring(1),et));if(0<=Tt.indexOf("-"))throw Error('number format error: interior "-" character');for(var At=W(Math.pow(et,8)),bt=Pe,Ot=0;Ot<Tt.length;Ot+=8){var Ut=Math.min(8,Tt.length-Ot),yt=parseInt(Tt.substring(Ot,Ot+Ut),et);8>Ut?(Ut=W(Math.pow(et,Ut)),bt=bt.j(Ut).add(W(yt))):bt=(bt=bt.j(At)).add(W(yt))}return bt},Me=Se.Integer=_}).apply(typeof qe<"u"?qe:typeof self<"u"?self:typeof window<"u"?window:{});var qt,sn,dt,be,Z,ee,ae,Te,ut,Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hn={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,F,q){return v==Array.prototype||v==Object.prototype||(v[F]=q.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vt&&Vt];for(var F=0;F<v.length;++F){var q=v[F];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function u(v,F){if(F)e:{var q=s;v=v.split(".");for(var Ae=0;Ae<v.length-1;Ae++){var Ft=v[Ae];if(!(Ft in q))break e;q=q[Ft]}(F=F(Ae=q[v=v[v.length-1]]))!=Ae&&null!=F&&n(q,v,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(v){return v||function(){return function p(v,F){v instanceof String&&(v+="");var q=0,Ae=!1,Ft={next:function(){if(!Ae&&q<v.length){var Kt=q++;return{value:F(Kt,v[Kt]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return Ft[Symbol.iterator]=function(){return Ft},Ft}(this,function(F,q){return q})}});var _=_||{},w=this||self;function x(v){var F=typeof v;return"array"==(F="object"!=F?F:v?Array.isArray(v)?"array":F:"null")||"object"==F&&"number"==typeof v.length}function W(v){var F=typeof v;return"object"==F&&null!=v||"function"==F}function fe(v,F,q){return v.call.apply(v.bind,arguments)}function Pe(v,F,q){if(!v)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var Ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ft,Ae),v.apply(F,Ft)}}return function(){return v.apply(F,arguments)}}function rt(v,F,q){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fe:Pe).apply(null,arguments)}function St(v,F){var q=Array.prototype.slice.call(arguments,1);return function(){var Ae=q.slice();return Ae.push.apply(Ae,arguments),v.apply(this,Ae)}}function un(v,F){function q(){}q.prototype=F.prototype,v.aa=F.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(Ae,Ft,Kt){for(var Un=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)Un[Yi-2]=arguments[Yi];return F.prototype[Ft].apply(Ae,Un)}}function An(v){const F=v.length;if(0<F){const q=Array(F);for(let Ae=0;Ae<F;Ae++)q[Ae]=v[Ae];return q}return[]}function _n(v,F){for(let q=1;q<arguments.length;q++){const Ae=arguments[q];if(x(Ae)){const Ft=v.length||0,Kt=Ae.length||0;v.length=Ft+Kt;for(let Un=0;Un<Kt;Un++)v[Ft+Un]=Ae[Un]}else v.push(Ae)}}function gr(v){return/^[\s\xa0]*$/.test(v)}function ar(){var v=w.navigator;return v&&(v=v.userAgent)?v:""}function Sr(v){return Sr[" "](v),v}Sr[" "]=function(){};var Ei=!(-1==ar().indexOf("Gecko")||-1!=ar().toLowerCase().indexOf("webkit")&&-1==ar().indexOf("Edge")||-1!=ar().indexOf("Trident")||-1!=ar().indexOf("MSIE")||-1!=ar().indexOf("Edge"));function Or(v,F,q){for(const Ae in v)F.call(q,v[Ae],Ae,v)}function et(v){const F={};for(const q in v)F[q]=v[q];return F}const At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(v,F){let q,Ae;for(let Ft=1;Ft<arguments.length;Ft++){for(q in Ae=arguments[Ft],Ae)v[q]=Ae[q];for(let Kt=0;Kt<At.length;Kt++)q=At[Kt],Object.prototype.hasOwnProperty.call(Ae,q)&&(v[q]=Ae[q])}}function Ot(v){var F=1;v=v.split(":");const q=[];for(;0<F&&v.length;)q.push(v.shift()),F--;return v.length&&q.push(v.join(":")),q}function Ut(v){w.setTimeout(()=>{throw v},0)}function yt(){var v=Av;let F=null;return v.g&&(F=v.g,v.g=v.g.next,v.g||(v.h=null),F.next=null),F}var Lf=new class nr{constructor(F,q){this.i=F,this.j=q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new $E,v=>v.reset());class $E{constructor(){this.next=this.g=this.h=null}set(F,q){this.h=F,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let vh,Vf=!1,Av=new class dl{constructor(){this.h=this.g=null}add(F,q){const Ae=Lf.get();Ae.set(F,q),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}},Cv=()=>{const v=w.Promise.resolve(void 0);vh=()=>{v.then(Tv)}};var Tv=()=>{for(var v;v=yt();){try{v.h.call(v.g)}catch(q){Ut(q)}var F=Lf;F.j(v),100>F.h&&(F.h++,v.next=F.g,F.g=v)}Vf=!1};function hl(){this.s=this.s,this.C=this.C}function us(v,F){this.type=v,this.g=this.target=F,this.defaultPrevented=!1}hl.prototype.s=!1,hl.prototype.ma=function(){this.s||(this.s=!0,this.N())},hl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},us.prototype.h=function(){this.defaultPrevented=!0};var Dv=function(){if(!w.addEventListener||!Object.defineProperty)return!1;var v=!1,F=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};w.addEventListener("test",q,F),w.removeEventListener("test",q,F)}catch{}return v}();function Uf(v,F){if(us.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,Ae=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=F,F=v.relatedTarget){if(Ei){e:{try{Sr(F.nodeName);var Ft=!0;break e}catch{}Ft=!1}Ft||(F=null)}}else"mouseover"==q?F=v.fromElement:"mouseout"==q&&(F=v.toElement);this.relatedTarget=F,Ae?(this.clientX=void 0!==Ae.clientX?Ae.clientX:Ae.pageX,this.clientY=void 0!==Ae.clientY?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:jE[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Uf.aa.h.call(this)}}un(Uf,us);var jE={2:"touch",3:"pen",4:"mouse"};Uf.prototype.h=function(){Uf.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),Ty=0;function cd(v,F,q,Ae,Ft){this.listener=v,this.proxy=null,this.src=F,this.type=q,this.capture=!!Ae,this.ha=Ft,this.key=++Ty,this.da=this.fa=!1}function Bf(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function $f(v){this.src=v,this.g={},this.h=0}function jf(v,F){var q=F.type;if(q in v.g){var Kt,Ae=v.g[q],Ft=Array.prototype.indexOf.call(Ae,F,void 0);(Kt=0<=Ft)&&Array.prototype.splice.call(Ae,Ft,1),Kt&&(Bf(F),0==v.g[q].length&&(delete v.g[q],v.h--))}}function bv(v,F,q,Ae){for(var Ft=0;Ft<v.length;++Ft){var Kt=v[Ft];if(!Kt.da&&Kt.listener==F&&Kt.capture==!!q&&Kt.ha==Ae)return Ft}return-1}$f.prototype.add=function(v,F,q,Ae,Ft){var Kt=v.toString();(v=this.g[Kt])||(v=this.g[Kt]=[],this.h++);var Un=bv(v,F,Ae,Ft);return-1<Un?(F=v[Un],q||(F.fa=!1)):((F=new cd(F,this.src,Kt,!!Ae,Ft)).fa=q,v.push(F)),F};var Cg="closure_lm_"+(1e6*Math.random()|0),Tg={};function wv(v,F,q,Ae,Ft){if(Ae&&Ae.once)return Hf(v,F,q,Ae,Ft);if(Array.isArray(F)){for(var Kt=0;Kt<F.length;Kt++)wv(v,F[Kt],q,Ae,Ft);return null}return q=_h(q),v&&v[ud]?v.K(F,q,W(Ae)?!!Ae.capture:!!Ae,Ft):Dg(v,F,q,!1,Ae,Ft)}function Dg(v,F,q,Ae,Ft,Kt){if(!F)throw Error("Invalid event type");var Un=W(Ft)?!!Ft.capture:!!Ft,Yi=Sg(v);if(Yi||(v[Cg]=Yi=new $f(v)),(q=Yi.add(F,q,Ae,Un,Kt)).proxy)return q;if(Ae=function Dy(){const F=zf;return function v(q){return F.call(v.src,v.listener,q)}}(),q.proxy=Ae,Ae.src=v,Ae.listener=q,v.addEventListener)Dv||(Ft=Un),void 0===Ft&&(Ft=!1),v.addEventListener(F.toString(),Ae,Ft);else if(v.attachEvent)v.attachEvent(wg(F.toString()),Ae);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Ae)}return q}function Hf(v,F,q,Ae,Ft){if(Array.isArray(F)){for(var Kt=0;Kt<F.length;Kt++)Hf(v,F[Kt],q,Ae,Ft);return null}return q=_h(q),v&&v[ud]?v.L(F,q,W(Ae)?!!Ae.capture:!!Ae,Ft):Dg(v,F,q,!0,Ae,Ft)}function fc(v,F,q,Ae,Ft){if(Array.isArray(F))for(var Kt=0;Kt<F.length;Kt++)fc(v,F[Kt],q,Ae,Ft);else Ae=W(Ae)?!!Ae.capture:!!Ae,q=_h(q),v&&v[ud]?(v=v.i,(F=String(F).toString())in v.g&&-1<(q=bv(Kt=v.g[F],q,Ae,Ft))&&(Bf(Kt[q]),Array.prototype.splice.call(Kt,q,1),0==Kt.length&&(delete v.g[F],v.h--))):v&&(v=Sg(v))&&(F=v.g[F.toString()],v=-1,F&&(v=bv(F,q,Ae,Ft)),(q=-1<v?F[v]:null)&&bg(q))}function bg(v){if("number"!=typeof v&&v&&!v.da){var F=v.src;if(F&&F[ud])jf(F.i,v);else{var q=v.type,Ae=v.proxy;F.removeEventListener?F.removeEventListener(q,Ae,v.capture):F.detachEvent?F.detachEvent(wg(q),Ae):F.addListener&&F.removeListener&&F.removeListener(Ae),(q=Sg(F))?(jf(q,v),0==q.h&&(q.src=null,F[Cg]=null)):Bf(v)}}}function wg(v){return v in Tg?Tg[v]:Tg[v]="on"+v}function zf(v,F){if(v.da)v=!0;else{F=new Uf(F,this);var q=v.listener,Ae=v.ha||v.src;v.fa&&bg(v),v=q.call(Ae,F)}return v}function Sg(v){return(v=v[Cg])instanceof $f?v:null}var Gf="__closure_events_fn_"+(1e9*Math.random()>>>0);function _h(v){return"function"==typeof v?v:(v[Gf]||(v[Gf]=function(F){return v.handleEvent(F)}),v[Gf])}function Ys(){hl.call(this),this.i=new $f(this),this.M=this,this.F=null}function Zs(v,F){var q,Ae=v.F;if(Ae)for(q=[];Ae;Ae=Ae.F)q.push(Ae);if(v=v.M,Ae=F.type||F,"string"==typeof F)F=new us(F,v);else if(F instanceof us)F.target=F.target||v;else{var Ft=F;bt(F=new us(Ae,v),Ft)}if(Ft=!0,q)for(var Kt=q.length-1;0<=Kt;Kt--){var Un=F.g=q[Kt];Ft=Rg(Un,Ae,!0,F)&&Ft}if(Ft=Rg(Un=F.g=v,Ae,!0,F)&&Ft,Ft=Rg(Un,Ae,!1,F)&&Ft,q)for(Kt=0;Kt<q.length;Kt++)Ft=Rg(Un=F.g=q[Kt],Ae,!1,F)&&Ft}function Rg(v,F,q,Ae){if(!(F=v.i.g[String(F)]))return!0;F=F.concat();for(var Ft=!0,Kt=0;Kt<F.length;++Kt){var Un=F[Kt];if(Un&&!Un.da&&Un.capture==q){var Yi=Un.listener,cs=Un.ha||Un.src;Un.fa&&jf(v.i,Un),Ft=!1!==Yi.call(cs,Ae)&&Ft}}return Ft&&!Ae.defaultPrevented}function by(v,F,q){if("function"==typeof v)q&&(v=rt(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=rt(v.handleEvent,v)}return 2147483647<Number(F)?-1:w.setTimeout(v,F||0)}function wy(v){v.g=by(()=>{v.g=null,v.i&&(v.i=!1,wy(v))},v.l);const F=v.h;v.h=null,v.m.apply(null,F)}un(Ys,hl),Ys.prototype[ud]=!0,Ys.prototype.removeEventListener=function(v,F,q,Ae){fc(this,v,F,q,Ae)},Ys.prototype.N=function(){if(Ys.aa.N.call(this),this.i){var F,v=this.i;for(F in v.g){for(var q=v.g[F],Ae=0;Ae<q.length;Ae++)Bf(q[Ae]);delete v.g[F],v.h--}}this.F=null},Ys.prototype.K=function(v,F,q,Ae){return this.i.add(String(v),F,!1,q,Ae)},Ys.prototype.L=function(v,F,q,Ae){return this.i.add(String(v),F,!0,q,Ae)};class Sy extends hl{constructor(F,q){super(),this.m=F,this.l=q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:wy(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yh(v){hl.call(this),this.h=v,this.g={}}un(yh,hl);var $r=[];function Sv(v){Or(v.g,function(F,q){this.g.hasOwnProperty(q)&&bg(F)},v),v.g={}}yh.prototype.N=function(){yh.aa.N.call(this),Sv(this)},yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mg=w.JSON.stringify,Eh=w.JSON.parse,Ry=class{stringify(v){return w.JSON.stringify(v,void 0)}parse(v){return w.JSON.parse(v,void 0)}};function Pg(){}function Wf(){}Pg.prototype.h=null;var Ll={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kf(){us.call(this,"d")}function dd(){us.call(this,"c")}un(Kf,us),un(dd,us);var pc={},Ng=null;function Ih(){return Ng=Ng||new Ys}function Og(v){us.call(this,pc.La,v)}function Ah(v){const F=Ih();Zs(F,new Og(F))}function xg(v,F){us.call(this,pc.STAT_EVENT,v),this.stat=F}function pa(v){const F=Ih();Zs(F,new xg(F,v))}function Py(v,F){us.call(this,pc.Ma,v),this.size=F}function qf(v,F){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){v()},F)}function Ch(){this.g=!0}function Th(v,F,q,Ae){v.info(function(){return"XMLHTTP TEXT ("+F+"): "+function Ny(v,F){if(!v.g)return F;if(!F)return null;try{var q=JSON.parse(F);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var Ae=q[v];if(!(2>Ae.length)){var Ft=Ae[1];if(Array.isArray(Ft)&&!(1>Ft.length)){var Kt=Ft[0];if("noop"!=Kt&&"stop"!=Kt&&"close"!=Kt)for(var Un=1;Un<Ft.length;Un++)Ft[Un]=""}}}return Mg(q)}catch{return F}}(v,q)+(Ae?" "+Ae:"")})}pc.La="serverreachability",un(Og,us),pc.STAT_EVENT="statevent",un(xg,us),pc.Ma="timingevent",un(Py,us),Ch.prototype.xa=function(){this.g=!1},Ch.prototype.info=function(){};var Rv,Xf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Fs(){}function gc(v,F,q,Ae){this.j=v,this.i=F,this.l=q,this.R=Ae||1,this.U=new yh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}un(Fs,Pg),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},Rv=new Fs;var WE={},Qf={};function kg(v,F,q){v.L=1,v.v=Vg(du(F)),v.m=q,v.P=!0,ky(v,null)}function ky(v,F){v.F=Date.now(),Yf(v),v.A=du(v.v);var q=v.A,Ae=v.R;Array.isArray(Ae)||(Ae=[String(Ae)]),Gy(q.i,"t",Ae),v.C=0,q=v.j.J,v.h=new xy,v.g=Gv(v.j,q?F:null,!v.m),0<v.O&&(v.M=new Sy(rt(v.Y,v,v.g),v.O)),F=v.U,q=v.g,Ae=v.ca;var Ft="readystatechange";Array.isArray(Ft)||(Ft&&($r[0]=Ft.toString()),Ft=$r);for(var Kt=0;Kt<Ft.length;Kt++){var Un=wv(q,Ft[Kt],Ae||F.handleEvent,!1,F.h||F);if(!Un)break;F.g[Un.key]=Un}F=v.H?et(v.H):{},v.m?(v.u||(v.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,F)):(v.u="GET",v.g.ea(v.A,v.u,null,F)),Ah(),function HE(v,F,q,Ae,Ft,Kt){v.info(function(){if(v.g)if(Kt)for(var Un="",Yi=Kt.split("&"),cs=0;cs<Yi.length;cs++){var Ii=Yi[cs].split("=");if(1<Ii.length){var Js=Ii[0];Ii=Ii[1];var ea=Js.split("_");Un=2<=ea.length&&"type"==ea[1]?Un+(Js+"=")+Ii+"&":Un+(Js+"=redacted&")}}else Un=null;else Un=Kt;return"XMLHTTP REQ ("+Ae+") [attempt "+Ft+"]: "+F+"\n"+q+"\n"+Un})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Fy(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function KE(v,F){var q=v.C,Ae=F.indexOf("\n",q);return-1==Ae?Qf:(q=Number(F.substring(q,Ae)),isNaN(q)?WE:(Ae+=1)+q>F.length?Qf:(F=F.slice(Ae,Ae+q),v.C=Ae+q,F))}function Yf(v){v.S=Date.now()+v.I,Ly(v,v.I)}function Ly(v,F){if(null!=v.B)throw Error("WatchDog timer not null");v.B=qf(rt(v.ba,v),F)}function Mv(v){v.B&&(w.clearTimeout(v.B),v.B=null)}function hd(v){0==v.j.G||v.J||jv(v.j,v)}function fd(v){Mv(v);var F=v.M;F&&"function"==typeof F.ma&&F.ma(),v.M=null,Sv(v.U),v.g&&(F=v.g,v.g=null,F.abort(),F.ma())}function Pv(v,F){try{var q=v.j;if(0!=q.G&&(q.g==v||Zf(q.h,v)))if(!v.K&&Zf(q.h,v)&&3==q.G){try{var Ae=q.Da.g.parse(F)}catch{Ae=null}if(Array.isArray(Ae)&&3==Ae.length){var Ft=Ae;if(0==Ft[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;_c(q),Uv(q)}lp(q),pa(18)}}else q.za=Ft[1],0<q.za-q.T&&37500>Ft[2]&&q.F&&0==q.v&&!q.C&&(q.C=qf(rt(q.Za,q),6e3));if(1>=Vl(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Bl(q,11)}else if((v.K||q.g==v)&&_c(q),!gr(F))for(Ft=q.Da.g.parse(F),F=0;F<Ft.length;F++){let Ii=Ft[F];if(q.T=Ii[0],Ii=Ii[1],2==q.G)if("c"==Ii[0]){q.K=Ii[1],q.ia=Ii[2];const Js=Ii[3];null!=Js&&(q.la=Js,q.j.info("VER="+q.la));const ea=Ii[4];null!=ea&&(q.Aa=ea,q.j.info("SVER="+q.Aa));const Fh=Ii[5];null!=Fh&&"number"==typeof Fh&&0<Fh&&(q.L=Ae=1.5*Fh,q.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=q;const $l=v.g;if($l){const Gg=$l.g?$l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gg){var Kt=Ae.h;Kt.g||-1==Gg.indexOf("spdy")&&-1==Gg.indexOf("quic")&&-1==Gg.indexOf("h2")||(Kt.j=Kt.l,Kt.g=new Set,Kt.h&&(Nv(Kt,Kt.h),Kt.h=null))}if(Ae.D){const Kv=$l.g?$l.g.getResponseHeader("X-HTTP-Session-Id"):null;Kv&&(Ae.ya=Kv,vo(Ae.I,Ae.D,Kv))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Un=v;if((Ae=q).qa=zv(Ae,Ae.J?Ae.ia:null,Ae.W),Un.K){By(Ae.h,Un);var Yi=Un,cs=Ae.L;cs&&(Yi.I=cs),Yi.B&&(Mv(Yi),Yf(Yi)),Ae.g=Un}else Nh(Ae);0<q.i.length&&Bv(q)}else"stop"!=Ii[0]&&"close"!=Ii[0]||Bl(q,7);else 3==q.G&&("stop"==Ii[0]||"close"==Ii[0]?"stop"==Ii[0]?Bl(q,7):Vv(q):"noop"!=Ii[0]&&q.l&&q.l.ta(Ii),q.v=0)}Ah()}catch{}}gc.prototype.ca=function(v){v=v.target;const F=this.M;F&&3==Ul(v)?F.j():this.Y(v)},gc.prototype.Y=function(v){try{if(v==this.g)e:{const ea=Ul(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>ea)&&(3!=ea||this.g&&(this.h.h||this.g.oa()||Xy(this.g)))){this.J||4!=ea||7==F||Ah(),Mv(this);var q=this.g.Z();this.X=q;t:if(Fy(this)){var Ae=Xy(this.g);v="";var Ft=Ae.length,Kt=4==Ul(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fd(this),hd(this);var Un="";break t}this.h.i=new w.TextDecoder}for(F=0;F<Ft;F++)this.h.h=!0,v+=this.h.i.decode(Ae[F],{stream:!(Kt&&F==Ft-1)});Ae.length=0,this.h.g+=v,this.C=0,Un=this.h.g}else Un=this.g.oa();if(this.o=200==q,function zE(v,F,q,Ae,Ft,Kt,Un){v.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+Ft+"]: "+F+"\n"+q+"\n"+Kt+" "+Un})}(this.i,this.u,this.A,this.l,this.R,ea,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,cs=this.g;if((Yi=cs.g?cs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gr(Yi)){var Ii=Yi;break t}}Ii=null}if(!(q=Ii)){this.o=!1,this.s=3,pa(12),fd(this),hd(this);break e}Th(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pv(this,q)}if(this.P){let $l;for(q=!0;!this.J&&this.C<Un.length;){if($l=KE(this,Un),$l==Qf){4==ea&&(this.s=4,pa(14),q=!1),Th(this.i,this.l,null,"[Incomplete Response]");break}if($l==WE){this.s=4,pa(15),Th(this.i,this.l,Un,"[Invalid Chunk]"),q=!1;break}Th(this.i,this.l,$l,null),Pv(this,$l)}if(Fy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ea||0!=Un.length||this.h.h||(this.s=1,pa(16),q=!1),this.o=this.o&&q,q){if(0<Un.length&&!this.W){this.W=!0;var Js=this.j;Js.g==this&&Js.ba&&!Js.M&&(Js.j.info("Great, no buffering proxy detected. Bytes received: "+Un.length),Oh(Js),Js.M=!0,pa(11))}}else Th(this.i,this.l,Un,"[Invalid Chunked Response]"),fd(this),hd(this)}else Th(this.i,this.l,Un,null),Pv(this,Un);4==ea&&fd(this),this.o&&!this.J&&(4==ea?jv(this.j,this):(this.o=!1,Yf(this)))}else(function JA(v){const F={};v=(v.g&&2<=Ul(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Ae=0;Ae<v.length;Ae++){if(gr(v[Ae]))continue;var q=Ot(v[Ae]);const Ft=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Kt=F[Ft]||[];F[Ft]=Kt,Kt.push(q)}!function Tt(v,F){for(const q in v)F.call(void 0,v[q],q,v)}(F,function(Ae){return Ae.join(", ")})})(this.g),400==q&&0<Un.indexOf("Unknown SID")?(this.s=3,pa(12)):(this.s=0,pa(13)),fd(this),hd(this)}}}catch{}},gc.prototype.cancel=function(){this.J=!0,fd(this)},gc.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function GE(v,F){v.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(Ah(),pa(17)),fd(this),this.s=2,hd(this)):Ly(this,this.S-v)};var qE=class{constructor(v,F){this.g=v,this.map=F}};function Vy(v){this.l=v||10,v=w.PerformanceNavigationTiming?0<(v=w.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uy(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Vl(v){return v.h?1:v.g?v.g.size:0}function Zf(v,F){return v.h?v.h==F:!!v.g&&v.g.has(F)}function Nv(v,F){v.g?v.g.add(F):v.h=F}function By(v,F){v.h&&v.h==F?v.h=null:v.g&&v.g.has(F)&&v.g.delete(F)}function Ov(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let F=v.i;for(const q of v.g.values())F=F.concat(q.D);return F}return An(v.i)}function Lg(v,F){if(v.forEach&&"function"==typeof v.forEach)v.forEach(F,void 0);else if(x(v)||"string"==typeof v)Array.prototype.forEach.call(v,F,void 0);else for(var q=function Fg(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(x(v)||"string"==typeof v){var F=[];v=v.length;for(var q=0;q<v;q++)F.push(q);return F}F=[],q=0;for(const Ae in v)F[q++]=Ae;return F}}}(v),Ae=function $y(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(x(v)){for(var F=[],q=v.length,Ae=0;Ae<q;Ae++)F.push(v[Ae]);return F}for(Ae in F=[],q=0,v)F[q++]=v[Ae];return F}(v),Ft=Ae.length,Kt=0;Kt<Ft;Kt++)F.call(void 0,Ae[Kt],q&&q[Kt],v)}Vy.prototype.cancel=function(){if(this.i=Ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var XE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof mc){this.h=v.h,pd(this,v.j),this.o=v.o,this.g=v.g,Dh(this,v.s),this.l=v.l;var F=v.i,q=new Sh;q.i=F.i,F.g&&(q.g=new Map(F.g),q.h=F.h),hu(this,q),this.m=v.m}else v&&(F=String(v).match(XE))?(this.h=!1,pd(this,F[1]||"",!0),this.o=gd(F[2]||""),this.g=gd(F[3]||"",!0),Dh(this,F[4]),this.l=gd(F[5]||"",!0),hu(this,F[6]||"",!0),this.m=gd(F[7]||"")):(this.h=!1,this.i=new Sh(null,this.h))}function du(v){return new mc(v)}function pd(v,F,q){v.j=q?gd(F,!0):F,v.j&&(v.j=v.j.replace(/:$/,""))}function Dh(v,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);v.s=F}else v.s=null}function hu(v,F,q){F instanceof Sh?(v.i=F,function QE(v,F){F&&!v.j&&(Fu(v),v.i=null,v.g.forEach(function(q,Ae){var Ft=Ae.toLowerCase();Ae!=Ft&&(Hy(this,Ae),Gy(this,Ft,q))},v)),v.j=F}(v.i,v.h)):(q||(F=Jf(F,kv)),v.i=new Sh(F,v.h))}function vo(v,F,q){v.i.set(F,q)}function Vg(v){return vo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function gd(v,F){return v?F?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Jf(v,F,q){return"string"==typeof v?(v=encodeURI(v).replace(F,bh),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function bh(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}mc.prototype.toString=function(){var v=[],F=this.j;F&&v.push(Jf(F,xv,!0),":");var q=this.g;return(q||"file"==F)&&(v.push("//"),(F=this.o)&&v.push(Jf(F,xv,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(Jf(q,"/"==q.charAt(0)?wh:md,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Jf(q,ep)),v.join("")};var xv=/[#\/\?@]/g,md=/[#\?:]/g,wh=/[#\?]/g,kv=/[#\?@]/g,ep=/#/g;function Sh(v,F){this.h=this.g=null,this.i=v||null,this.j=!!F}function Fu(v){v.g||(v.g=new Map,v.h=0,v.i&&function jy(v,F){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var Ae=v[q].indexOf("="),Ft=null;if(0<=Ae){var Kt=v[q].substring(0,Ae);Ft=v[q].substring(Ae+1)}else Kt=v[q];F(Kt,Ft?decodeURIComponent(Ft.replace(/\+/g," ")):"")}}}(v.i,function(F,q){v.add(decodeURIComponent(F.replace(/\+/g," ")),q)}))}function Hy(v,F){Fu(v),F=Rh(v,F),v.g.has(F)&&(v.i=null,v.h-=v.g.get(F).length,v.g.delete(F))}function zy(v,F){return Fu(v),F=Rh(v,F),v.g.has(F)}function Gy(v,F,q){Hy(v,F),0<q.length&&(v.i=null,v.g.set(Rh(v,F),An(q)),v.h+=q.length)}function Rh(v,F){return F=String(F),v.j&&(F=F.toLowerCase()),F}function vc(v,F,q,Ae,Ft){try{Ft&&(Ft.onload=null,Ft.onerror=null,Ft.onabort=null,Ft.ontimeout=null),Ae(q)}catch{}}function Ug(){this.g=new Ry}function ZE(v,F,q){const Ae=q||"";try{Lg(v,function(Ft,Kt){let Un=Ft;W(Ft)&&(Un=Mg(Ft)),F.push(Ae+Kt+"="+encodeURIComponent(Un))})}catch(Ft){throw F.push(Ae+"type="+encodeURIComponent("_badmap")),Ft}}function Mh(v){this.l=v.Ub||null,this.j=v.eb||!1}function Bg(v,F){Ys.call(this),this.D=v,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fv(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function tp(v){v.readyState=4,v.l=null,v.j=null,v.v=null,np(v)}function np(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Lv(v){let F="";return Or(v,function(q,Ae){F+=Ae,F+=":",F+=q,F+="\r\n"}),F}function rp(v,F,q){e:{for(Ae in q){var Ae=!1;break e}Ae=!0}Ae||(q=Lv(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):vo(v,F,q))}function xo(v){Ys.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Sh.prototype).add=function(v,F){Fu(this),this.i=null,v=Rh(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(F),this.h+=1,this},l.forEach=function(v,F){Fu(this),this.g.forEach(function(q,Ae){q.forEach(function(Ft){v.call(F,Ft,Ae,this)},this)},this)},l.na=function(){Fu(this);const v=Array.from(this.g.values()),F=Array.from(this.g.keys()),q=[];for(let Ae=0;Ae<F.length;Ae++){const Ft=v[Ae];for(let Kt=0;Kt<Ft.length;Kt++)q.push(F[Ae])}return q},l.V=function(v){Fu(this);let F=[];if("string"==typeof v)zy(this,v)&&(F=F.concat(this.g.get(Rh(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)F=F.concat(v[q])}return F},l.set=function(v,F){return Fu(this),this.i=null,zy(this,v=Rh(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[F]),this.h+=1,this},l.get=function(v,F){return v&&0<(v=this.V(v)).length?String(v[0]):F},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],F=Array.from(this.g.keys());for(var q=0;q<F.length;q++){var Ae=F[q];const Kt=encodeURIComponent(String(Ae)),Un=this.V(Ae);for(Ae=0;Ae<Un.length;Ae++){var Ft=Kt;""!==Un[Ae]&&(Ft+="="+encodeURIComponent(String(Un[Ae]))),v.push(Ft)}}return this.i=v.join("&")},un(Mh,Pg),Mh.prototype.g=function(){return new Bg(this.l,this.j)},Mh.prototype.i=function(v){return function(){return v}}({}),un(Bg,Ys),(l=Bg.prototype).open=function(v,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=F,this.readyState=1,np(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(F.body=v),(this.D||w).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tp(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,np(this)),this.g&&(this.readyState=3,np(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var F=v.value?v.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!v.done}))&&(this.response=this.responseText+=F)}v.done?tp(this):np(this),3==this.readyState&&Fv(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,tp(this))},l.Qa=function(v){this.g&&(this.response=v,tp(this))},l.ga=function(){this.g&&tp(this)},l.setRequestHeader=function(v,F){this.u.append(v,F)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],F=this.h.entries();for(var q=F.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=F.next();return v.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),un(xo,Ys);var ip=/^https?$/i,op=["POST","PUT"];function Ph(v,F){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=F,v.m=5,Ky(v),$g(v)}function Ky(v){v.A||(v.A=!0,Zs(v,"complete"),Zs(v,"error"))}function qy(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=Ul(v)||2!=v.Z()))if(v.u&&4==Ul(v))by(v.Ea,0,v);else if(Zs(v,"readystatechange"),4==Ul(v)){v.h=!1;try{const Un=v.Z();e:switch(Un){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var q;if(!(q=F)){var Ae;if(Ae=0===Un){var Ft=String(v.D).match(XE)[1]||null;!Ft&&w.self&&w.self.location&&(Ft=w.self.location.protocol.slice(0,-1)),Ae=!ip.test(Ft?Ft.toLowerCase():"")}q=Ae}if(q)Zs(v,"complete"),Zs(v,"success");else{v.m=6;try{var Kt=2<Ul(v)?v.g.statusText:""}catch{Kt=""}v.l=Kt+" ["+v.Z()+"]",Ky(v)}}finally{$g(v)}}}function $g(v,F){if(v.g){sp(v);const q=v.g,Ae=v.v[0]?()=>{}:null;v.g=null,v.v=null,F||Zs(v,"ready");try{q.onreadystatechange=Ae}catch{}}}function sp(v){v.I&&(w.clearTimeout(v.I),v.I=null)}function Ul(v){return v.g?v.g.readyState:0}function Xy(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function jg(v,F,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||F}function Qy(v){this.Aa=0,this.i=[],this.j=new Ch,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jg("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jg("baseRetryDelayMs",5e3,v),this.cb=jg("retryDelaySeedMs",1e4,v),this.Wa=jg("forwardChannelMaxRetries",2,v),this.wa=jg("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Vy(v&&v.concurrentRequestLimit),this.Da=new Ug,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Vv(v){if(Yy(v),3==v.G){var F=v.U++,q=du(v.I);if(vo(q,"SID",v.K),vo(q,"RID",F),vo(q,"TYPE","terminate"),ap(v,q),(F=new gc(v,v.j,F)).L=2,F.v=Vg(du(q)),q=!1,w.navigator&&w.navigator.sendBeacon)try{q=w.navigator.sendBeacon(F.v.toString(),"")}catch{}!q&&w.Image&&((new Image).src=F.v,q=!0),q||(F.g=Gv(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Yf(F)}Hv(v)}function Uv(v){v.g&&(Oh(v),v.g.cancel(),v.g=null)}function Yy(v){Uv(v),v.u&&(w.clearTimeout(v.u),v.u=null),_c(v),v.h.cancel(),v.s&&("number"==typeof v.s&&w.clearTimeout(v.s),v.s=null)}function Bv(v){if(!Uy(v.h)&&!v.s){v.s=!0;var F=v.Ga;vh||Cv(),Vf||(vh(),Vf=!0),Av.add(F,v),v.B=0}}function Zy(v,F){var q;q=F?F.l:v.U++;const Ae=du(v.I);vo(Ae,"SID",v.K),vo(Ae,"RID",q),vo(Ae,"AID",v.T),ap(v,Ae),v.m&&v.o&&rp(Ae,v.m,v.o),q=new gc(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),F&&(v.i=F.D.concat(v.i)),F=Hg(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Nv(v.h,q),kg(q,Ae,F)}function ap(v,F){v.H&&Or(v.H,function(q,Ae){vo(F,Ae,q)}),v.l&&Lg({},function(q,Ae){vo(F,Ae,q)})}function Hg(v,F,q){q=Math.min(v.i.length,q);var Ae=v.l?rt(v.l.Na,v.l,v):null;e:{var Ft=v.i;let Kt=-1;for(;;){const Un=["count="+q];-1==Kt?0<q?(Kt=Ft[0].g,Un.push("ofs="+Kt)):Kt=0:Un.push("ofs="+Kt);let Yi=!0;for(let cs=0;cs<q;cs++){let Ii=Ft[cs].g;const Js=Ft[cs].map;if(Ii-=Kt,0>Ii)Kt=Math.max(0,Ft[cs].g-100),Yi=!1;else try{ZE(Js,Un,"req"+Ii+"_")}catch{Ae&&Ae(Js)}}if(Yi){Ae=Un.join("&");break e}}}return v=v.i.splice(0,q),F.D=v,Ae}function Nh(v){if(!v.g&&!v.u){v.Y=1;var F=v.Fa;vh||Cv(),Vf||(vh(),Vf=!0),Av.add(F,v),v.v=0}}function lp(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=qf(rt(v.Fa,v),Jy(v,v.v)),v.v++,0))}function Oh(v){null!=v.A&&(w.clearTimeout(v.A),v.A=null)}function $v(v){v.g=new gc(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var F=du(v.qa);vo(F,"RID","rpc"),vo(F,"SID",v.K),vo(F,"AID",v.T),vo(F,"CI",v.F?"0":"1"),!v.F&&v.ja&&vo(F,"TO",v.ja),vo(F,"TYPE","xmlhttp"),ap(v,F),v.m&&v.o&&rp(F,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=Vg(du(F)),q.m=null,q.P=!0,ky(q,v)}function _c(v){null!=v.C&&(w.clearTimeout(v.C),v.C=null)}function jv(v,F){var q=null;if(v.g==F){_c(v),Oh(v),v.g=null;var Ae=2}else{if(!Zf(v.h,F))return;q=F.D,By(v.h,F),Ae=1}if(0!=v.G)if(F.o)if(1==Ae){q=F.m?F.m.length:0,F=Date.now()-F.F;var Ft=v.B;Zs(Ae=Ih(),new Py(Ae,q)),Bv(v)}else Nh(v);else if(3==(Ft=F.s)||0==Ft&&0<F.X||!(1==Ae&&function JE(v,F){return!(Vl(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=F.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=qf(rt(v.Ga,v,F),Jy(v,v.B)),v.B++,0)))}(v,F)||2==Ae&&lp(v)))switch(q&&0<q.length&&(F=v.h,F.i=F.i.concat(q)),Ft){case 1:Bl(v,5);break;case 4:Bl(v,10);break;case 3:Bl(v,6);break;default:Bl(v,2)}}function Jy(v,F){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*F}function Bl(v,F){if(v.j.info("Error code "+F),2==F){var q=rt(v.fb,v),Ae=v.Xa;const Ft=!Ae;Ae=new mc(Ae||"//www.google.com/images/cleardot.gif"),w.location&&"http"==w.location.protocol||pd(Ae,"https"),Vg(Ae),Ft?function YE(v,F){const q=new Ch;if(w.Image){const Ae=new Image;Ae.onload=St(vc,q,"TestLoadImage: loaded",!0,F,Ae),Ae.onerror=St(vc,q,"TestLoadImage: error",!1,F,Ae),Ae.onabort=St(vc,q,"TestLoadImage: abort",!1,F,Ae),Ae.ontimeout=St(vc,q,"TestLoadImage: timeout",!1,F,Ae),w.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=v}else F(!1)}(Ae.toString(),q):function Wy(v,F){new Ch;const Ae=new AbortController,Ft=setTimeout(()=>{Ae.abort(),vc(0,0,!1,F)},1e4);fetch(v,{signal:Ae.signal}).then(Kt=>{clearTimeout(Ft),vc(0,0,!!Kt.ok,F)}).catch(()=>{clearTimeout(Ft),vc(0,0,!1,F)})}(Ae.toString(),q)}else pa(2);v.G=0,v.l&&v.l.sa(F),Hv(v),Yy(v)}function Hv(v){if(v.G=0,v.ka=[],v.l){const F=Ov(v.h);(0!=F.length||0!=v.i.length)&&(_n(v.ka,F),_n(v.ka,v.i),v.h.i.length=0,An(v.i),v.i.length=0),v.l.ra()}}function zv(v,F,q){var Ae=q instanceof mc?du(q):new mc(q);if(""!=Ae.g)F&&(Ae.g=F+"."+Ae.g),Dh(Ae,Ae.s);else{var Ft=w.location;Ae=Ft.protocol,F=F?F+"."+Ft.hostname:Ft.hostname,Ft=+Ft.port;var Kt=new mc(null);Ae&&pd(Kt,Ae),F&&(Kt.g=F),Ft&&Dh(Kt,Ft),q&&(Kt.l=q),Ae=Kt}return F=v.ya,(q=v.D)&&F&&vo(Ae,q,F),vo(Ae,"VER",v.la),ap(v,Ae),Ae}function Gv(v,F,q){if(F&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new xo(v.Ca&&!v.pa?new Mh({eb:q}):v.pa)).Ha(v.J),F}function Wv(){}function zg(){}function za(v,F){Ys.call(this),this.g=new Qy(F),this.l=v,this.h=F&&F.messageUrlParams||null,v=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(v?v["X-WebChannel-Content-Type"]=F.messageContentType:v={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(v?v["X-WebChannel-Client-Profile"]=F.va:v={"X-WebChannel-Client-Profile":F.va}),this.g.S=v,(v=F&&F.Sb)&&!gr(v)&&(this.g.m=v),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!gr(F)&&(this.g.D=F,null!==(v=this.h)&&F in v&&F in(v=this.h)&&delete v[F]),this.j=new kh(this)}function e0(v){Kf.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var F=v.__sm__;if(F){e:{for(const q in F){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,F=null!==F&&v in F?F[v]:void 0),this.data=F}else this.data=v}function xh(){dd.call(this),this.status=1}function kh(v){this.g=v}(l=xo.prototype).Ha=function(v){this.J=v},l.ea=function(v,F,q,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);F=F?F.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rv.g(),this.v=function My(v){return v.h||(v.h=v.i())}(this.o?this.o:Rv),this.g.onreadystatechange=rt(this.Ea,this);try{this.B=!0,this.g.open(F,String(v),!0),this.B=!1}catch(Kt){return void Ph(this,Kt)}if(v=q||"",q=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var Ft in Ae)q.set(Ft,Ae[Ft]);else{if("function"!=typeof Ae.keys||"function"!=typeof Ae.get)throw Error("Unknown input type for opt_headers: "+String(Ae));for(const Kt of Ae.keys())q.set(Kt,Ae.get(Kt))}Ae=Array.from(q.keys()).find(Kt=>"content-type"==Kt.toLowerCase()),Ft=w.FormData&&v instanceof w.FormData,!(0<=Array.prototype.indexOf.call(op,F,void 0))||Ae||Ft||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Kt,Un]of q)this.g.setRequestHeader(Kt,Un);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sp(this),this.u=!0,this.g.send(v),this.u=!1}catch(Kt){Ph(this,Kt)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Zs(this,"complete"),Zs(this,"abort"),$g(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$g(this,!0)),xo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?qy(this):this.bb())},l.bb=function(){qy(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Ul(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var F=this.g.responseText;return v&&0==F.indexOf(v)&&(F=F.substring(v.length)),Eh(F)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Qy.prototype).la=8,l.G=1,l.connect=function(v,F,q,Ae){pa(0),this.W=v,this.H=F||{},q&&void 0!==Ae&&(this.H.OSID=q,this.H.OAID=Ae),this.F=this.X,this.I=zv(this,null,this.W),Bv(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Ft=new gc(this,this.j,v);let Kt=this.o;if(this.S&&(Kt?(Kt=et(Kt),bt(Kt,this.S)):Kt=this.S),null!==this.m||this.O||(Ft.H=Kt,Kt=null),this.P)e:{for(var F=0,q=0;q<this.i.length;q++){var Ae=this.i[q];if(void 0===(Ae="__data__"in Ae.map&&"string"==typeof(Ae=Ae.map.__data__)?Ae.length:void 0))break;if(4096<(F+=Ae)){F=q;break e}if(4096===F||q===this.i.length-1){F=q+1;break e}}F=1e3}else F=1e3;F=Hg(this,Ft,F),vo(q=du(this.I),"RID",v),vo(q,"CVER",22),this.D&&vo(q,"X-HTTP-Session-Id",this.D),ap(this,q),Kt&&(this.O?F="headers="+encodeURIComponent(String(Lv(Kt)))+"&"+F:this.m&&rp(q,this.m,Kt)),Nv(this.h,Ft),this.Ua&&vo(q,"TYPE","init"),this.P?(vo(q,"$req",F),vo(q,"SID","null"),Ft.T=!0,kg(Ft,q,null)):kg(Ft,q,F),this.G=2}}else 3==this.G&&(v?Zy(this,v):0==this.i.length||Uy(this.h)||Zy(this))},l.Fa=function(){if(this.u=null,$v(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=qf(rt(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pa(10),Uv(this),$v(this))},l.Za=function(){null!=this.C&&(this.C=null,Uv(this),lp(this),pa(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),pa(2)):(this.j.info("Failed to ping google.com"),pa(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=Wv.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},zg.prototype.g=function(v,F){return new za(v,F)},un(za,Ys),za.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},za.prototype.close=function(){Vv(this.g)},za.prototype.o=function(v){var F=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Mg(v),v=q);F.i.push(new qE(F.Ya++,v)),3==F.G&&Bv(F)},za.prototype.N=function(){this.g.l=null,delete this.j,Vv(this.g),delete this.g,za.aa.N.call(this)},un(e0,Kf),un(xh,dd),un(kh,Wv),kh.prototype.ua=function(){Zs(this.g,"a")},kh.prototype.ta=function(v){Zs(this.g,new e0(v))},kh.prototype.sa=function(v){Zs(this.g,new xh)},kh.prototype.ra=function(){Zs(this.g,"b")},zg.prototype.createWebChannel=zg.prototype.g,za.prototype.send=za.prototype.o,za.prototype.open=za.prototype.m,za.prototype.close=za.prototype.close,ut=hn.createWebChannelTransport=function(){return new zg},Te=hn.getStatEventTarget=function(){return Ih()},ae=hn.Event=pc,ee=hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xf.NO_ERROR=0,Xf.TIMEOUT=8,Xf.HTTP_ERROR=6,Z=hn.ErrorCode=Xf,Oy.COMPLETE="complete",be=hn.EventType=Oy,Wf.EventType=Ll,Ll.OPEN="a",Ll.CLOSE="b",Ll.ERROR="c",Ll.MESSAGE="d",Ys.prototype.listen=Ys.prototype.K,dt=hn.WebChannel=Wf,sn=hn.FetchXmlHttpFactory=Mh,xo.prototype.listenOnce=xo.prototype.L,xo.prototype.getLastError=xo.prototype.Ka,xo.prototype.getLastErrorCode=xo.prototype.Ba,xo.prototype.getStatus=xo.prototype.Z,xo.prototype.getResponseJson=xo.prototype.Oa,xo.prototype.getResponseText=xo.prototype.oa,xo.prototype.send=xo.prototype.ea,xo.prototype.setWithCredentials=xo.prototype.Ha,qt=hn.XhrIo=xo}).apply(typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{});const Xe="@firebase/firestore";class Qe{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");let zt="10.13.1";const Rt=new nt.Vy("@firebase/firestore");function Nt(){return Rt.logLevel}function Ct(l,...n){if(Rt.logLevel<=nt.$b.DEBUG){const i=n.map(Gn);Rt.debug(`Firestore (${zt}): ${l}`,...i)}}function On(l,...n){if(Rt.logLevel<=nt.$b.ERROR){const i=n.map(Gn);Rt.error(`Firestore (${zt}): ${l}`,...i)}}function Nn(l,...n){if(Rt.logLevel<=nt.$b.WARN){const i=n.map(Gn);Rt.warn(`Firestore (${zt}): ${l}`,...i)}}function Gn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Bt(l="Unexpected state"){const n=`FIRESTORE (${zt}) INTERNAL ASSERTION FAILED: `+l;throw On(n),new Error(n)}function rn(l,n){l||Bt()}function lt(l,n){return l}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Je.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class on{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Ln{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Qn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class Wn{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Cn{constructor(n){this.t=n,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;let u=this.i;const p=W=>this.i!==u?(u=this.i,i(W)):Promise.resolve();let _=new on;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new on,n.enqueueRetryable(()=>p(this.currentUser))};const w=()=>{const W=_;n.enqueueRetryable((0,Ee.A)(function*(){yield W.promise,yield p(s.currentUser)}))},x=W=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(W=>x(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?x(W):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new on)}},0),w()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rn("string"==typeof s.accessToken),new Ln(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return rn(null===n||"string"==typeof n),new Qe(n)}}class Qt{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zr{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new Qt(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ur{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ir{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const s=p=>{null!=p.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,Ct("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const u=p=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(rn("string"==typeof i.token),this.R=i.token,new Ur(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jr(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class Fi{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=jr(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function yn(l,n){return l<n?-1:l>n?1:0}function Si(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function tr(l){return l+"\0"}class xn{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Fe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Fe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Fe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return xn.fromMillis(Date.now())}static fromDate(n){return xn.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new xn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?yn(this.nanoseconds,n.nanoseconds):yn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Rn(n)}static min(){return new Rn(new xn(0,0))}static max(){return new Rn(new xn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class si{constructor(n,i,s){void 0===i?i=0:i>n.length&&Bt(),void 0===s?s=n.length-i:s>n.length-i&&Bt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===si.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof si?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const p=n.get(u),_=i.get(u);if(p<_)return-1;if(p>_)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class Jn extends si{construct(n,i,s){return new Jn(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Fe(De.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Jn(i)}static emptyPath(){return new Jn([])}}const Ci=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends si{construct(n,i,s){return new lr(n,i,s)}static isValidIdentifier(n){return Ci.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Fe(De.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<n.length;){const w=n[u];if("\\"===w){if(u+1===n.length)throw new Fe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const x=n[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Fe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=x,u+=2}else"`"===w?(_=!_,u++):"."!==w||_?(s+=w,u++):(p(),u++)}if(p(),_)throw new Fe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new lr(i)}static emptyPath(){return new lr([])}}class mn{constructor(n){this.path=n}static fromPath(n){return new mn(Jn.fromString(n))}static fromName(n){return new mn(Jn.fromString(n).popFirst(5))}static empty(){return new mn(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Jn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return Jn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new mn(new Jn(n.slice()))}}class oi{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function xt(l){return l.fields.find(n=>2===n.kind)}function gt(l){return l.fields.filter(n=>2!==n.kind)}oi.UNKNOWN_ID=-1;class ve{constructor(n,i){this.fieldPath=n,this.kind=i}}class ne{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new ne(0,ot.min())}}function Oe(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=Rn.fromTimestamp(1e9===s?new xn(i+1,0):new xn(i,s));return new ot(u,mn.empty(),n)}function Et(l){return new ot(l.readTime,l.key,-1)}class ot{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new ot(Rn.min(),mn.empty(),-1)}static max(){return new ot(Rn.max(),mn.empty(),-1)}}function Jt(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=mn.comparator(l.documentKey,n.documentKey),0!==i?i:yn(l.largestBatchId,n.largestBatchId))}const kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Fr(l){return xr.apply(this,arguments)}function xr(){return(xr=(0,Ee.A)(function*(l){if(l.code!==De.FAILED_PRECONDITION||l.message!==kn)throw l;Ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class It{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new It((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof It?i:It.resolve(i)}catch(i){return It.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):It.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):It.reject(i)}static resolve(n){return new It((i,s)=>{i(n)})}static reject(n){return new It((i,s)=>{s(n)})}static waitFor(n){return new It((i,s)=>{let u=0,p=0,_=!1;n.forEach(w=>{++u,w.next(()=>{++p,_&&p===u&&i()},x=>s(x))}),_=!0,p===u&&i()})}static or(n){let i=It.resolve(!1);for(const s of n)i=i.next(u=>u?It.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(n,i){return new It((s,u)=>{const p=n.length,_=new Array(p);let w=0;for(let x=0;x<p;x++){const W=x;i(n[W]).next(fe=>{_[W]=fe,++w,w===p&&s(_)},fe=>u(fe))}})}static doWhile(n,i){return new It((s,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):s()};p()})}}class Kn{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new on,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Zi(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Ji(s.target.error);this.V.reject(new Zi(n,u))}}static open(n,i,s,u){try{return new Kn(i,n.transaction(u,s))}catch(p){throw new Zi(i,p)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(Ct("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Ki(i)}}class vr{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===vr.S((0,Je.ZQ)())&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ct("SimpleDb","Removing database:",n),fi(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,Je.zW)())return!1;if(vr.v())return!0;const n=(0,Je.ZQ)(),i=vr.S(n),s=0<i&&i<10,u=_i(n),p=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||p)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,Ee.A)(function*(){return i.db||(Ct("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{u(new Zi(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const w=_.target.error;u("VersionError"===w.name?new Fe(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Fe(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Zi(n,w))},p.onupgradeneeded=_=>{Ct("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var p=this;return(0,Ee.A)(function*(){const _="readonly"===i;let w=0;for(;;){++w;try{p.db=yield p.M(n);const x=Kn.open(p.db,n,_?"readonly":"readwrite",s),W=u(x).next(fe=>(x.g(),fe)).catch(fe=>(x.abort(fe),It.reject(fe))).toPromise();return W.catch(()=>{}),yield x.m,W}catch(x){const W=x,fe="FirebaseError"!==W.name&&w<3;if(Ct("SimpleDb","Transaction failed with error:",W.message,"Retrying:",fe),p.close(),!fe)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function _i(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class $i{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return fi(this.B.delete())}}class Zi extends Fe{constructor(n,i){super(De.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function hi(l){return"IndexedDbTransactionError"===l.name}class Ki{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(Ct("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),fi(s)}add(n){return Ct("SimpleDb","ADD",this.store.name,n,n),fi(this.store.add(n))}get(n){return fi(this.store.get(n)).next(i=>(void 0===i&&(i=null),Ct("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return Ct("SimpleDb","DELETE",this.store.name,n),fi(this.store.delete(n))}count(){return Ct("SimpleDb","COUNT",this.store.name),fi(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new It((_,w)=>{p.onerror=x=>{w(x.target.error)},p.onsuccess=x=>{_(x.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(w,x)=>{_.push(x)}).next(()=>_)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new It((u,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(n,i){Ct("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(p,_,w)=>w.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new It((s,u)=>{i.onerror=p=>{const _=Ji(p.target.error);u(_)},i.onsuccess=p=>{const _=p.target.result;_?n(_.primaryKey,_.value).next(w=>{w?_.continue():s()}):s()}})}W(n,i){const s=[];return new It((u,p)=>{n.onerror=_=>{p(_.target.error)},n.onsuccess=_=>{const w=_.target.result;if(!w)return void u();const x=new $i(w),W=i(w.primaryKey,w.value,x);if(W instanceof It){const fe=W.catch(Pe=>(x.done(),It.reject(Pe)));s.push(fe)}x.isDone?u():null===x.K?w.continue():w.continue(x.K)}}).next(()=>It.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function fi(l){return new It((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=Ji(s.target.error);i(u)}})}let so=!1;function Ji(l){const n=vr.S((0,Je.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return so||(so=!0,setTimeout(()=>{throw s},0)),s}}return l}class eo{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;Ct("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ee.A)(function*(){i.task=null;try{Ct("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){hi(s)?Ct("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Fr(s)}yield i.X(6e4)}))}}class je{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,Ee.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,p=!0;return It.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(_=>{if(null!==_&&!s.has(_))return Ct("IndexBackfiller",`Processing collection: ${_}`),this.ne(n,_,u).next(w=>{u-=w,s.add(_)});p=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(n,_).next(()=>this.re(u,p)).next(w=>(Ct("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(n,i,w))).next(()=>_.size)}))}re(n,i){let s=n;return i.changes.forEach((u,p)=>{const _=Et(p);Jt(_,s)>0&&(s=_)}),new ot(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let _e=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function ht(l){return null==l}function oe(l){return 0===l&&1/l==-1/0}function re(l){return"number"==typeof l&&Number.isInteger(l)&&!oe(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Le(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=an(n)),n=Pt(l.get(i),n);return an(n)}function Pt(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const p=l.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function an(l){return l+"\x01\x01"}function vn(l){const n=l.length;if(rn(n>=2),2===n)return rn("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Jn.emptyPath();const i=n-2,s=[];let u="";for(let p=0;p<n;){const _=l.indexOf("\x01",p);switch((_<0||_>i)&&Bt(),l.charAt(_+1)){case"\x01":const w=l.substring(p,_);let x;0===u.length?x=w:(u+=w,x=u,u=""),s.push(x);break;case"\x10":u+=l.substring(p,_),u+="\0";break;case"\x11":u+=l.substring(p,_+1);break;default:Bt()}p=_+2}return new Jn(s)}const sr=["userId","batchId"];function Bn(l,n){return[l,Le(n)]}function pi(l,n,i){return[l,Le(n),i]}const Lr={},ur=["prefixPath","collectionGroup","readTime","documentId"],ni=["prefixPath","collectionGroup","documentId"],Li=["collectionGroup","readTime","prefixPath","documentId"],Mi=["canonicalId","targetId"],ai=["targetId","path"],qi=["path","targetId"],ji=["collectionId","parent"],Vi=["indexId","uid"],$o=["uid","sequenceNumber"],_o=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ko=["indexId","uid","orderedDocumentKey"],Xo=["userId","collectionPath","documentId"],Qo=["userId","collectionPath","largestBatchId"],es=["userId","collectionGroup","largestBatchId"],Co=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pi=[...Co,"documentOverlays"],Bs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],To=Bs,jo=[...To,"indexConfiguration","indexState","indexEntries"],ta=jo,Ri=[...jo,"globals"];class ts extends Fn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Xr(l,n){const i=lt(l);return vr.F(i._e,n)}function ga(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function Do(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function ps(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class Jr{constructor(n,i){this.comparator=n,this.root=i||Ti.EMPTY}insert(n,i){return new Jr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(n){return new Jr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new bo(this.root,n,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new bo(this.root,n,this.comparator,!0)}}class bo{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ti{constructor(n,i,s,u,p){this.key=n,this.value=i,this.color=null!=s?s:Ti.RED,this.left=null!=u?u:Ti.EMPTY,this.right=null!=p?p:Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,p){return new Ti(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const p=s(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Ti.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const n=this.left.check();if(n!==this.right.check())throw Bt();return n+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(n,i,s,u,p){return this}insert(n,i,s){return new Ti(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(n){this.comparator=n,this.data=new Jr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new As(this.data.getIterator())}getIteratorFrom(n){return new As(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Nr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Nr(this.comparator);return i.data=n,i}}class As{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ho(l){return l.hasNext()?l.getNext():void 0}class Gr{constructor(n){this.fields=n,n.sort(lr.comparator)}static empty(){return new Gr([])}unionWith(n){let i=new Nr(lr.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Gr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Si(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class de{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new R("Invalid base64 string: "+p):p}}(n);return new de(i)}static fromUint8Array(n){const i=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(n);return new de(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return yn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}de.EMPTY_BYTE_STRING=new de("");const N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(l){if(rn(!!l),"string"==typeof l){let n=0;const i=N.exec(l);if(rn(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:k(l.seconds),nanos:k(l.nanos)}}function k(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function we(l){return"string"==typeof l?de.fromBase64String(l):de.fromUint8Array(l)}function Be(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function at(l){const n=l.mapValue.fields.__previous_value__;return Be(n)?at(n):n}function vt(l){const n=C(l.mapValue.fields.__local_write_time__.timestampValue);return new xn(n.seconds,n.nanos)}class Gt{constructor(n,i,s,u,p,_,w,x,W){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=w,this.longPollingOptions=x,this.useFetchStreams=W}}class Yt{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Yt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Yt&&n.projectId===this.projectId&&n.database===this.database}}const jt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},en={nullValue:"NULL_VALUE"};function fn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Be(l)?4:Vo(l)?9007199254740991:na(l)?10:11:Bt()}function In(l,n){if(l===n)return!0;const i=fn(l);if(i!==fn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return vt(l).isEqual(vt(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=C(u.timestampValue),w=C(p.timestampValue);return _.seconds===w.seconds&&_.nanos===w.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return p=n,we(l.bytesValue).isEqual(we(p.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,p){return k(u.geoPointValue.latitude)===k(p.geoPointValue.latitude)&&k(u.geoPointValue.longitude)===k(p.geoPointValue.longitude)}(l,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return k(u.integerValue)===k(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=k(u.doubleValue),w=k(p.doubleValue);return _===w?oe(_)===oe(w):isNaN(_)&&isNaN(w)}return!1}(l,n);case 9:return Si(l.arrayValue.values||[],n.arrayValue.values||[],In);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},w=p.mapValue.fields||{};if(ga(_)!==ga(w))return!1;for(const x in _)if(_.hasOwnProperty(x)&&(void 0===w[x]||!In(_[x],w[x])))return!1;return!0}(l,n);default:return Bt()}var p}function $n(l,n){return void 0!==(l.values||[]).find(i=>In(i,n))}function Vn(l,n){if(l===n)return 0;const i=fn(l),s=fn(n);if(i!==s)return yn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return yn(l.booleanValue,n.booleanValue);case 2:return function(p,_){const w=k(p.integerValue||p.doubleValue),x=k(_.integerValue||_.doubleValue);return w<x?-1:w>x?1:w===x?0:isNaN(w)?isNaN(x)?0:-1:1}(l,n);case 3:return Br(l.timestampValue,n.timestampValue);case 4:return Br(vt(l),vt(n));case 5:return yn(l.stringValue,n.stringValue);case 6:return function(p,_){const w=we(p),x=we(_);return w.compareTo(x)}(l.bytesValue,n.bytesValue);case 7:return function(p,_){const w=p.split("/"),x=_.split("/");for(let W=0;W<w.length&&W<x.length;W++){const fe=yn(w[W],x[W]);if(0!==fe)return fe}return yn(w.length,x.length)}(l.referenceValue,n.referenceValue);case 8:return function(p,_){const w=yn(k(p.latitude),k(_.latitude));return 0!==w?w:yn(k(p.longitude),k(_.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return ri(l.arrayValue,n.arrayValue);case 10:return function(p,_){var w,x,W,fe;const St=null===(w=(p.fields||{}).value)||void 0===w?void 0:w.arrayValue,un=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,An=yn((null===(W=null==St?void 0:St.values)||void 0===W?void 0:W.length)||0,(null===(fe=null==un?void 0:un.values)||void 0===fe?void 0:fe.length)||0);return 0!==An?An:ri(St,un)}(l.mapValue,n.mapValue);case 11:return function(p,_){if(p===jt.mapValue&&_===jt.mapValue)return 0;if(p===jt.mapValue)return 1;if(_===jt.mapValue)return-1;const w=p.fields||{},x=Object.keys(w),W=_.fields||{},fe=Object.keys(W);x.sort(),fe.sort();for(let Pe=0;Pe<x.length&&Pe<fe.length;++Pe){const rt=yn(x[Pe],fe[Pe]);if(0!==rt)return rt;const St=Vn(w[x[Pe]],W[fe[Pe]]);if(0!==St)return St}return yn(x.length,fe.length)}(l.mapValue,n.mapValue);default:throw Bt()}}function Br(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return yn(l,n);const i=C(l),s=C(n),u=yn(i.seconds,s.seconds);return 0!==u?u:yn(i.nanos,s.nanos)}function ri(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=Vn(i[u],s[u]);if(p)return p}return yn(i.length,s.length)}function Wr(l){return Kr(l)}function Kr(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=C(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?we(l.bytesValue).toBase64():"referenceValue"in l?mn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=Kr(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const _ of s)p?p=!1:u+=",",u+=`${_}:${Kr(i.fields[_])}`;return u+"}"}(l.mapValue):Bt()}function ao(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function Xi(l){return!!l&&"integerValue"in l}function Sn(l){return!!l&&"arrayValue"in l}function Fo(l){return!!l&&"nullValue"in l}function Hi(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function $s(l){return!!l&&"mapValue"in l}function na(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Lo(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Do(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=Lo(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Lo(l.arrayValue.values[i]);return n}return Object.assign({},l)}function Vo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const wo={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function lo(l){return"nullValue"in l?en:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?ao(Yt.empty(),mn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?na(l)?wo:{mapValue:{}}:Bt()}function Uo(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?ao(Yt.empty(),mn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?wo:"mapValue"in l?na(l)?{mapValue:{}}:jt:Bt()}function So(l,n){const i=Vn(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function va(l,n){const i=Vn(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class Ni{constructor(n){this.value=n}static empty(){return new Ni({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!$s(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Lo(i)}setAll(n){let i=lr.emptyPath(),s={},u=[];n.forEach((_,w)=>{if(!i.isImmediateParentOf(w)){const x=this.getFieldsMap(i);this.applyChanges(x,s,u),s={},u=[],i=w.popLast()}_?s[w.lastSegment()]=Lo(_):u.push(w.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(n){const i=this.field(n.popLast());$s(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return In(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];$s(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){Do(i,(u,p)=>n[u]=p);for(const u of s)delete n[u]}clone(){return new Ni(Lo(this.value))}}function zo(l){const n=[];return Do(l.fields,(i,s)=>{const u=new lr([i]);if($s(s)){const p=zo(s.mapValue).fields;if(0===p.length)n.push(u);else for(const _ of p)n.push(u.child(_))}else n.push(u)}),new Gr(n)}class ii{constructor(n,i,s,u,p,_,w){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=_,this.documentState=w}static newInvalidDocument(n){return new ii(n,0,Rn.min(),Rn.min(),Rn.min(),Ni.empty(),0)}static newFoundDocument(n,i,s,u){return new ii(n,1,i,Rn.min(),s,u,0)}static newNoDocument(n,i){return new ii(n,2,i,Rn.min(),Rn.min(),Ni.empty(),0)}static newUnknownDocument(n,i){return new ii(n,3,i,Rn.min(),Rn.min(),Ni.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ii&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ei{constructor(n,i){this.position=n,this.inclusive=i}}function Ka(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const p=n[u],_=l.position[u];if(s=p.field.isKeyField()?mn.comparator(mn.fromName(_.referenceValue),i.key):Vn(_,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function gs(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!In(l.position[i],n.position[i]))return!1;return!0}class Rr{constructor(n,i="asc"){this.field=n,this.dir=i}}function pl(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class Di{}class rr extends Di{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Ro(n,i,s):"array-contains"===i?new _l(n,s):"in"===i?new qa(n,s):"not-in"===i?new z(n,s):"array-contains-any"===i?new M(n,s):new rr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new ml(n,s):new zl(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Vn(i,this.value)):null!==i&&fn(this.value)===fn(i)&&this.matchesComparison(Vn(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends Di{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Yr(n,i)}matches(n){return ra(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ra(l){return"and"===l.op}function Cs(l){return"or"===l.op}function er(l){return ms(l)&&ra(l)}function ms(l){for(const n of l.filters)if(n instanceof Yr)return!1;return!0}function uo(l){if(l instanceof rr)return l.field.canonicalString()+l.op.toString()+Wr(l.value);if(er(l))return l.filters.map(n=>uo(n)).join(",");{const n=l.filters.map(i=>uo(i)).join(",");return`${l.op}(${n})`}}function gl(l,n){return l instanceof rr?(s=l,(u=n)instanceof rr&&s.op===u.op&&s.field.isEqual(u.field)&&In(s.value,u.value)):l instanceof Yr?function(s,u){return u instanceof Yr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,_,w)=>p&&gl(_,u.filters[w]),!0)}(l,n):void Bt();var s,u}function Ts(l,n){const i=l.filters.concat(n);return Yr.create(i,l.op)}function ti(l){return l instanceof rr?`${(i=l).field.canonicalString()} ${i.op} ${Wr(i.value)}`:l instanceof Yr?function(i){return i.op.toString()+" {"+i.getFilters().map(ti).join(" ,")+"}"}(l):"Filter";var i}class Ro extends rr{constructor(n,i,s){super(n,i,s),this.key=mn.fromName(s.referenceValue)}matches(n){const i=mn.comparator(n.key,this.key);return this.matchesComparison(i)}}class ml extends rr{constructor(n,i){super(n,"in",i),this.keys=vl(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class zl extends rr{constructor(n,i){super(n,"not-in",i),this.keys=vl(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function vl(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>mn.fromName(s.referenceValue))}class _l extends rr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Sn(i)&&$n(i.arrayValue,this.value)}}class qa extends rr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&$n(this.value.arrayValue,i)}}class z extends rr{constructor(n,i){super(n,"not-in",i)}matches(n){if($n(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!$n(this.value.arrayValue,i)}}class M extends rr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Sn(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>$n(this.value.arrayValue,s))}}class te{constructor(n,i=null,s=[],u=[],p=null,_=null,w=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=_,this.endAt=w,this.ue=null}}function $(l,n=null,i=[],s=[],u=null,p=null,_=null){return new te(l,n,i,s,u,p,_)}function ue(l){const n=lt(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>uo(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),ht(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Wr(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Wr(s)).join(",")),n.ue=i}return n.ue}function ln(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!pl(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!gl(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!gs(l.startAt,n.startAt)&&gs(l.endAt,n.endAt)}function Zn(l){return mn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function yi(l,n){return l.filters.filter(i=>i instanceof rr&&i.field.isEqual(n))}function zi(l,n,i){let s=en,u=!0;for(const p of yi(l,n)){let _=en,w=!0;switch(p.op){case"<":case"<=":_=lo(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,w=!1;break;case"!=":case"not-in":_=en}So({value:s,inclusive:u},{value:_,inclusive:w})<0&&(s=_,u=w)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];So({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function co(l,n,i){let s=jt,u=!0;for(const p of yi(l,n)){let _=jt,w=!0;switch(p.op){case">=":case">":_=Uo(p.value),w=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,w=!1;break;case"!=":case"not-in":_=jt}va({value:s,inclusive:u},{value:_,inclusive:w})>0&&(s=_,u=w)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];va({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class Er{constructor(n,i=null,s=[],u=[],p=null,_="F",w=null,x=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=_,this.startAt=w,this.endAt=x,this.ce=null,this.le=null,this.he=null}}function ho(l,n,i,s,u,p,_,w){return new Er(l,n,i,s,u,p,_,w)}function Bo(l){return new Er(l)}function ia(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function _a(l){return null!==l.collectionGroup}function oa(l){const n=lt(l);if(null===n.ce){n.ce=[];const i=new Set;for(const p of n.explicitOrderBy)n.ce.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(_){let w=new Nr(lr.comparator);return _.filters.forEach(x=>{x.getFlattenedFilters().forEach(W=>{W.isInequality()&&(w=w.add(W.field))})}),w})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.ce.push(new Rr(p,s))}),i.has(lr.keyField().canonicalString())||n.ce.push(new Rr(lr.keyField(),s))}return n.ce}function fo(l){const n=lt(l);return n.le||(n.le=function Ds(l,n){if("F"===l.limitType)return $(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new Rr(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new ei(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new ei(l.startAt.position,l.startAt.inclusive):null;return $(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,oa(l))),n.le}function ya(l,n){const i=l.filters.concat([n]);return new Er(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function sa(l,n,i){return new Er(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function Ea(l,n){return ln(fo(l),fo(n))&&l.limitType===n.limitType}function dr(l){return`${ue(fo(l))}|lt:${l.limitType}`}function ns(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>ti(u)).join(", ")}]`),ht(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Wr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Wr(u)).join(",")),`Target(${s})`}(fo(l))}; limitType=${l.limitType})`}function bs(l,n){return n.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):mn.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,n)&&function(s,u){for(const p of oa(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(l,n)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(_,w,x){const W=Ka(_,w,x);return _.inclusive?W<=0:W<0}(s.startAt,oa(s),u)||s.endAt&&!function(_,w,x){const W=Ka(_,w,x);return _.inclusive?W>=0:W>0}(s.endAt,oa(s),u)));var s,u}function yl(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Oa(l){return(n,i)=>{let s=!1;for(const u of oa(l)){const p=Gl(u,n,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function Gl(l,n,i){const s=l.field.isKeyField()?mn.comparator(n.key,i.key):function(p,_,w){const x=_.data.field(p),W=w.data.field(p);return null!==x&&null!==W?Vn(x,W):Bt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Bt()}}class Go{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Do(this.inner,(i,s)=>{for(const[u,p]of s)n(u,p)})}isEmpty(){return ps(this.inner)}size(){return this.innerSize}}const pu=new Jr(mn.comparator);function Wo(){return pu}const ws=new Jr(mn.comparator);function Wl(...l){let n=ws;for(const i of l)n=n.insert(i.key,i);return n}function Ia(l){let n=ws;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function yo(){return rs()}function Ss(){return rs()}function rs(){return new Go(l=>l.toString(),(l,n)=>l.isEqual(n))}const Aa=new Jr(mn.comparator),is=new Nr(mn.comparator);function _r(...l){let n=is;for(const i of l)n=n.add(i);return n}const Xa=new Nr(yn);function pr(){return Xa}function Zr(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oe(n)?"-0":n}}function Uu(l){return{integerValue:""+l}}function Rs(l,n){return re(n)?Uu(n):Zr(l,n)}class Qa{constructor(){this._=void 0}}function El(l,n,i){return l instanceof Tr?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Be(p)&&(p=at(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,n):l instanceof Ko?Il(l,n):l instanceof li?Al(l,n):function(u,p){const _=xa(u,p),w=D(_)+D(u.Pe);return Xi(_)&&Xi(u.Pe)?Uu(w):Zr(u.serializer,w)}(l,n)}function Yo(l,n,i){return l instanceof Ko?Il(l,n):l instanceof li?Al(l,n):i}function xa(l,n){return l instanceof Ca?Xi(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Tr extends Qa{}class Ko extends Qa{constructor(n){super(),this.elements=n}}function Il(l,n){const i=j(n);for(const s of l.elements)i.some(u=>In(u,s))||i.push(s);return{arrayValue:{values:i}}}class li extends Qa{constructor(n){super(),this.elements=n}}function Al(l,n){let i=j(n);for(const s of l.elements)i=i.filter(u=>!In(u,s));return{arrayValue:{values:i}}}class Ca extends Qa{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function D(l){return k(l.integerValue||l.doubleValue)}function j(l){return Sn(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Re{constructor(n,i){this.field=n,this.transform=i}}class pe{constructor(n,i){this.version=n,this.transformResults=i}}class ke{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new ke}static exists(n){return new ke(void 0,n)}static updateTime(n){return new ke(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function $t(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class dn{}function fr(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new K(l.key,ke.none()):new Hr(l.key,l.data,ke.none());{const i=l.data,s=Ni.empty();let u=new Nr(lr.comparator);for(let p of n.fields)if(!u.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?s.delete(p):s.set(p,_),u=u.add(p)}return new bn(l.key,s,new Gr(u.toArray()),ke.none())}}function kr(l,n,i){l instanceof Hr?function(u,p,_){const w=u.value.clone(),x=bi(u.fieldTransforms,p,_.transformResults);w.setAll(x),p.convertToFoundDocument(_.version,w).setHasCommittedMutations()}(l,n,i):l instanceof bn?function(u,p,_){if(!$t(u.precondition,p))return void p.convertToUnknownDocument(_.version);const w=bi(u.fieldTransforms,p,_.transformResults),x=p.data;x.setAll(os(u)),x.setAll(w),p.convertToFoundDocument(_.version,x).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Mr(l,n,i,s){return l instanceof Hr?function(p,_,w,x){if(!$t(p.precondition,_))return w;const W=p.value.clone(),fe=U(p.fieldTransforms,x,_);return W.setAll(fe),_.convertToFoundDocument(_.version,W).setHasLocalMutations(),null}(l,n,i,s):l instanceof bn?function(p,_,w,x){if(!$t(p.precondition,_))return w;const W=U(p.fieldTransforms,x,_),fe=_.data;return fe.setAll(os(p)),fe.setAll(W),_.convertToFoundDocument(_.version,fe).setHasLocalMutations(),null===w?null:w.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Pe=>Pe.field))}(l,n,i,s):(w=i,$t(l.precondition,_=n)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):w);var _,w}function yr(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),p=xa(s.transform,u||null);null!=p&&(null===i&&(i=Ni.empty()),i.set(s.field,p))}return i||null}function Ar(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Si(s,u,(p,_)=>function B(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof Ko&&u instanceof Ko||s instanceof li&&u instanceof li?Si(s.elements,u.elements,In):s instanceof Ca&&u instanceof Ca?In(s.Pe,u.Pe):s instanceof Tr&&u instanceof Tr);var s,u}(p,_))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class Hr extends dn{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class bn extends dn{constructor(n,i,s,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function os(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function bi(l,n,i){const s=new Map;rn(l.length===i.length);for(let u=0;u<i.length;u++){const p=l[u],_=p.transform,w=n.data.field(p.field);s.set(p.field,Yo(_,w,i[u]))}return s}function U(l,n,i){const s=new Map;for(const u of l){const p=u.transform,_=i.data.field(u.field);s.set(u.field,El(p,_,n))}return s}class K extends dn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ie extends dn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $e{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&kr(p,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Mr(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Mr(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=Ss();return this.mutations.forEach(u=>{const p=n.get(u.key),_=p.overlayedDocument;let w=this.applyToLocalView(_,p.mutatedFields);w=i.has(u.key)?null:w;const x=fr(_,w);null!==x&&s.set(u.key,x),_.isValidDocument()||_.convertToNoDocument(Rn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),_r())}isEqual(n){return this.batchId===n.batchId&&Si(this.mutations,n.mutations,(i,s)=>Ar(i,s))&&Si(this.baseMutations,n.baseMutations,(i,s)=>Ar(i,s))}}class Lt{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){rn(n.mutations.length===s.length);let u=function(){return Aa}();const p=n.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,s[_].version);return new Lt(n,i,s,u)}}class Wt{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yn{constructor(n,i){this.count=n,this.unchangedNames=i}}var zn,Dn;function Dr(l){switch(l){default:return Bt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function jn(l){if(void 0===l)return On("GRPC error has no .code"),De.UNKNOWN;switch(l){case zn.OK:return De.OK;case zn.CANCELLED:return De.CANCELLED;case zn.UNKNOWN:return De.UNKNOWN;case zn.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case zn.INTERNAL:return De.INTERNAL;case zn.UNAVAILABLE:return De.UNAVAILABLE;case zn.UNAUTHENTICATED:return De.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case zn.NOT_FOUND:return De.NOT_FOUND;case zn.ALREADY_EXISTS:return De.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return De.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case zn.ABORTED:return De.ABORTED;case zn.OUT_OF_RANGE:return De.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return De.UNIMPLEMENTED;case zn.DATA_LOSS:return De.DATA_LOSS;default:return Bt()}}(Dn=zn||(zn={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";function Hs(){return new TextEncoder}const Bu=new Me([4294967295,4294967295],0);function Cc(l){const n=Hs().encode(l),i=new kt;return i.update(n),new Uint8Array(i.digest())}function Kl(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new Me([i,s],0),new Me([u,p],0)]}class _p{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new vs(`Invalid padding: ${i}`);if(s<0)throw new vs(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new vs(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new vs(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Me.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(Me.fromNumber(s)));return 1===u.compare(Bu)&&(u=new Me([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Cc(n),[s,u]=Kl(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);if(!this.de(_))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),_=new _p(p,u,i);return s.forEach(w=>_.insert(w)),_}insert(n){if(0===this.Ie)return;const i=Cc(n),[s,u]=Kl(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);this.Ae(_)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gu{constructor(n,i,s,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,Mo.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new gu(Rn.min(),u,new Jr(yn),Wo(),_r())}}class Mo{constructor(n,i,s,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new Mo(s,i,_r(),_r(),_r())}}class Ta{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class Cl{constructor(n,i){this.targetId=n,this.me=i}}class Po{constructor(n,i,s=de.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class $u{constructor(){this.fe=0,this.ge=Ms(),this.pe=de.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=_r(),i=_r(),s=_r();return this.ge.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Bt()}}),new Mo(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=Ms()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,rn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zs{constructor(n){this.Le=n,this.Be=new Map,this.ke=Wo(),this.qe=gi(),this.Qe=new Jr(yn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:Bt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const p=u.target;if(Zn(p))if(0===s){const _=new mn(p.path);this.Ue(i,_,ii.newNoDocument(_,Rn.min()))}else rn(1===s);else{const _=this.Ye(i);if(_!==s){const w=this.Ze(n),x=w?this.Xe(w,n,_):1;0!==x&&(this.je(i),this.Qe=this.Qe.insert(i,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let _,w;try{_=we(s).toUint8Array()}catch(x){if(x instanceof R)return Nn("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{w=new _p(_,u,p)}catch(x){return Nn(x instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return 0===w.Ie?null:w}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const _=this.Le.tt(),w=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;n.mightContain(w)||(this.Ue(i,p,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((p,_)=>{const w=this.Je(_);if(w){if(p.current&&Zn(w.target)){const x=new mn(w.target.path);null!==this.ke.get(x)||this.it(_,x)||this.Ue(_,x,ii.newNoDocument(x,n))}p.be&&(i.set(_,p.ve()),p.Ce())}});let s=_r();this.qe.forEach((p,_)=>{let w=!0;_.forEachWhile(x=>{const W=this.Je(x);return!W||"TargetPurposeLimboResolution"===W.purpose||(w=!1,!1)}),w&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(n));const u=new gu(n,i,this.Qe,this.ke,s);return this.ke=Wo(),this.qe=gi(),this.Qe=new Jr(yn),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new $u,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new Nr(yn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||Ct("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new $u),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function gi(){return new Jr(mn.comparator)}function Ms(){return new Jr(mn.comparator)}const jh={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mu={and:"AND",or:"OR"};class Dc{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function _s(l,n){return l.useProto3Json||ht(n)?n:{value:n}}function ys(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function ql(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function Xl(l,n){return ys(l,n.toTimestamp())}function no(l){return rn(!!l),Rn.fromTimestamp(function(i){const s=C(i);return new xn(s.seconds,s.nanos)}(l))}function Ql(l,n){return Ya(l,n).canonicalString()}function Ya(l,n){const i=(u=l,new Jn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function vu(l){const n=Jn.fromString(l);return rn(Eo(n)),n}function Tl(l,n){return Ql(l.databaseId,n.path)}function Gs(l,n){const i=vu(n);if(i.get(1)!==l.databaseId.projectId)throw new Fe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Fe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new mn(Da(i))}function ju(l,n){return Ql(l.databaseId,n)}function Hh(l){const n=vu(l);return 4===n.length?Jn.emptyPath():Da(n)}function vd(l){return new Jn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Da(l){return rn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Yl(l,n,i){return{name:Tl(l,n),fields:i.value.mapValue.fields}}function _d(l,n,i){const s=Gs(l,n.name),u=no(n.updateTime),p=n.createTime?no(n.createTime):Rn.min(),_=new Ni({mapValue:{fields:n.fields}}),w=ii.newFoundDocument(s,u,p,_);return i&&w.setHasCommittedMutations(),i?w.setHasCommittedMutations():w}function O(l,n){let i;if(n instanceof Hr)i={update:Yl(l,n.key,n.value)};else if(n instanceof K)i={delete:Tl(l,n.key)};else if(n instanceof bn)i={update:Yl(l,n.key,n.data),updateMask:to(n.fieldMask)};else{if(!(n instanceof Ie))return Bt();i={verify:Tl(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,_){const w=_.transform;if(w instanceof Tr)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Ko)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof li)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Ca)return{fieldPath:_.field.canonicalString(),increment:w.Pe};throw Bt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:Xl(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Bt()),i;var p}function b(l,n){const i=n.currentDocument?void 0!==(p=n.currentDocument).updateTime?ke.updateTime(no(p.updateTime)):void 0!==p.exists?ke.exists(p.exists):ke.none():ke.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(_,w){let x=null;"setToServerValue"in w?(rn("REQUEST_TIME"===w.setToServerValue),x=new Tr):"appendMissingElements"in w?x=new Ko(w.appendMissingElements.values||[]):"removeAllFromArray"in w?x=new li(w.removeAllFromArray.values||[]):"increment"in w?x=new Ca(_,w.increment):Bt();const W=lr.fromServerFormat(w.fieldPath);return new Re(W,x)}(l,u)):[];var p;if(n.update){const u=Gs(l,n.update.name),p=new Ni({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new Gr((n.updateMask.fieldPaths||[]).map(fe=>lr.fromServerFormat(fe)));return new bn(u,p,_,i,s)}return new Hr(u,p,i,s)}if(n.delete){const u=Gs(l,n.delete);return new K(u,i)}if(n.verify){const u=Gs(l,n.verify);return new Ie(u,i)}return Bt()}function he(l,n){return{documents:[ju(l,n.path)]}}function ge(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=ju(l,u);const p=function(W){if(0!==W.length)return vi(Yr.create(W,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const _=function(W){if(0!==W.length)return W.map(fe=>{return{field:Ai((rt=fe).field),direction:mr(rt.dir)};var rt})}(n.orderBy);_&&(i.structuredQuery.orderBy=_);const w=_s(l,n.limit);return null!==w&&(i.structuredQuery.limit=w),n.startAt&&(i.structuredQuery.startAt={before:(W=n.startAt).inclusive,values:W.position}),n.endAt&&(i.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(n.endAt)),{_t:i,parent:u};var W}function Zt(l){let n=Hh(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){rn(1===s);const fe=i.from[0];fe.allDescendants?u=fe.collectionId:n=n.child(fe.collectionId)}let p=[];i.where&&(p=function(Pe){const rt=Pn(Pe);return rt instanceof Yr&&er(rt)?rt.getFilters():[rt]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(rt=>{return new Rr(hr((un=rt).field),function(_n){switch(_n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(un.direction));var un}));let w=null;i.limit&&(w=function(Pe){let rt;return rt="object"==typeof Pe?Pe.value:Pe,ht(rt)?null:rt}(i.limit));let x=null;var Pe;i.startAt&&(x=new ei((Pe=i.startAt).values||[],!!Pe.before));let W=null;return i.endAt&&(W=function(Pe){return new ei(Pe.values||[],!Pe.before)}(i.endAt)),ho(n,u,_,p,w,"F",x,W)}function Pn(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=hr(i.unaryFilter.field);return rr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=hr(i.unaryFilter.field);return rr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=hr(i.unaryFilter.field);return rr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=hr(i.unaryFilter.field);return rr.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(l):void 0!==l.fieldFilter?rr.create(hr((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return Yr.create(i.compositeFilter.filters.map(s=>Pn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Bt()}}(i.compositeFilter.op))}(l):Bt();var i}function mr(l){return jh[l]}function ui(l){return Tc[l]}function br(l){return mu[l]}function Ai(l){return{fieldPath:l.canonicalString()}}function hr(l){return lr.fromServerFormat(l.fieldPath)}function vi(l){return l instanceof rr?function(i){if("=="===i.op){if(Hi(i.value))return{unaryFilter:{field:Ai(i.field),op:"IS_NAN"}};if(Fo(i.value))return{unaryFilter:{field:Ai(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Hi(i.value))return{unaryFilter:{field:Ai(i.field),op:"IS_NOT_NAN"}};if(Fo(i.value))return{unaryFilter:{field:Ai(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ai(i.field),op:ui(i.op),value:i.value}}}(l):l instanceof Yr?function(i){const s=i.getFilters().map(u=>vi(u));return 1===s.length?s[0]:{compositeFilter:{op:br(i.op),filters:s}}}(l):Bt()}function to(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Eo(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class wi{constructor(n,i,s,u,p=Rn.min(),_=Rn.min(),w=de.EMPTY_BYTE_STRING,x=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=w,this.expectedCount=x}withSequenceNumber(n){return new wi(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class _u{constructor(n){this.ct=n}}function yu(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:ka(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Tl(p=l.ct,(_=n).key),fields:_.data.value.mapValue.fields,updateTime:ys(p,_.version.toTimestamp()),createTime:ys(p,_.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:Za(n.version)};else{if(!n.isUnknownDocument())return Bt();s.unknownDocument={path:i.path.toArray(),version:Za(n.version)}}var p,_;return s}function ka(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function Za(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function aa(l){const n=new xn(l.seconds,l.nanoseconds);return Rn.fromTimestamp(n)}function Eu(l,n){const i=(n.baseMutations||[]).map(p=>b(l.ct,p));for(let p=0;p<n.mutations.length-1;++p)p+1<n.mutations.length&&void 0!==n.mutations[p+1].transform&&(n.mutations[p].updateTransforms=n.mutations[p+1].transform.fieldTransforms,n.mutations.splice(p+1,1),++p);const s=n.mutations.map(p=>b(l.ct,p)),u=xn.fromMillis(n.localWriteTimeMs);return new $e(n.batchId,u,i,s)}function Dl(l){const n=aa(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?aa(l.lastLimboFreeSnapshotVersion):Rn.min();let s;return s=void 0!==l.query.documents?(rn(1===(p=l.query).documents.length),fo(Bo(Hh(p.documents[0])))):function(p){return fo(Zt(p))}(l.query),new wi(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,de.fromBase64String(l.resumeToken));var p}function Iu(l,n){const i=Za(n.snapshotVersion),s=Za(n.lastLimboFreeSnapshotVersion);let u;u=Zn(n.target)?he(l.ct,n.target):ge(l.ct,n.target)._t;const p=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:ue(n.target),readTime:i,resumeToken:p,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function ba(l){const n=Zt({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?sa(n,n.limit,"L"):n}function yd(l,n){return new Wt(n.largestBatchId,b(l.ct,n.overlayMutation))}function Ed(l,n){const i=n.path.lastSegment();return[l,Le(n.path.popLast()),i]}function yp(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:Za(s.readTime),documentKey:Le(s.documentKey.path),largestBatchId:s.largestBatchId}}class zh{getBundleMetadata(n,i){return bc(n).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:aa(p.createTime),version:p.version};var p})}saveBundleMetadata(n,i){return bc(n).put({bundleId:(u=i).id,createTime:Za(no(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return Id(n).get(i).next(s=>{if(s)return{name:(p=s).name,query:ba(p.bundledQuery),readTime:aa(p.readTime)};var p})}saveNamedQuery(n,i){return Id(n).put({name:(u=i).name,readTime:Za(no(u.readTime)),bundledQuery:u.bundledQuery});var u}}function bc(l){return Xr(l,"bundles")}function Id(l){return Xr(l,"namedQueries")}class Ja{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Ja(n,i.uid||"")}getOverlay(n,i){return wc(n).get(Ed(this.userId,i)).next(s=>s?yd(this.serializer,s):null)}getOverlays(n,i){const s=yo();return It.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((p,_)=>{const w=new Wt(i,_);u.push(this.ht(n,w))}),It.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(_=>u.add(Le(_.getCollectionPath())));const p=[];return u.forEach(_=>{const w=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(wc(n).j("collectionPathOverlayIndex",w))}),It.waitFor(p)}getOverlaysForCollection(n,i,s){const u=yo(),p=Le(i),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return wc(n).U("collectionPathOverlayIndex",_).next(w=>{for(const x of w){const W=yd(this.serializer,x);u.set(W.getKey(),W)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const p=yo();let _;const w=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return wc(n).J({index:"collectionGroupOverlayIndex",range:w},(x,W,fe)=>{const Pe=yd(this.serializer,W);p.size()<u||Pe.largestBatchId===_?(p.set(Pe.getKey(),Pe),_=Pe.largestBatchId):fe.done()}).next(()=>p)}ht(n,i){return wc(n).put(function(u,p,_){const[w,x,W]=Ed(p,_.mutation.key);return{userId:p,collectionPath:x,documentId:W,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:O(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function wc(l){return Xr(l,"documentOverlays")}class Sc{Pt(n){return Xr(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?de.fromUint8Array(s):de.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class el{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(k(n.integerValue));else if("doubleValue"in n){const s=k(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),oe(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=C(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(we(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?Vo(n)?this.dt(i,Number.MAX_SAFE_INTEGER):na(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Bt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const p=n.fields||{};this.dt(i,53);const _="value",w=(null===(u=null===(s=p[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(k(w)),this.Vt(_,i),this.Tt(p[_],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),mn.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Gh(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function Ad(l){const n=64-function(s){let u=0;for(let p=0;p<8;++p){const _=Gh(255&s[p]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(n/8)}el.vt=new el;class Hu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=Ad(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=Ad(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Ws{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class zu{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Fa{constructor(){this.jt=new Hu,this.Ht=new Ws(this.jt),this.Jt=new zu(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Au{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new Au(this.indexId,this.documentKey,this.arrayValue,s)}}function Jl(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Rc(l.arrayValue,n.arrayValue),0!==i?i:(i=Rc(l.directionalValue,n.directionalValue),0!==i?i:mn.comparator(l.documentKey,n.documentKey)))}function Rc(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class bl{constructor(n){this.Xt=new Nr((i,s)=>lr.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(rn(n.collectionGroup===this.collectionId),this.nn)return!1;const i=xt(n);if(void 0!==i&&!this.sn(i))return!1;const s=gt(n);let u=new Set,p=0,_=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const w=this.Xt.getIterator().getNext();if(!u.has(w.field.canonicalString())){const x=s[p];if(!this.on(w,x)||!this._n(this.en[_++],x))return!1}++p}for(;p<s.length;++p)if(_>=this.en.length||!this._n(this.en[_++],s[p]))return!1;return!0}an(){if(this.nn)return null;let n=new Nr(lr.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new ve(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new ve(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new ve(s.field,"asc"===s.dir?0:1)));return new oi(oi.UNKNOWN_ID,this.collectionId,i,ne.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Cd(l){var n,i;if(rn(l instanceof rr||l instanceof Yr),l instanceof rr){if(l instanceof qa){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(p=>rr.create(l.field,"==",p)))||[];return Yr.create(u,"or")}return l}const s=l.filters.map(u=>Cd(u));return Yr.create(s,l.op)}function vm(l){if(0===l.getFilters().length)return[];const n=Td(Cd(l));return rn(Wh(n)),Mc(n)||Gu(n)?[n]:n.getFilters()}function Mc(l){return l instanceof rr}function Gu(l){return l instanceof Yr&&er(l)}function Wh(l){return Mc(l)||Gu(l)||function(i){if(i instanceof Yr&&Cs(i)){for(const s of i.getFilters())if(!Mc(s)&&!Gu(s))return!1;return!0}return!1}(l)}function Td(l){if(rn(l instanceof rr||l instanceof Yr),l instanceof rr)return l;if(1===l.filters.length)return Td(l.filters[0]);const n=l.filters.map(s=>Td(s));let i=Yr.create(n,l.op);return i=Dd(i),Wh(i)?i:(rn(i instanceof Yr),rn(ra(i)),rn(i.filters.length>1),i.filters.reduce((s,u)=>Pc(s,u)))}function Pc(l,n){let i;return rn(l instanceof rr||l instanceof Yr),rn(n instanceof rr||n instanceof Yr),i=l instanceof rr?n instanceof rr?Yr.create([l,n],"and"):wl(l,n):n instanceof rr?wl(n,l):function(u,p){if(rn(u.filters.length>0&&p.filters.length>0),ra(u)&&ra(p))return Ts(u,p.getFilters());const _=Cs(u)?u:p,w=Cs(u)?p:u,x=_.filters.map(W=>Pc(W,w));return Yr.create(x,"or")}(l,n),Dd(i)}function wl(l,n){if(ra(n))return Ts(n,l.getFilters());{const i=n.filters.map(s=>Pc(l,s));return Yr.create(i,"or")}}function Dd(l){if(rn(l instanceof rr||l instanceof Yr),l instanceof rr)return l;const n=l.getFilters();if(1===n.length)return Dd(n[0]);if(ms(l))return l;const i=n.map(u=>Dd(u)),s=[];return i.forEach(u=>{u instanceof rr?s.push(u):u instanceof Yr&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Yr.create(s,l.op)}class _m{constructor(){this.un=new go}addToCollectionParentIndex(n,i){return this.un.add(i),It.resolve()}getCollectionParents(n,i){return It.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return It.resolve()}deleteFieldIndex(n,i){return It.resolve()}deleteAllFieldIndexes(n){return It.resolve()}createTargetIndexes(n,i){return It.resolve()}getDocumentsMatchingTarget(n,i){return It.resolve(null)}getIndexType(n,i){return It.resolve(0)}getFieldIndexes(n,i){return It.resolve([])}getNextCollectionGroupToUpdate(n){return It.resolve(null)}getMinOffset(n,i){return It.resolve(ot.min())}getMinOffsetFromCollectionGroup(n,i){return It.resolve(ot.min())}updateCollectionGroup(n,i,s){return It.resolve()}updateIndexEntries(n,i){return It.resolve()}}class go{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Nr(Jn.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Nr(Jn.comparator)).toArray()}}const Nc=new Uint8Array(0);class ym{constructor(n,i){this.databaseId=i,this.cn=new go,this.ln=new Go(s=>ue(s),(s,u)=>ln(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const p={collectionId:s,parent:Le(u)};return eu(n).put(p)}return It.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[tr(i),""],!1,!0);return eu(n).U(u).next(p=>{for(const _ of p){if(_.collectionId!==i)break;s.push(vn(_.parent))}return s})}addFieldIndex(n,i){const s=Cu(n),u={indexId:(w=i).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var w;delete u.indexId;const p=s.add(u);if(i.indexState){const _=Sl(n);return p.next(w=>{_.put(yp(w,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(n,i){const s=Cu(n),u=Sl(n),p=Wu(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=Cu(n),s=Wu(n),u=Sl(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return It.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const p=new bl(s).an();if(null!=p)return this.addFieldIndex(n,p)}}))}getDocumentsMatchingTarget(n,i){const s=Wu(n);let u=!0;const p=new Map;return It.forEach(this.hn(i),_=>this.Pn(n,_).next(w=>{u&&(u=!!w),p.set(_,w)})).next(()=>{if(u){let _=_r();const w=[];return It.forEach(p,(x,W)=>{var ar;Ct("IndexedDbIndexManager",`Using index ${ar=x,`id=${ar.indexId}|cg=${ar.collectionGroup}|f=${ar.fields.map(Sr=>`${Sr.fieldPath}:${Sr.kind}`).join(",")}`} to execute ${ue(i)}`);const fe=function(ar,Sr){const Ei=xt(Sr);if(void 0===Ei)return null;for(const Or of yi(ar,Ei.fieldPath))switch(Or.op){case"array-contains-any":return Or.value.arrayValue.values||[];case"array-contains":return[Or.value]}return null}(W,x),Pe=function(ar,Sr){const Ei=new Map;for(const Or of gt(Sr))for(const Tt of yi(ar,Or.fieldPath))switch(Tt.op){case"==":case"in":Ei.set(Or.fieldPath.canonicalString(),Tt.value);break;case"not-in":case"!=":return Ei.set(Or.fieldPath.canonicalString(),Tt.value),Array.from(Ei.values())}return null}(W,x),rt=function(ar,Sr){const Ei=[];let Or=!0;for(const Tt of gt(Sr)){const et=0===Tt.kind?zi(ar,Tt.fieldPath,ar.startAt):co(ar,Tt.fieldPath,ar.startAt);Ei.push(et.value),Or&&(Or=et.inclusive)}return new ei(Ei,Or)}(W,x),St=function(ar,Sr){const Ei=[];let Or=!0;for(const Tt of gt(Sr)){const et=0===Tt.kind?co(ar,Tt.fieldPath,ar.endAt):zi(ar,Tt.fieldPath,ar.endAt);Ei.push(et.value),Or&&(Or=et.inclusive)}return new ei(Ei,Or)}(W,x),un=this.In(x,W,rt),An=this.In(x,W,St),_n=this.Tn(x,W,Pe),nr=this.En(x.indexId,fe,un,rt.inclusive,An,St.inclusive,_n);return It.forEach(nr,gr=>s.G(gr,i.limit).next(ar=>{ar.forEach(Sr=>{const Ei=mn.fromSegments(Sr.documentKey);_.has(Ei)||(_=_.add(Ei),w.push(Ei))})}))}).next(()=>w)}return It.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:vm(Yr.create(n.filters,"and")).map(s=>$(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,p,_,w){const x=(null!=i?i.length:1)*Math.max(s.length,p.length),W=x/(null!=i?i.length:1),fe=[];for(let Pe=0;Pe<x;++Pe){const rt=i?this.dn(i[Pe/W]):Nc,St=this.An(n,rt,s[Pe%W],u),un=this.Rn(n,rt,p[Pe%W],_),An=w.map(_n=>this.An(n,rt,_n,!0));fe.push(...this.createRange(St,un,An))}return fe}An(n,i,s,u){const p=new Au(n,mn.empty(),i,s);return u?p:p.Zt()}Rn(n,i,s,u){const p=new Au(n,mn.empty(),i,s);return u?p.Zt():p}Pn(n,i){const s=new bl(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(p=>{let _=null;for(const w of p)s.rn(w)&&(!_||w.fields.length>_.fields.length)&&(_=w);return _})}getIndexType(n,i){let s=2;const u=this.hn(i);return It.forEach(u,p=>this.Pn(n,p).next(_=>{_?0!==s&&_.fields.length<function(x){let W=new Nr(lr.comparator),fe=!1;for(const Pe of x.filters)for(const rt of Pe.getFlattenedFilters())rt.field.isKeyField()||("array-contains"===rt.op||"array-contains-any"===rt.op?fe=!0:W=W.add(rt.field));for(const Pe of x.orderBy)Pe.field.isKeyField()||(W=W.add(Pe.field));return W.size+(fe?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new Fa;for(const u of gt(n)){const p=i.data.field(u.fieldPath);if(null==p)return null;const _=s.Yt(u.kind);el.vt.It(p,_)}return s.zt()}dn(n){const i=new Fa;return el.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new Fa;return el.vt.It(ao(this.databaseId,i),s.Yt(function(p){const _=gt(p);return 0===_.length?0:_[_.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new Fa);let p=0;for(const _ of gt(n)){const w=s[p++];for(const x of u)if(this.fn(i,_.fieldPath)&&Sn(w))u=this.gn(u,_,w);else{const W=x.Yt(_.kind);el.vt.It(w,W)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],p=[];for(const _ of s.arrayValue.values||[])for(const w of u){const x=new Fa;x.seed(w.zt()),el.vt.It(_,x.Yt(i.kind)),p.push(x)}return p}fn(n,i){return!!n.filters.find(s=>s instanceof rr&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=Cu(n),u=Sl(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const _=[];return It.forEach(p,w=>u.get([w.indexId,this.uid]).next(x=>{_.push(function(fe,Pe){const rt=Pe?new ne(Pe.sequenceNumber,new ot(aa(Pe.readTime),new mn(vn(Pe.documentKey)),Pe.largestBatchId)):ne.empty(),St=fe.fields.map(([un,An])=>new ve(lr.fromServerFormat(un),An));return new oi(fe.indexId,fe.collectionGroup,St,rt)}(w,x))})).next(()=>_)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:yn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=Cu(n),p=Sl(n);return this.yn(n).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(w=>It.forEach(w,x=>p.put(yp(x.indexId,this.uid,_,s)))))}updateIndexEntries(n,i){const s=new Map;return It.forEach(i,(u,p)=>{const _=s.get(u.collectionGroup);return(_?It.resolve(_):this.getFieldIndexes(n,u.collectionGroup)).next(w=>(s.set(u.collectionGroup,w),It.forEach(w,x=>this.wn(n,u,x).next(W=>{const fe=this.Sn(p,x);return W.isEqual(fe)?It.resolve():this.bn(n,p,x,W,fe)}))))})}Dn(n,i,s,u){return Wu(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return Wu(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=Wu(n);let p=new Nr(Jl);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,w)=>{p=p.add(new Au(s.indexId,i,w.arrayValue,w.directionalValue))}).next(()=>p)}Sn(n,i){let s=new Nr(Jl);const u=this.Vn(i,n);if(null==u)return s;const p=xt(i);if(null!=p){const _=n.data.field(p.fieldPath);if(Sn(_))for(const w of _.arrayValue.values||[])s=s.add(new Au(i.indexId,n.key,this.dn(w),u))}else s=s.add(new Au(i.indexId,n.key,Nc,u));return s}bn(n,i,s,u,p){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(x,W,fe,Pe,rt){const St=x.getIterator(),un=W.getIterator();let An=Ho(St),_n=Ho(un);for(;An||_n;){let nr=!1,gr=!1;if(An&&_n){const ar=fe(An,_n);ar<0?gr=!0:ar>0&&(nr=!0)}else null!=An?gr=!0:nr=!0;nr?(Pe(_n),_n=Ho(un)):gr?(rt(An),An=Ho(St)):(An=Ho(St),_n=Ho(un))}}(u,p,Jl,w=>{_.push(this.Dn(n,i,s,w))},w=>{_.push(this.vn(n,i,s,w))}),It.waitFor(_)}yn(n){let i=1;return Sl(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((_,w)=>Jl(_,w)).filter((_,w,x)=>!w||0!==Jl(_,x[w-1]));const u=[];u.push(n);for(const _ of s){const w=Jl(_,n),x=Jl(_,i);if(0===w)u[0]=n.Zt();else if(w>0&&x<0)u.push(_),u.push(_.Zt());else if(x>0)break}u.push(i);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Nc,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Nc,[]]))}return p}Cn(n,i){return Jl(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(bd)}getMinOffset(n,i){return It.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||Bt())).next(bd)}}function eu(l){return Xr(l,"collectionParents")}function Wu(l){return Xr(l,"indexEntries")}function Cu(l){return Xr(l,"indexConfiguration")}function Sl(l){return Xr(l,"indexState")}function bd(l){rn(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;Jt(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new ot(n.readTime,n.documentKey,i)}const Kh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Zo(n,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wd(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let w=0;const x=s.J({range:_},(fe,Pe,rt)=>(w++,rt.delete()));p.push(x.next(()=>{rn(1===w)}));const W=[];for(const fe of i.mutations){const Pe=pi(n,fe.key.path,i.batchId);p.push(u.delete(Pe)),W.push(fe.key)}return It.waitFor(p).next(()=>W)}function tu(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw Bt();n=l.noDocument}return JSON.stringify(n).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Ui{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){rn(""!==n.uid);const p=n.isAuthenticated()?n.uid:"";return new Ui(p,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ir(n).J({index:"userMutationsIndex",range:s},(u,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const p=Qi(n),_=ir(n);return _.add({}).next(w=>{rn("number"==typeof w);const x=new $e(w,i,s,u),W=function(St,un,An){const _n=An.baseMutations.map(gr=>O(St.ct,gr)),nr=An.mutations.map(gr=>O(St.ct,gr));return{userId:un,batchId:An.batchId,localWriteTimeMs:An.localWriteTime.toMillis(),baseMutations:_n,mutations:nr}}(this.serializer,this.userId,x),fe=[];let Pe=new Nr((rt,St)=>yn(rt.canonicalString(),St.canonicalString()));for(const rt of u){const St=pi(this.userId,rt.key.path,w);Pe=Pe.add(rt.key.path.popLast()),fe.push(_.put(W)),fe.push(p.put(St,Lr))}return Pe.forEach(rt=>{fe.push(this.indexManager.addToCollectionParentIndex(n,rt))}),n.addOnCommittedListener(()=>{this.Fn[w]=x.keys()}),It.waitFor(fe).next(()=>x)})}lookupMutationBatch(n,i){return ir(n).get(i).next(s=>s?(rn(s.userId===this.userId),Eu(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?It.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return ir(n).J({index:"userMutationsIndex",range:u},(_,w,x)=>{w.userId===this.userId&&(rn(w.batchId>=s),p=Eu(this.serializer,w)),x.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ir(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ir(n).U("userMutationsIndex",i).next(s=>s.map(u=>Eu(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=Bn(this.userId,i.path),u=IDBKeyRange.lowerBound(s),p=[];return Qi(n).J({range:u},(_,w,x)=>{const[W,fe,Pe]=_,rt=vn(fe);if(W===this.userId&&i.path.isEqual(rt))return ir(n).get(Pe).next(St=>{if(!St)throw Bt();rn(St.userId===this.userId),p.push(Eu(this.serializer,St))});x.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Nr(yn);const u=[];return i.forEach(p=>{const _=Bn(this.userId,p.path),w=IDBKeyRange.lowerBound(_),x=Qi(n).J({range:w},(W,fe,Pe)=>{const[rt,St,un]=W,An=vn(St);rt===this.userId&&p.path.isEqual(An)?s=s.add(un):Pe.done()});u.push(x)}),It.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,p=Bn(this.userId,s),_=IDBKeyRange.lowerBound(p);let w=new Nr(yn);return Qi(n).J({range:_},(x,W,fe)=>{const[Pe,rt,St]=x,un=vn(rt);Pe===this.userId&&s.isPrefixOf(un)?un.length===u&&(w=w.add(St)):fe.done()}).next(()=>this.xn(n,w))}xn(n,i){const s=[],u=[];return i.forEach(p=>{u.push(ir(n).get(p).next(_=>{if(null===_)throw Bt();rn(_.userId===this.userId),s.push(Eu(this.serializer,_))}))}),It.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return wd(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),It.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return It.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return Qi(n).J({range:s},(p,_,w)=>{if(p[0]===this.userId){const x=vn(p[1]);u.push(x)}else w.done()}).next(()=>{rn(0===u.length)})})}containsKey(n,i){return Tn(n,this.userId,i)}Nn(n){return Ks(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tn(l,n,i){const s=Bn(n,i.path),u=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return Qi(l).J({range:p,H:!0},(w,x,W)=>{const[fe,Pe,rt]=w;fe===n&&Pe===u&&(_=!0),W.done()}).next(()=>_)}function ir(l){return Xr(l,"mutations")}function Qi(l){return Xr(l,"documentMutations")}function Ks(l){return Xr(l,"mutationQueues")}class mo{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new mo(0)}static kn(){return new mo(-1)}}class Ps{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new mo(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Rn.fromTimestamp(new xn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>wa(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(rn(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const p=[];return wa(n).J((_,w)=>{const x=Dl(w);x.sequenceNumber<=i&&null===s.get(x.targetId)&&(u++,p.push(this.removeTargetData(n,x)))}).next(()=>It.waitFor(p)).next(()=>u)}forEachTarget(n,i){return wa(n).J((s,u)=>{const p=Dl(u);i(p)})}qn(n){return Oi(n).get("targetGlobalKey").next(i=>(rn(null!==i),i))}Qn(n,i){return Oi(n).put("targetGlobalKey",i)}Kn(n,i){return wa(n).put(Iu(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=ue(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return wa(n).J({range:u,index:"queryTargetsIndex"},(_,w,x)=>{const W=Dl(w);ln(i,W.target)&&(p=W,x.done())}).next(()=>p)}addMatchingKeys(n,i,s){const u=[],p=Gi(n);return i.forEach(_=>{const w=Le(_.path);u.push(p.put({targetId:s,path:w})),u.push(this.referenceDelegate.addReference(n,s,_))}),It.waitFor(u)}removeMatchingKeys(n,i,s){const u=Gi(n);return It.forEach(i,p=>{const _=Le(p.path);return It.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(n,s,p)])})}removeMatchingKeysForTargetId(n,i){const s=Gi(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=Gi(n);let p=_r();return u.J({range:s,H:!0},(_,w,x)=>{const W=vn(_[1]),fe=new mn(W);p=p.add(fe)}).next(()=>p)}containsKey(n,i){const s=Le(i.path),u=IDBKeyRange.bound([s],[tr(s)],!1,!0);let p=0;return Gi(n).J({index:"documentTargetsIndex",H:!0,range:u},([_,w],x,W)=>{0!==_&&(p++,W.done())}).next(()=>p>0)}ot(n,i){return wa(n).get(i).next(s=>s?Dl(s):null)}}function wa(l){return Xr(l,"targets")}function Oi(l){return Xr(l,"targetGlobal")}function Gi(l){return Xr(l,"targetDocuments")}function La([l,n],[i,s]){const u=yn(l,i);return 0===u?yn(n,s):u}class wr{constructor(n){this.Un=n,this.buffer=new Nr(La),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();La(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ku{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;Ct("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ee.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){hi(s)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Fr(s)}yield i.Hn(3e5)}))}}class Oc{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return It.resolve(_e.oe);const s=new wr(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(Kh)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kh):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,p,_,w,x,W;const fe=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),u=this.params.maximumSequenceNumbersToCollect):u=Pe,_=Date.now(),this.nthSequenceNumber(n,u))).next(Pe=>(s=Pe,w=Date.now(),this.removeTargets(n,s,i))).next(Pe=>(p=Pe,x=Date.now(),this.removeOrphanedDocuments(n,s))).next(Pe=>(W=Date.now(),Nt()<=nt.$b.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-fe}ms\n\tDetermined least recently used ${u} in `+(w-_)+`ms\n\tRemoved ${p} targets in `+(x-w)+`ms\n\tRemoved ${Pe} documents in `+(W-x)+`ms\nTotal Duration: ${W-fe}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Pe})))}}class ro{constructor(n,i){this.db=n,this.garbageCollector=function Tu(l,n){return new Oc(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return tl(n,s)}removeReference(n,i,s){return tl(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return tl(n,i)}nr(n,i){return function(u,p){let _=!1;return Ks(u).Y(w=>Tn(u,w,p).next(x=>(x&&(_=!0),It.resolve(!x)))).next(()=>_)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(n,(_,w)=>{if(w<=i){const x=this.nr(n,_).next(W=>{if(!W)return p++,s.getEntry(n,_).next(()=>(s.removeEntry(_,Rn.min()),Gi(n).delete([0,Le(_.path)])))});u.push(x)}}).next(()=>It.waitFor(u)).next(()=>s.apply(n)).next(()=>p)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return tl(n,i)}tr(n,i){const s=Gi(n);let u,p=_e.oe;return s.J({index:"documentTargetsIndex"},([_,w],{path:x,sequenceNumber:W})=>{0===_?(p!==_e.oe&&i(new mn(vn(u)),p),p=W,u=x):p=_e.oe}).next(()=>{p!==_e.oe&&i(new mn(vn(u)),p)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function tl(l,n){return Gi(l).put((u=l.currentSequenceNumber,{targetId:0,path:Le(n.path),sequenceNumber:u}));var u}class Du{constructor(){this.changes=new Go(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,ii.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?It.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class nl{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return la(n).put(s)}removeEntry(n,i,s){return la(n).delete(function(p,_){const w=p.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],ka(_),w[w.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=ii.newInvalidDocument(i);return la(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Es(i))},(u,p)=>{s=this.ir(i,p)}).next(()=>s)}sr(n,i){let s={size:0,document:ii.newInvalidDocument(i)};return la(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Es(i))},(u,p)=>{s={document:this.ir(i,p),size:tu(p)}}).next(()=>s)}getEntries(n,i){let s=Wo();return this._r(n,i,(u,p)=>{const _=this.ir(u,p);s=s.insert(u,_)}).next(()=>s)}ar(n,i){let s=Wo(),u=new Jr(mn.comparator);return this._r(n,i,(p,_)=>{const w=this.ir(p,_);s=s.insert(p,w),u=u.insert(p,tu(_))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return It.resolve();let u=new Nr(Sd);i.forEach(x=>u=u.add(x));const p=IDBKeyRange.bound(Es(u.first()),Es(u.last())),_=u.getIterator();let w=_.getNext();return la(n).J({index:"documentKeyIndex",range:p},(x,W,fe)=>{const Pe=mn.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;w&&Sd(w,Pe)<0;)s(w,null),w=_.getNext();w&&w.isEqual(Pe)&&(s(w,W),w=_.hasNext()?_.getNext():null),w?fe.$(Es(w)):fe.done()}).next(()=>{for(;w;)s(w,null),w=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,p){const _=i.path,w=[_.popLast().toArray(),_.lastSegment(),ka(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],x=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return la(n).U(IDBKeyRange.bound(w,x,!0)).next(W=>{null==p||p.incrementDocumentReadCount(W.length);let fe=Wo();for(const Pe of W){const rt=this.ir(mn.fromSegments(Pe.prefixPath.concat(Pe.collectionGroup,Pe.documentId)),Pe);rt.isFoundDocument()&&(bs(i,rt)||u.has(rt.key))&&(fe=fe.insert(rt.key,rt))}return fe})}getAllFromCollectionGroup(n,i,s,u){let p=Wo();const _=or(i,s),w=or(i,ot.max());return la(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,w,!0)},(x,W,fe)=>{const Pe=this.ir(mn.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);p=p.insert(Pe.key,Pe),p.size===u&&fe.done()}).next(()=>p)}newChangeBuffer(n){return new Ep(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Rl(n).get("remoteDocumentGlobalKey").next(i=>(rn(!!i),i))}rr(n,i){return Rl(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function Zl(l,n){let i;if(n.document)i=_d(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=mn.fromSegments(n.noDocument.path),u=aa(n.noDocument.readTime);i=ii.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Bt();{const s=mn.fromSegments(n.unknownDocument.path),u=aa(n.unknownDocument.version);i=ii.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const p=new xn(u[0],u[1]);return Rn.fromTimestamp(p)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(Rn.min()))return s}return ii.newInvalidDocument(n)}}function bu(l){return new nl(l)}class Ep extends Du{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Go(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new Nr((p,_)=>yn(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const w=this.lr.get(p);if(i.push(this.cr.removeEntry(n,p,w.readTime)),_.isValidDocument()){const x=yu(this.cr.serializer,_);u=u.add(p.path.popLast());const W=tu(x);s+=W-w.size,i.push(this.cr.addEntry(n,p,x))}else if(s-=w.size,this.trackRemovals){const x=yu(this.cr.serializer,_.convertToNoDocument(Rn.min()));i.push(this.cr.addEntry(n,p,x))}}),u.forEach(p=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,p))}),i.push(this.cr.updateMetadata(n,s)),It.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function Rl(l){return Xr(l,"remoteDocumentGlobal")}function la(l){return Xr(l,"remoteDocumentsV14")}function Es(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function or(l,n){const i=n.documentKey.path.toArray();return[l,ka(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Sd(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(u=yn(i[p],s[p]),u)return u;return u=yn(i.length,s.length),u||(u=yn(i[i.length-2],s[s.length-2]),u||yn(i[i.length-1],s[s.length-1]))}class xc{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Va{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Mr(s.mutation,u,Gr.empty(),xn.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,_r()).next(()=>s))}getLocalViewOfDocuments(n,i,s=_r()){const u=yo();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(p=>{let _=Wl();return p.forEach((w,x)=>{_=_.insert(w,x.overlayedDocument)}),_}))}getOverlayedDocuments(n,i){const s=yo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,_r()))}populateOverlays(n,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((_,w)=>{i.set(_,w)})})}computeViews(n,i,s,u){let p=Wo();const _=rs(),w=rs();return i.forEach((x,W)=>{const fe=s.get(W.key);u.has(W.key)&&(void 0===fe||fe.mutation instanceof bn)?p=p.insert(W.key,W):void 0!==fe?(_.set(W.key,fe.mutation.getFieldMask()),Mr(fe.mutation,W,fe.mutation.getFieldMask(),xn.now())):_.set(W.key,Gr.empty())}),this.recalculateAndSaveOverlays(n,p).next(x=>(x.forEach((W,fe)=>_.set(W,fe)),i.forEach((W,fe)=>{var Pe;return w.set(W,new xc(fe,null!==(Pe=_.get(W))&&void 0!==Pe?Pe:null))}),w))}recalculateAndSaveOverlays(n,i){const s=rs();let u=new Jr((_,w)=>_-w),p=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(_=>{for(const w of _)w.keys().forEach(x=>{const W=i.get(x);if(null===W)return;let fe=s.get(x)||Gr.empty();fe=w.applyToLocalView(W,fe),s.set(x,fe);const Pe=(u.get(w.batchId)||_r()).add(x);u=u.insert(w.batchId,Pe)})}).next(()=>{const _=[],w=u.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),W=x.key,fe=x.value,Pe=Ss();fe.forEach(rt=>{if(!p.has(rt)){const St=fr(i.get(rt),s.get(rt));null!==St&&Pe.set(rt,St),p=p.add(rt)}}),_.push(this.documentOverlayCache.saveOverlays(n,W,Pe))}return It.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return mn.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):_a(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var _}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-p.size):It.resolve(yo());let w=-1,x=p;return _.next(W=>It.forEach(W,(fe,Pe)=>(w<Pe.largestBatchId&&(w=Pe.largestBatchId),p.get(fe)?It.resolve():this.remoteDocumentCache.getEntry(n,fe).next(rt=>{x=x.insert(fe,rt)}))).next(()=>this.populateOverlays(n,W,p)).next(()=>this.computeViews(n,x,W,_r())).next(fe=>({batchId:w,changes:Ia(fe)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new mn(i)).next(s=>{let u=Wl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const p=i.collectionGroup;let _=Wl();return this.indexManager.getCollectionParents(n,p).next(w=>It.forEach(w,x=>{const W=(Pe=i,rt=x.child(p),new Er(rt,null,Pe.explicitOrderBy.slice(),Pe.filters.slice(),Pe.limit,Pe.limitType,Pe.startAt,Pe.endAt));var Pe,rt;return this.getDocumentsMatchingCollectionQuery(n,W,s,u).next(fe=>{fe.forEach((Pe,rt)=>{_=_.insert(Pe,rt)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(n,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,u))).next(_=>{p.forEach((x,W)=>{const fe=W.getKey();null===_.get(fe)&&(_=_.insert(fe,ii.newInvalidDocument(fe)))});let w=Wl();return _.forEach((x,W)=>{const fe=p.get(x);void 0!==fe&&Mr(fe.mutation,W,Gr.empty(),xn.now()),bs(i,W)&&(w=w.insert(x,W))}),w})}}class kc{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return It.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:no(u.createTime)}),It.resolve();var u}getNamedQuery(n,i){return It.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:ba(u.bundledQuery),readTime:no(u.readTime)}),It.resolve();var u}}class qu{constructor(){this.overlays=new Jr(mn.comparator),this.Ir=new Map}getOverlay(n,i){return It.resolve(this.overlays.get(i))}getOverlays(n,i){const s=yo();return It.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,p)=>{this.ht(n,i,p)}),It.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),It.resolve()}getOverlaysForCollection(n,i,s){const u=yo(),p=i.length+1,_=new mn(i.child("")),w=this.overlays.getIteratorFrom(_);for(;w.hasNext();){const x=w.getNext().value,W=x.getKey();if(!i.isPrefixOf(W.path))break;W.path.length===p&&x.largestBatchId>s&&u.set(x.getKey(),x)}return It.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let p=new Jr((W,fe)=>W-fe);const _=this.overlays.getIterator();for(;_.hasNext();){const W=_.getNext().value;if(W.getKey().getCollectionGroup()===i&&W.largestBatchId>s){let fe=p.get(W.largestBatchId);null===fe&&(fe=yo(),p=p.insert(W.largestBatchId,fe)),fe.set(W.getKey(),W)}}const w=yo(),x=p.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((W,fe)=>w.set(W,fe)),!(w.size()>=u)););return It.resolve(w)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new Wt(i,s));let p=this.Ir.get(i);void 0===p&&(p=_r(),this.Ir.set(i,p)),this.Ir.set(i,p.add(s.key))}}class No{constructor(){this.sessionToken=de.EMPTY_BYTE_STRING}getSessionToken(n){return It.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,It.resolve()}}class Xu{constructor(){this.Tr=new Nr(ci.Er),this.dr=new Nr(ci.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new ci(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new ci(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new mn(new Jn([])),s=new ci(i,n),u=new ci(i,n+1),p=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new mn(new Jn([])),s=new ci(i,n),u=new ci(i,n+1);let p=_r();return this.dr.forEachInRange([s,u],_=>{p=p.add(_.key)}),p}containsKey(n){const i=new ci(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class ci{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return mn.comparator(n.key,i.key)||yn(n.wr,i.wr)}static Ar(n,i){return yn(n.wr,i.wr)||mn.comparator(n.key,i.key)}}class Is{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Nr(ci.Er)}checkEmpty(n){return It.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const p=this.Sr;this.Sr++;const _=new $e(p,i,s,u);this.mutationQueue.push(_);for(const w of u)this.br=this.br.add(new ci(w.key,p)),this.indexManager.addToCollectionParentIndex(n,w.key.path.popLast());return It.resolve(_)}lookupMutationBatch(n,i){return It.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),p=u<0?0:u;return It.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new ci(i,0),u=new ci(i,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],_=>{const w=this.Dr(_.wr);p.push(w)}),It.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Nr(yn);return i.forEach(u=>{const p=new ci(u,0),_=new ci(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],w=>{s=s.add(w.wr)})}),It.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let p=s;mn.isDocumentKey(p)||(p=p.child(""));const _=new ci(new mn(p),0);let w=new Nr(yn);return this.br.forEachWhile(x=>{const W=x.key.path;return!!s.isPrefixOf(W)&&(W.length===u&&(w=w.add(x.wr)),!0)},_),It.resolve(this.Cr(w))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){rn(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return It.forEach(i.mutations,u=>{const p=new ci(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new ci(i,0),u=this.br.firstAfterOrEqual(s);return It.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return It.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Fc{constructor(n){this.Mr=n,this.docs=new Jr(mn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return It.resolve(s?s.document.mutableCopy():ii.newInvalidDocument(i))}getEntries(n,i){let s=Wo();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():ii.newInvalidDocument(u))}),It.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let p=Wo();const _=i.path,w=new mn(_.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:W,value:{document:fe}}=x.getNext();if(!_.isPrefixOf(W.path))break;W.path.length>_.length+1||Jt(Et(fe),s)<=0||(u.has(fe.key)||bs(i,fe))&&(p=p.insert(fe.key,fe.mutableCopy()))}return It.resolve(p)}getAllFromCollectionGroup(n,i,s,u){Bt()}Or(n,i){return It.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new Ml(this)}getSize(n){return It.resolve(this.size)}}class Ml extends Du{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),It.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Rd{constructor(n){this.persistence=n,this.Nr=new Go(i=>ue(i),ln),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xu,this.targetCount=0,this.kr=mo.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),It.resolve()}getLastRemoteSnapshotVersion(n){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return It.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),It.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new mo(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,It.resolve()}updateTargetData(n,i){return this.Kn(i),It.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,It.resolve()}removeTargets(n,i,s){let u=0;const p=[];return this.Nr.forEach((_,w)=>{w.sequenceNumber<=i&&null===s.get(w.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(n,w.targetId)),u++)}),It.waitFor(p).next(()=>u)}getTargetCount(n){return It.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return It.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),It.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(_=>{p.push(u.markPotentiallyOrphaned(n,_))}),It.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),It.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return It.resolve(s)}containsKey(n,i){return It.resolve(this.Br.containsKey(i))}}class Ns{constructor(n,i){this.qr={},this.overlays={},this.Qr=new _e(0),this.Kr=!1,this.Kr=!0,this.$r=new No,this.referenceDelegate=n(this),this.Ur=new Rd(this),this.indexManager=new _m,this.remoteDocumentCache=new Fc(s=>this.referenceDelegate.Wr(s)),this.serializer=new _u(i),this.Gr=new kc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new qu,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new Is(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){Ct("MemoryPersistence","Starting transaction:",n);const u=new Lc(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(n,i){return It.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class Lc extends Fn{constructor(n){super(),this.currentSequenceNumber=n}}class Qu{constructor(n){this.persistence=n,this.Jr=new Xu,this.Yr=null}static Zr(n){return new Qu(n)}get Xr(){if(this.Yr)return this.Yr;throw Bt()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),It.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),It.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),It.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.Xr,s=>{const u=mn.fromPath(s);return this.ei(n,u).next(p=>{p||i.removeEntry(u,Rn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return It.or([()=>It.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Uc{constructor(n){this.serializer=n}O(n,i,s,u){const p=new Kn("createOrUpgrade",i);var x;s<1&&u>=1&&(n.createObjectStore("owner"),(x=n).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sr,{unique:!0}),x.createObjectStore("documentMutations"),qh(n),function(x){x.createObjectStore("remoteDocuments")}(n));let _=It.resolve();return s<3&&u>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(n),qh(n)),_=_.next(()=>function(x){const W=x.store("targetGlobal"),fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",fe)}(p))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(x,W){return W.store("mutations").U().next(fe=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sr,{unique:!0});const Pe=W.store("mutations"),rt=fe.map(St=>Pe.put(St));return It.waitFor(rt)})}(n,p))),_=_.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(_=_.next(()=>this.ni(p))),s<6&&u>=6&&(_=_.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(n),this.ri(p)))),s<7&&u>=7&&(_=_.next(()=>this.ii(p))),s<8&&u>=8&&(_=_.next(()=>this.si(n,p))),s<9&&u>=9&&(_=_.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(_=_.next(()=>this.oi(p))),s<11&&u>=11&&(_=_.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(_=_.next(()=>{!function(x){const W=x.createObjectStore("documentOverlays",{keyPath:Xo});W.createIndex("collectionPathOverlayIndex",Qo,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",es,{unique:!1})}(n)})),s<13&&u>=13&&(_=_.next(()=>function(x){const W=x.createObjectStore("remoteDocumentsV14",{keyPath:ur});W.createIndex("documentKeyIndex",ni),W.createIndex("collectionGroupIndex",Li)}(n)).next(()=>this._i(n,p)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(n,p))),s<15&&u>=15&&(_=_.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Vi}).createIndex("sequenceNumberIndex",$o,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:_o}).createIndex("documentKeyIndex",ko,{unique:!1})}(n))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(x){x.createObjectStore("globals",{keyPath:"name"})}(n)})),_}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=tu(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>It.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(w=>It.forEach(w,x=>{rn(x.userId===p.userId);const W=Eu(this.serializer,x);return wd(n,p.userId,W).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((_,w)=>{const x=new Jn(_),W=[0,Le(x)];p.push(i.get(W).next(fe=>fe?It.resolve():i.put({targetId:0,path:Le(x),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>It.waitFor(p))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:ji});const s=i.store("collectionParents"),u=new go,p=_=>{if(u.add(_)){const w=_.lastSegment(),x=_.popLast();return s.put({collectionId:w,parent:Le(x)})}};return i.store("remoteDocuments").J({H:!0},(_,w)=>{const x=new Jn(_);return p(x.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,w,x],W)=>{const fe=vn(w);return p(fe.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const p=Dl(u),_=Iu(this.serializer,p);return i.put(_)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((p,_)=>{const w=i.store("remoteDocumentsV14"),x=(Pe=_,Pe.document?new mn(Jn.fromString(Pe.document.name).popFirst(5)):Pe.noDocument?mn.fromSegments(Pe.noDocument.path):Pe.unknownDocument?mn.fromSegments(Pe.unknownDocument.path):Bt()).path.toArray(),W={prefixPath:x.slice(0,x.length-2),collectionGroup:x[x.length-2],documentId:x[x.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Pe;u.push(w.put(W))}).next(()=>It.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=bu(this.serializer),p=new Ns(Qu.Zr,this.serializer.ct);return s.U().next(_=>{const w=new Map;return _.forEach(x=>{var W;let fe=null!==(W=w.get(x.userId))&&void 0!==W?W:_r();Eu(this.serializer,x).keys().forEach(Pe=>fe=fe.add(Pe)),w.set(x.userId,fe)}),It.forEach(w,(x,W)=>{const fe=new Qe(W),Pe=Ja.lt(this.serializer,fe),rt=p.getIndexManager(fe),St=Ui.lt(fe,this.serializer,rt,p.referenceDelegate);return new Va(u,St,Pe,rt).recalculateAndSaveOverlaysForDocumentKeys(new ts(i,_e.oe),x).next()})})}}function qh(l){l.createObjectStore("targetDocuments",{keyPath:ai}).createIndex("documentTargetsIndex",qi,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mi,{unique:!0}),l.createObjectStore("targetGlobal")}const Ip="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wu{constructor(n,i,s,u,p,_,w,x,W,fe,Pe=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=p,this.window=_,this.document=w,this.ci=W,this.li=fe,this.hi=Pe,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=rt=>Promise.resolve(),!wu.D())throw new Fe(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ro(this,u),this.Ai=i+"main",this.serializer=new _u(x),this.Ri=new vr(this.Ai,this.hi,new Uc(this.serializer)),this.$r=new Sc,this.Ur=new Ps(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bu(this.serializer),this.Gr=new zh,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===fe&&On("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(De.FAILED_PRECONDITION,Ip);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new _e(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,Ee.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,Ee.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,Ee.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Yu(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(hi(n))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return Bc(n).get("owner").next(i=>It.resolve(this.vi(i)))}Ci(n){return Yu(n).delete(this.clientId)}Fi(){var n=this;return(0,Ee.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Xr(s,"clientMetadata");return u.U().next(p=>{const _=n.xi(p,18e5),w=p.filter(x=>-1===_.indexOf(x));return It.forEach(w,x=>u.delete(x.clientId)).next(()=>w)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?It.resolve(!0):Bc(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Fe(De.FAILED_PRECONDITION,Ip);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yu(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Ct("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,Ee.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new ts(i,_e.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>Yu(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Ui.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new ym(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Ja.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){Ct("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",p=17===(x=this.hi)?Ri:16===x?ta:15===x?jo:14===x?To:13===x?Bs:12===x?Pi:11===x?Co:void Bt();var x;let _;return this.Ri.runTransaction(n,u,p,w=>(_=new ts(w,this.Qr?this.Qr.next():_e.oe),"readwrite-primary"===i?this.wi(_).next(x=>!!x||this.Si(_)).next(x=>{if(!x)throw On(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Fe(De.FAILED_PRECONDITION,kn);return s(_)}).next(x=>this.Di(_).next(()=>x)):this.Ki(_).next(()=>s(_)))).then(w=>(_.raiseOnCommittedEvent(),w))}Ki(n){return Bc(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(De.FAILED_PRECONDITION,Ip)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bc(n).put("owner",i)}static D(){return vr.D()}bi(n){const i=Bc(n);return i.get("owner").next(s=>this.vi(s)?(Ct("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):It.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(On(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Je.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return Ct("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return On("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){On("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Bc(l){return Xr(l,"owner")}function Yu(l){return Xr(l,"clientMetadata")}function Xh(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class Qh{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=_r(),u=_r();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Qh(n,i.fromCache,s,u)}}class C_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Em{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Je.nr)()?8:_i((0,Je.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const p={result:null};return this.Yi(n,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(n,i,u,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new C_;return this.Xi(n,i,_).next(w=>{if(p.result=w,this.zi)return this.es(n,i,_,w.size)})}).next(()=>p.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(Nt()<=nt.$b.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),It.resolve()):(Nt()<=nt.$b.DEBUG&&Ct("QueryEngine","Query:",ns(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Nt()<=nt.$b.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,fo(i))):It.resolve())}Yi(n,i){if(ia(i))return It.resolve(null);let s=fo(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=sa(i,null,"F"),s=fo(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const _=_r(...p);return this.Ji.getDocuments(n,_).next(w=>this.indexManager.getMinOffset(n,s).next(x=>{const W=this.ts(i,w);return this.ns(i,W,_,x.readTime)?this.Yi(n,sa(i,null,"F")):this.rs(n,W,i,x)}))})))}Zi(n,i,s,u){return ia(i)||u.isEqual(Rn.min())?It.resolve(null):this.Ji.getDocuments(n,s).next(p=>{const _=this.ts(i,p);return this.ns(i,_,s,u)?It.resolve(null):(Nt()<=nt.$b.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ns(i)),this.rs(n,_,i,Oe(u,-1)).next(w=>w))})}ts(n,i){let s=new Nr(Oa(n));return i.forEach((u,p)=>{bs(n,p)&&(s=s.add(p))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(n,i,s){return Nt()<=nt.$b.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",ns(i)),this.Ji.getDocumentsMatchingQuery(n,i,ot.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class T_{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new Jr(yn),this._s=new Go(p=>ue(p),ln),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Va(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Im(l,n,i,s){return new T_(l,n,i,s)}function Am(l,n){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,Ee.A)(function*(l,n){const i=lt(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],w=[];let x=_r();for(const W of u){_.push(W.batchId);for(const fe of W.mutations)x=x.add(fe.key)}for(const W of p){w.push(W.batchId);for(const fe of W.mutations)x=x.add(fe.key)}return i.localDocuments.getDocuments(s,x).next(W=>({hs:W,removedBatchIds:_,addedBatchIds:w}))})})})).apply(this,arguments)}function b_(l){const n=lt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function Pl(l,n,i){let s=_r(),u=_r();return i.forEach(p=>s=s.add(p)),n.getEntries(l,s).next(p=>{let _=Wo();return i.forEach((w,x)=>{const W=p.get(w);x.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(w)),x.isNoDocument()&&x.version.isEqual(Rn.min())?(n.removeEntry(w,x.readTime),_=_.insert(w,x)):!W.isValidDocument()||x.version.compareTo(W.version)>0||0===x.version.compareTo(W.version)&&W.hasPendingWrites?(n.addEntry(x),_=_.insert(w,x)):Ct("LocalStore","Ignoring outdated watch update for ",w,". Current version:",W.version," Watch version:",x.version)}),{Ps:_,Is:u}})}function w_(l,n){const i=lt(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function $c(l,n){const i=lt(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(p=>p?(u=p,It.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new wi(n,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function Su(l,n,i){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,Ee.A)(function*(l,n,i){const s=lt(l),u=s.os.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!hi(_))throw _;Ct("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function Zu(l,n,i){const s=lt(l);let u=Rn.min(),p=_r();return s.persistence.runTransaction("Execute query","readwrite",_=>function(x,W,fe){const Pe=lt(x),rt=Pe._s.get(fe);return void 0!==rt?It.resolve(Pe.os.get(rt)):Pe.Ur.getTargetData(W,fe)}(s,_,fo(n)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,w.targetId).next(x=>{p=x})}).next(()=>s.ss.getDocumentsMatchingQuery(_,n,i?u:Rn.min(),i?p:_r())).next(w=>(jc(s,yl(n),w),{documents:w,Ts:p})))}function Zh(l,n){const i=lt(l),s=lt(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,n).next(_=>_?_.target:null))}function Md(l,n){const i=lt(l),s=i.us.get(n)||Rn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,Oe(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(jc(i,n,u),u))}function jc(l,n,i){let s=l.us.get(n)||Rn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.us.set(n,s)}function Jh(){return(Jh=(0,Ee.A)(function*(l,n,i,s){const u=lt(l);let p=_r(),_=Wo();for(const W of i){const fe=n.Es(W.metadata.name);W.document&&(p=p.add(fe));const Pe=n.ds(W);Pe.setReadTime(n.As(W.metadata.readTime)),_=_.insert(fe,Pe)}const w=u.cs.newChangeBuffer({trackRemovals:!0}),x=yield $c(u,(fe=s,fo(Bo(Jn.fromString(`__bundle__/docs/${fe}`)))));var fe;return u.persistence.runTransaction("Apply bundle documents","readwrite",W=>Pl(W,w,_).next(fe=>(w.apply(W),fe)).next(fe=>u.Ur.removeMatchingKeysForTargetId(W,x.targetId).next(()=>u.Ur.addMatchingKeys(W,p,x.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(W,fe.Ps,fe.Is)).next(()=>fe.Ps)))})).apply(this,arguments)}function Pd(l,n){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,Ee.A)(function*(l,n,i=_r()){const s=yield $c(l,fo(ba(n.bundledQuery))),u=lt(l);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=no(n.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,n);const w=s.withResumeToken(de.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(w.targetId,w),u.Ur.updateTargetData(p,w).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,n))})})).apply(this,arguments)}function Tp(l,n){return`firestore_clients_${l}_${n}`}function Od(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function ef(l,n){return`firestore_targets_${l}_${n}`}class ua{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new Fe(u.error.code,u.error.message))),_?new ua(n,i,u.state,p):(On("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Ru{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new Fe(s.error.code,s.error.message))),p?new Ru(n,s.state,u):(On("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Mu{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=pr();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=re(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return u?new Mu(n,p):(On("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class mi{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new mi(i.clientId,i.onlineState):(On("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Hc{constructor(){this.activeTargetIds=pr()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Nl{constructor(n,i,s,u,p){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Jr(yn),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=Tp(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Hc),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ee.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const p=n.getItem(Tp(n.persistenceKey,u));if(p){const _=Mu.Rs(u,p);_&&(n.Ss=n.Ss.insert(_.clientId,_))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(ef(this.persistenceKey,n));if(s){const u=Ru.Rs(n,s);u&&(i=u.state)}}return this.Ks.fs(n),this.Ns(),i}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(ef(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return Ct("SharedClientState","READ",n,i),i}setItem(n,i){Ct("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){Ct("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(Ct("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void On("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Ee.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let w=_e.oe;if(null!=_)try{const x=JSON.parse(_);rn("number"==typeof x),w=x}catch(x){On("SharedClientState","Failed to read sequence number from WebStorage",x)}return w}(s.newValue);u!==_e.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(p=>i.syncEngine.eo(p)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new ua(this.currentUser,n,i,s),p=Od(this.persistenceKey,this.currentUser,n);this.setItem(p,u.Vs())}Qs(n){const i=Od(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=ef(this.persistenceKey,n),p=new Ru(n,i,s);this.setItem(u,p.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return Mu.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return ua.Rs(new Qe(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return Ru.Rs(u,i)}Ls(n){return mi.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,Ee.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),p=this.ks(s),_=[],w=[];return p.forEach(x=>{u.has(x)||_.push(x)}),u.forEach(x=>{p.has(x)||w.push(x)}),this.syncEngine.io(_,w).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=pr();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Jo{constructor(){this.so=new Hc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n){return this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Hc,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class Tm{_o(n){}shutdown(){}}class Ju{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ca=null;function Os(){return null===ca?ca=268435456+Math.round(2147483648*Math.random()):ca++,"0x"+ca.toString(16)}const Dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tf{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const ss="WebChannelConnection";class Sa extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(i,s,u,p,_){const w=Os(),x=this.xo(i,s.toUriEncodedString());Ct("RestConnection",`Sending RPC '${i}' ${w}:`,x,u);const W={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(W,p,_),this.No(i,x,W,u).then(fe=>(Ct("RestConnection",`Received RPC '${i}' ${w}: `,fe),fe),fe=>{throw Nn("RestConnection",`RPC '${i}' ${w} failed with error: `,fe,"url: ",x,"request:",u),fe})}Lo(i,s,u,p,_,w){return this.Mo(i,s,u,p,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+zt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>i[_]=p),u&&u.headers.forEach((p,_)=>i[_]=p)}xo(i,s){return`${this.Do}/v1/${s}:${Dm[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const p=Os();return new Promise((_,w)=>{const x=new qt;x.setWithCredentials(!0),x.listenOnce(be.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Z.NO_ERROR:const fe=x.getResponseJson();Ct(ss,`XHR for RPC '${n}' ${p} received:`,JSON.stringify(fe)),_(fe);break;case Z.TIMEOUT:Ct(ss,`RPC '${n}' ${p} timed out`),w(new Fe(De.DEADLINE_EXCEEDED,"Request time out"));break;case Z.HTTP_ERROR:const Pe=x.getStatus();if(Ct(ss,`RPC '${n}' ${p} failed with status:`,Pe,"response text:",x.getResponseText()),Pe>0){let rt=x.getResponseJson();Array.isArray(rt)&&(rt=rt[0]);const St=null==rt?void 0:rt.error;if(St&&St.status&&St.message){const un=function(_n){const nr=_n.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(nr)>=0?nr:De.UNKNOWN}(St.status);w(new Fe(un,St.message))}else w(new Fe(De.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new Fe(De.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{Ct(ss,`RPC '${n}' ${p} completed.`)}});const W=JSON.stringify(u);Ct(ss,`RPC '${n}' ${p} sending request:`,u),x.send(i,"POST",W,s,15)})}Bo(n,i,s){const u=Os(),p=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],_=ut(),w=Te(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(x.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(x.xmlHttpFactory=new sn({})),this.Oo(x.initMessageHeaders,i,s),x.encodeInitMessageHeaders=!0;const fe=p.join("");Ct(ss,`Creating RPC '${n}' stream ${u}: ${fe}`,x);const Pe=_.createWebChannel(fe,x);let rt=!1,St=!1;const un=new tf({Io:_n=>{St?Ct(ss,`Not sending because RPC '${n}' stream ${u} is closed:`,_n):(rt||(Ct(ss,`Opening RPC '${n}' stream ${u} transport.`),Pe.open(),rt=!0),Ct(ss,`RPC '${n}' stream ${u} sending:`,_n),Pe.send(_n))},To:()=>Pe.close()}),An=(_n,nr,gr)=>{_n.listen(nr,ar=>{try{gr(ar)}catch(Sr){setTimeout(()=>{throw Sr},0)}})};return An(Pe,dt.EventType.OPEN,()=>{St||(Ct(ss,`RPC '${n}' stream ${u} transport opened.`),un.yo())}),An(Pe,dt.EventType.CLOSE,()=>{St||(St=!0,Ct(ss,`RPC '${n}' stream ${u} transport closed`),un.So())}),An(Pe,dt.EventType.ERROR,_n=>{St||(St=!0,Nn(ss,`RPC '${n}' stream ${u} transport errored:`,_n),un.So(new Fe(De.UNAVAILABLE,"The operation could not be completed")))}),An(Pe,dt.EventType.MESSAGE,_n=>{var nr;if(!St){const gr=_n.data[0];rn(!!gr);const Sr=gr.error||(null===(nr=gr[0])||void 0===nr?void 0:nr.error);if(Sr){Ct(ss,`RPC '${n}' stream ${u} received error:`,Sr);const Ei=Sr.status;let Or=function(At){const bt=zn[At];if(void 0!==bt)return jn(bt)}(Ei),Tt=Sr.message;void 0===Or&&(Or=De.INTERNAL,Tt="Unknown error status: "+Ei+" with message "+Sr.message),St=!0,un.So(new Fe(Or,Tt)),Pe.close()}else Ct(ss,`RPC '${n}' stream ${u} received:`,gr),un.bo(gr)}}),An(w,ae.STAT_EVENT,_n=>{_n.stat===ee.PROXY?Ct(ss,`RPC '${n}' stream ${u} detected buffering proxy`):_n.stat===ee.NOPROXY&&Ct(ss,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{un.wo()},0),un}}function nf(){return typeof window<"u"?window:null}function zc(){return typeof document<"u"?document:null}function ec(l){return new Dc(l,!0)}class rl{constructor(n,i,s=1e3,u=1.5,p=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&Ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class xd{constructor(n,i,s,u,p,_,w,x){this.ui=n,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rl(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,Ee.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,Ee.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,Ee.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===De.RESOURCE_EXHAUSTED?(On(i.toString()),On("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===De.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new Fe(De.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,Ee.A)(function*(){n.state=0,n.start()}))}I_(n){return Ct("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gc extends xd{constructor(n,i,s,u,p,_){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function S(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(W=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Bt(),u=n.targetChange.targetIds||[],p=function(W,fe){return W.useProto3Json?(rn(void 0===fe||"string"==typeof fe),de.fromBase64String(fe||"")):(rn(void 0===fe||fe instanceof Buffer||fe instanceof Uint8Array),de.fromUint8Array(fe||new Uint8Array))}(l,n.targetChange.resumeToken),_=n.targetChange.cause,w=_&&function(W){const fe=void 0===W.code?De.UNKNOWN:jn(W.code);return new Fe(fe,W.message||"")}(_);i=new Po(s,u,p,w||null)}else if("documentChange"in n){const s=n.documentChange,u=Gs(l,s.document.name),p=no(s.document.updateTime),_=s.document.createTime?no(s.document.createTime):Rn.min(),w=new Ni({mapValue:{fields:s.document.fields}}),x=ii.newFoundDocument(u,p,_,w);i=new Ta(s.targetIds||[],s.removedTargetIds||[],x.key,x)}else if("documentDelete"in n){const s=n.documentDelete,u=Gs(l,s.document),p=s.readTime?no(s.readTime):Rn.min(),_=ii.newNoDocument(u,p);i=new Ta([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const s=n.documentRemove,u=Gs(l,s.document);i=new Ta([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Bt();{const s=n.filter,{count:u=0,unchangedNames:p}=s,_=new Yn(u,p);i=new Cl(s.targetId,_)}}var W;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return Rn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?Rn.min():_.readTime?no(_.readTime):Rn.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=vd(this.serializer),i.addTarget=function(p,_){let w;const x=_.target;if(w=Zn(x)?{documents:he(p,x)}:{query:ge(p,x)._t},w.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){w.resumeToken=ql(p,_.resumeToken);const W=_s(p,_.expectedCount);null!==W&&(w.expectedCount=W)}else if(_.snapshotVersion.compareTo(Rn.min())>0){w.readTime=ys(p,_.snapshotVersion.toTimestamp());const W=_s(p,_.expectedCount);null!==W&&(w.expectedCount=W)}return w}(this.serializer,n);const s=function Mt(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=vd(this.serializer),i.removeTarget=n,this.a_(i)}}class kd extends xd{constructor(n,i,s,u,p,_){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return rn(!!n.streamToken),this.lastStreamToken=n.streamToken,rn(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){rn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function L(l,n){return l&&l.length>0?(rn(void 0!==n),l.map(i=>function(u,p){let _=no(u.updateTime?u.updateTime:p);return _.isEqual(Rn.min())&&(_=no(p)),new pe(_,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=no(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=vd(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>O(this.serializer,s))};this.a_(i)}}class rf extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Fe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(n,Ya(i,s),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Fe(De.UNKNOWN,p.toString())})}Lo(n,i,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,w])=>this.connection.Lo(n,Ya(i,s),u,_,w,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Fe(De.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ol{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(On(i),this.D_=!1):Ct("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Pr{constructor(n,i,s,u,p){var _=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(w=>{s.enqueueAndForget((0,Ee.A)(function*(){var x;ru(_)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,Ee.A)(function*(fe){const Pe=lt(fe);Pe.L_.add(4),yield kl(Pe),Pe.q_.set("Unknown"),Pe.L_.delete(4),yield xl(Pe)}),function W(fe){return x.apply(this,arguments)})(_))}))}),this.q_=new Ol(s,u)}}function xl(l){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,Ee.A)(function*(l){if(ru(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function kl(l){return sf.apply(this,arguments)}function sf(){return(sf=(0,Ee.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function Fd(l,n){const i=lt(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),Ld(i)?da(i):se(i).r_()&&af(i,n))}function nu(l,n){const i=lt(l),s=se(i);i.N_.delete(n),s.r_()&&xs(i,n),0===i.N_.size&&(s.r_()?s.o_():ru(i)&&i.q_.set("Unknown"))}function af(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Rn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}se(l).A_(n)}function xs(l,n){l.Q_.xe(n),se(l).R_(n)}function da(l){l.Q_=new zs({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),se(l).start(),l.q_.v_()}function Ld(l){return ru(l)&&!se(l).n_()&&l.N_.size>0}function ru(l){return 0===lt(l).L_.size}function Vd(l){l.Q_=void 0}function lf(l){return uf.apply(this,arguments)}function uf(){return(uf=(0,Ee.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function tn(l){return qr.apply(this,arguments)}function qr(){return(qr=(0,Ee.A)(function*(l){l.N_.forEach((n,i)=>{af(l,n)})})).apply(this,arguments)}function Fl(l,n){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,Ee.A)(function*(l,n){Vd(l),Ld(l)?(l.q_.M_(n),da(l)):l.q_.set("Unknown")})).apply(this,arguments)}function xi(l,n,i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,Ee.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof Po&&2===n.state&&n.cause)try{yield(s=(0,Ee.A)(function*(p,_){const w=_.cause;for(const x of _.targetIds)p.N_.has(x)&&(yield p.remoteSyncer.rejectListen(x,w),p.N_.delete(x),p.Q_.removeTarget(x))}),function u(p,_){return s.apply(this,arguments)})(l,n)}catch(s){Ct("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield iu(l,s)}else if(n instanceof Ta?l.Q_.Ke(n):n instanceof Cl?l.Q_.He(n):l.Q_.We(n),!i.isEqual(Rn.min()))try{const s=yield b_(l.localStore);i.compareTo(s)>=0&&(yield function(p,_){const w=p.Q_.rt(_);return w.targetChanges.forEach((x,W)=>{if(x.resumeToken.approximateByteSize()>0){const fe=p.N_.get(W);fe&&p.N_.set(W,fe.withResumeToken(x.resumeToken,_))}}),w.targetMismatches.forEach((x,W)=>{const fe=p.N_.get(x);if(!fe)return;p.N_.set(x,fe.withResumeToken(de.EMPTY_BYTE_STRING,fe.snapshotVersion)),xs(p,x);const Pe=new wi(fe.target,x,W,fe.sequenceNumber);af(p,Pe)}),p.remoteSyncer.applyRemoteEvent(w)}(l,i))}catch(s){Ct("RemoteStore","Failed to raise snapshot:",s),yield iu(l,s)}var s}),Ud.apply(this,arguments)}function iu(l,n,i){return qs.apply(this,arguments)}function qs(){return(qs=(0,Ee.A)(function*(l,n,i){if(!hi(n))throw n;l.L_.add(1),yield kl(l),l.q_.set("Offline"),i||(i=()=>b_(l.localStore)),l.asyncQueue.enqueueRetryable((0,Ee.A)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield xl(l)}))})).apply(this,arguments)}function as(l,n){return n().catch(i=>iu(l,i,n))}function il(l){return tc.apply(this,arguments)}function tc(){return(tc=(0,Ee.A)(function*(l){const n=lt(l),i=Ze(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;S_(n);)try{const u=yield w_(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,ou(n,u)}catch(u){yield iu(n,u)}Nu(n)&&Bd(n)})).apply(this,arguments)}function S_(l){return ru(l)&&l.O_.length<10}function ou(l,n){l.O_.push(n);const i=Ze(l);i.r_()&&i.V_&&i.m_(n.mutations)}function Nu(l){return ru(l)&&!Ze(l).n_()&&l.O_.length>0}function Bd(l){Ze(l).start()}function cf(l){return ls.apply(this,arguments)}function ls(){return(ls=(0,Ee.A)(function*(l){Ze(l).p_()})).apply(this,arguments)}function Ua(l){return $d.apply(this,arguments)}function $d(){return($d=(0,Ee.A)(function*(l){const n=Ze(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function Ba(l,n,i){return $a.apply(this,arguments)}function $a(){return($a=(0,Ee.A)(function*(l,n,i){const s=l.O_.shift(),u=Lt.from(s,n,i);yield as(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield il(l)})).apply(this,arguments)}function bm(l,n){return y.apply(this,arguments)}function y(){return y=(0,Ee.A)(function*(l,n){var i;n&&Ze(l).V_&&(yield(i=(0,Ee.A)(function*(u,p){if(Dr(w=p.code)&&w!==De.ABORTED){const _=u.O_.shift();Ze(u).s_(),yield as(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield il(u)}var w}),function s(u,p){return i.apply(this,arguments)})(l,n)),Nu(l)&&Bd(l)}),y.apply(this,arguments)}function h(l,n){return g.apply(this,arguments)}function g(){return(g=(0,Ee.A)(function*(l,n){const i=lt(l);i.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const s=ru(i);i.L_.add(3),yield kl(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield xl(i)})).apply(this,arguments)}function A(l,n){return H.apply(this,arguments)}function H(){return(H=(0,Ee.A)(function*(l,n){const i=lt(l);n?(i.L_.delete(2),yield xl(i)):n||(i.L_.add(2),yield kl(i),i.q_.set("Unknown"))})).apply(this,arguments)}function se(l){return l.K_||(l.K_=function(i,s,u){const p=lt(i);return p.w_(),new Gc(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:lf.bind(null,l),Ro:tn.bind(null,l),mo:Fl.bind(null,l),d_:xi.bind(null,l)}),l.B_.push(function(){var n=(0,Ee.A)(function*(i){i?(l.K_.s_(),Ld(l)?da(l):l.q_.set("Unknown")):(yield l.K_.stop(),Vd(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function Ze(l){return l.U_||(l.U_=function(i,s,u){const p=lt(i);return p.w_(),new kd(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cf.bind(null,l),mo:bm.bind(null,l),f_:Ua.bind(null,l),g_:Ba.bind(null,l)}),l.B_.push(function(){var n=(0,Ee.A)(function*(i){i?(l.U_.s_(),yield il(l)):(yield l.U_.stop(),l.O_.length>0&&(Ct("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class wt{constructor(n,i,s,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,p){const _=Date.now()+s,w=new wt(n,i,_,u,p);return w.start(s),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(De.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nn(l,n){if(On("AsyncQueue",`${n}: ${l}`),hi(l))return new Fe(De.UNAVAILABLE,`${n}: ${l}`);throw l}class Mn{constructor(n){this.comparator=n?(i,s)=>n(i,s)||mn.comparator(i.key,s.key):(i,s)=>mn.comparator(i.key,s.key),this.keyedMap=Wl(),this.sortedSet=new Jr(this.comparator)}static emptySet(n){return new Mn(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Mn)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Mn;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class qn{constructor(){this.W_=new Jr(mn.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Bt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class Hn{constructor(n,i,s,u,p,_,w,x,W){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=W}static fromInitialDocuments(n,i,s,u,p){const _=[];return i.forEach(w=>{_.push({type:0,doc:w})}),new Hn(n,i,Mn.emptySet(i),_,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ea(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class io{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class Ra{constructor(){this.queries=Ou(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=lt(i),p=u.queries;u.queries=Ou(),p.forEach((_,w)=>{for(const x of w.j_)x.onError(s)})}(this,new Fe(De.ABORTED,"Firestore shutting down"))}}function Ou(){return new Go(l=>dr(l),Ea)}function jd(l,n){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,Ee.A)(function*(l,n){const i=lt(l);let s=3;const u=n.query;let p=i.queries.get(u);p?!p.H_()&&n.J_()&&(s=2):(p=new io,s=n.J_()?0:1);try{switch(s){case 0:p.z_=yield i.onListen(u,!0);break;case 1:p.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const w=nn(_,`Initialization of query '${ns(n.query)}' failed`);return void n.onError(w)}i.queries.set(u,p),p.j_.push(n),n.Z_(i.onlineState),p.z_&&n.X_(p.z_)&&Hd(i)})).apply(this,arguments)}function ol(l,n){return ki.apply(this,arguments)}function ki(){return(ki=(0,Ee.A)(function*(l,n){const i=lt(l),s=n.query;let u=3;const p=i.queries.get(s);if(p){const _=p.j_.indexOf(n);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=n.J_()?0:1:!p.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function df(l,n){const i=lt(l);let s=!1;for(const u of n){const _=i.queries.get(u.query);if(_){for(const w of _.j_)w.X_(u)&&(s=!0);_.z_=u}}s&&Hd(i)}function Dp(l,n,i){const s=lt(l),u=s.queries.get(n);if(u)for(const p of u.j_)p.onError(i);s.queries.delete(n)}function Hd(l){l.Y_.forEach(n=>{n.next()})}var Kc,zd;(zd=Kc||(Kc={})).ea="default",zd.Cache="cache";class Gd{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new Hn(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=Hn.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==Kc.Cache}}class xu{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class ja{constructor(n){this.serializer=n}Es(n){return Gs(this.serializer,n)}ds(n){return n.metadata.exists?_d(this.serializer,n.document,!1):ii.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return no(n)}}class W0{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hf(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=Jn.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new ja(this.serializer);for(const u of n)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const w=(i.get(_)||_r()).add(p);i.set(_,w)}}return i}complete(){var n=this;return(0,Ee.A)(function*(){const i=yield function Cm(l,n,i,s){return Jh.apply(this,arguments)}(n.localStore,new ja(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield Pd(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function hf(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class ff{constructor(n){this.key=n}}class pf{constructor(n){this.key=n}}class bp{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_r(),this.mutatedKeys=_r(),this.Aa=Oa(n),this.Ra=new Mn(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new qn,u=i?i.Ra:this.Ra;let p=i?i.mutatedKeys:this.mutatedKeys,_=u,w=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((fe,Pe)=>{const rt=u.get(fe),St=bs(this.query,Pe)?Pe:null,un=!!rt&&this.mutatedKeys.has(rt.key),An=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let _n=!1;rt&&St?rt.data.isEqual(St.data)?un!==An&&(s.track({type:3,doc:St}),_n=!0):this.ga(rt,St)||(s.track({type:2,doc:St}),_n=!0,(x&&this.Aa(St,x)>0||W&&this.Aa(St,W)<0)&&(w=!0)):!rt&&St?(s.track({type:0,doc:St}),_n=!0):rt&&!St&&(s.track({type:1,doc:rt}),_n=!0,(x||W)&&(w=!0)),_n&&(St?(_=_.add(St),p=An?p.add(fe):p.delete(fe)):(_=_.delete(fe),p=p.delete(fe)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const fe="F"===this.query.limitType?_.last():_.first();_=_.delete(fe.key),p=p.delete(fe.key),s.track({type:1,doc:fe})}return{Ra:_,fa:s,ns:w,mutatedKeys:p}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const p=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const _=n.fa.G_();_.sort((fe,Pe)=>function(St,un){const An=_n=>{switch(_n){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return An(St)-An(un)}(fe.type,Pe.type)||this.Aa(fe.doc,Pe.doc)),this.pa(s),u=null!=u&&u;const w=i&&!u?this.ya():[],x=0===this.da.size&&this.current&&!u?1:0,W=x!==this.Ea;return this.Ea=x,0!==_.length||W?{snapshot:new Hn(this.query,n.Ra,p,_,n.mutatedKeys,0===x,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:w}:{wa:w}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qn,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=_r(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new pf(s))}),this.da.forEach(s=>{n.has(s)||i.push(new ff(s))}),i}ba(n){this.Ta=n.Ts,this.da=_r();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return Hn.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class R_{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class M_{constructor(n){this.key=n,this.va=!1}}class K0{constructor(n,i,s,u,p,_){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new Go(w=>dr(w),Ea),this.Ma=new Map,this.xa=new Set,this.Oa=new Jr(mn.comparator),this.Na=new Map,this.La=new Xu,this.Ba={},this.ka=new Map,this.qa=mo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Wd(l,n){return qc.apply(this,arguments)}function qc(){return(qc=(0,Ee.A)(function*(l,n,i=!0){const s=Ef(l);let u;const p=s.Fa.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield wm(s,n,i,!0),u})).apply(this,arguments)}function q0(l,n){return gf.apply(this,arguments)}function gf(){return(gf=(0,Ee.A)(function*(l,n){const i=Ef(l);yield wm(i,n,!0,!1)})).apply(this,arguments)}function wm(l,n,i,s){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,Ee.A)(function*(l,n,i,s){const u=yield $c(l.localStore,fo(n)),p=u.targetId,_=i?l.sharedClientState.addLocalQueryTarget(p):"not-current";let w;return s&&(w=yield Rm(l,n,p,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&Fd(l.remoteStore,u),w})).apply(this,arguments)}function Rm(l,n,i,s,u){return P_.apply(this,arguments)}function P_(){return P_=(0,Ee.A)(function*(l,n,i,s,u){l.Ka=(Pe,rt,St)=>{return(un=(0,Ee.A)(function*(_n,nr,gr,ar){let Sr=nr.view.ma(gr);Sr.ns&&(Sr=yield Zu(_n.localStore,nr.query,!1).then(({documents:et})=>nr.view.ma(et,Sr)));const Ei=ar&&ar.targetChanges.get(nr.targetId),Or=ar&&null!=ar.targetMismatches.get(nr.targetId),Tt=nr.view.applyChanges(Sr,_n.isPrimaryClient,Ei,Or);return Nm(_n,nr.targetId,Tt.wa),Tt.snapshot}),function An(_n,nr,gr,ar){return un.apply(this,arguments)})(l,Pe,rt,St);var un};const p=yield Zu(l.localStore,n,!0),_=new bp(n,p.Ts),w=_.ma(p.documents),x=Mo.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),W=_.applyChanges(w,l.isPrimaryClient,x);Nm(l,i,W.wa);const fe=new R_(n,i,_);return l.Fa.set(n,fe),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),W.snapshot}),P_.apply(this,arguments)}function NA(l,n,i){return mf.apply(this,arguments)}function mf(){return(mf=(0,Ee.A)(function*(l,n,i){const s=lt(l),u=s.Fa.get(n),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(_=>!Ea(_,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Su(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&nu(s.remoteStore,u.targetId),ku(s,u.targetId)}).catch(Fr))):(ku(s,u.targetId),yield Su(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Xc(l,n){return vf.apply(this,arguments)}function vf(){return(vf=(0,Ee.A)(function*(l,n){const i=lt(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),nu(i.remoteStore,s.targetId))})).apply(this,arguments)}function Mm(){return(Mm=(0,Ee.A)(function*(l,n,i){const s=Fm(l);try{const u=yield function(_,w){const x=lt(_),W=xn.now(),fe=w.reduce((St,un)=>St.add(un.key),_r());let Pe,rt;return x.persistence.runTransaction("Locally write mutations","readwrite",St=>{let un=Wo(),An=_r();return x.cs.getEntries(St,fe).next(_n=>{un=_n,un.forEach((nr,gr)=>{gr.isValidDocument()||(An=An.add(nr))})}).next(()=>x.localDocuments.getOverlayedDocuments(St,un)).next(_n=>{Pe=_n;const nr=[];for(const gr of w){const ar=yr(gr,Pe.get(gr.key).overlayedDocument);null!=ar&&nr.push(new bn(gr.key,ar,zo(ar.value.mapValue),ke.exists(!0)))}return x.mutationQueue.addMutationBatch(St,W,nr,w)}).next(_n=>{rt=_n;const nr=_n.applyToLocalDocumentSet(Pe,An);return x.documentOverlayCache.saveOverlays(St,_n.batchId,nr)})}).then(()=>({batchId:rt.batchId,changes:Ia(Pe)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(_,w,x){let W=_.Ba[_.currentUser.toKey()];W||(W=new Jr(yn)),W=W.insert(w,x),_.Ba[_.currentUser.toKey()]=W}(s,u.batchId,i),yield su(s,u.changes),yield il(s.remoteStore)}catch(u){const p=nn(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Kd(l,n){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,Ee.A)(function*(l,n){const i=lt(l);try{const s=yield function Ap(l,n){const i=lt(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const w=[];n.targetChanges.forEach((fe,Pe)=>{const rt=u.get(Pe);if(!rt)return;w.push(i.Ur.removeMatchingKeys(p,fe.removedDocuments,Pe).next(()=>i.Ur.addMatchingKeys(p,fe.addedDocuments,Pe)));let St=rt.withSequenceNumber(p.currentSequenceNumber);var An,_n,nr;null!==n.targetMismatches.get(Pe)?St=St.withResumeToken(de.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):fe.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(fe.resumeToken,s)),u=u.insert(Pe,St),_n=St,nr=fe,(0===(An=rt).resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-An.snapshotVersion.toMicroseconds()>=3e8||nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size>0)&&w.push(i.Ur.updateTargetData(p,St))});let x=Wo(),W=_r();if(n.documentUpdates.forEach(fe=>{n.resolvedLimboDocuments.has(fe)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(p,fe))}),w.push(Pl(p,_,n.documentUpdates).next(fe=>{x=fe.Ps,W=fe.Is})),!s.isEqual(Rn.min())){const fe=i.Ur.getLastRemoteSnapshotVersion(p).next(Pe=>i.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));w.push(fe)}return It.waitFor(w).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,x,W)).next(()=>x)}).then(p=>(i.os=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const _=i.Na.get(p);_&&(rn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?rn(_.va):u.removedDocuments.size>0&&(rn(_.va),_.va=!1))}),yield su(i,s,n)}catch(s){yield Fr(s)}})).apply(this,arguments)}function wp(l,n,i){const s=lt(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((p,_)=>{const w=_.view.Z_(n);w.snapshot&&u.push(w.snapshot)}),function(_,w){const x=lt(_);x.onlineState=w;let W=!1;x.queries.forEach((fe,Pe)=>{for(const rt of Pe.j_)rt.Z_(w)&&(W=!0)}),W&&Hd(x)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function Sp(l,n,i){return N_.apply(this,arguments)}function N_(){return(N_=(0,Ee.A)(function*(l,n,i){const s=lt(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),p=u&&u.key;if(p){let _=new Jr(mn.comparator);_=_.insert(p,ii.newNoDocument(p,Rn.min()));const w=_r().add(p),x=new gu(Rn.min(),new Map,new Jr(yn),_,w);yield Kd(s,x),s.Oa=s.Oa.remove(p),s.Na.delete(n),Np(s)}else yield Su(s.localStore,n,!1).then(()=>ku(s,n,i)).catch(Fr)})).apply(this,arguments)}function O_(l,n){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,Ee.A)(function*(l,n){const i=lt(l),s=n.batch.batchId;try{const u=yield function D_(l,n){const i=lt(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),p=i.cs.newChangeBuffer({trackRemovals:!0});return function(w,x,W,fe){const Pe=W.batch,rt=Pe.keys();let St=It.resolve();return rt.forEach(un=>{St=St.next(()=>fe.getEntry(x,un)).next(An=>{const _n=W.docVersions.get(un);rn(null!==_n),An.version.compareTo(_n)<0&&(Pe.applyToRemoteDocument(An,W),An.isValidDocument()&&(An.setReadTime(W.commitVersion),fe.addEntry(An)))})}),St.next(()=>w.mutationQueue.removeMutationBatch(x,Pe))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let x=_r();for(let W=0;W<w.mutationResults.length;++W)w.mutationResults[W].transformResults.length>0&&(x=x.add(w.batch.mutations[W].key));return x}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);Mp(i,s,null),yf(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield su(i,u)}catch(u){yield Fr(u)}})).apply(this,arguments)}function X0(l,n,i){return sl.apply(this,arguments)}function sl(){return(sl=(0,Ee.A)(function*(l,n,i){const s=lt(l);try{const u=yield function(_,w){const x=lt(_);return x.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let fe;return x.mutationQueue.lookupMutationBatch(W,w).next(Pe=>(rn(null!==Pe),fe=Pe.keys(),x.mutationQueue.removeMutationBatch(W,Pe))).next(()=>x.mutationQueue.performConsistencyCheck(W)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(W,fe,w)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,fe)).next(()=>x.localDocuments.getDocuments(W,fe))})}(s.localStore,n);Mp(s,n,i),yf(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield su(s,u)}catch(u){yield Fr(u)}})).apply(this,arguments)}function qd(){return(qd=(0,Ee.A)(function*(l,n){const i=lt(l);ru(i.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const w=lt(_);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>w.mutationQueue.getHighestUnacknowledgedBatchId(x))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=nn(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function yf(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function Mp(l,n,i){const s=lt(l);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function ku(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||Pp(l,s)})}function Pp(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(nu(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),Np(l))}function Nm(l,n,i){for(const s of i)s instanceof ff?(l.La.addReference(s.key,n),x_(l,s)):s instanceof pf?(Ct("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||Pp(l,s.key)):Bt()}function x_(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(Ct("SyncEngine","New document in limbo: "+i),l.xa.add(s),Np(l))}function Np(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new mn(Jn.fromString(n)),s=l.qa.next();l.Na.set(s,new M_(i)),l.Oa=l.Oa.insert(i,s),Fd(l.remoteStore,new wi(fo(Bo(i.path)),s,"TargetPurposeLimboResolution",_e.oe))}}function su(l,n,i){return Op.apply(this,arguments)}function Op(){return Op=(0,Ee.A)(function*(l,n,i){const s=lt(l),u=[],p=[],_=[];var w;s.Fa.isEmpty()||(s.Fa.forEach((w,x)=>{_.push(s.Ka(x,n,i).then(W=>{var fe;if((W||i)&&s.isPrimaryClient){const Pe=W?!W.fromCache:null===(fe=null==i?void 0:i.targetChanges.get(x.targetId))||void 0===fe?void 0:fe.current;s.sharedClientState.updateQueryState(x.targetId,Pe?"current":"not-current")}if(W){u.push(W);const Pe=Qh.Wi(x.targetId,W);p.push(Pe)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(w=(0,Ee.A)(function*(W,fe){const Pe=lt(W);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",rt=>It.forEach(fe,St=>It.forEach(St.$i,un=>Pe.persistence.referenceDelegate.addReference(rt,St.targetId,un)).next(()=>It.forEach(St.Ui,un=>Pe.persistence.referenceDelegate.removeReference(rt,St.targetId,un)))))}catch(rt){if(!hi(rt))throw rt;Ct("LocalStore","Failed to update sequence numbers: "+rt)}for(const rt of fe){const St=rt.targetId;if(!rt.fromCache){const un=Pe.os.get(St),_n=un.withLastLimboFreeSnapshotVersion(un.snapshotVersion);Pe.os=Pe.os.insert(St,_n)}}}),function x(W,fe){return w.apply(this,arguments)})(s.localStore,p))}),Op.apply(this,arguments)}function Y0(l,n){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,Ee.A)(function*(l,n){const i=lt(l);if(!i.currentUser.isEqual(n)){Ct("SyncEngine","User change. New user:",n.toKey());const s=yield Am(i.localStore,n);i.currentUser=n,(p=i).ka.forEach(w=>{w.forEach(x=>{x.reject(new Fe(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield su(i,s.hs)}var p})).apply(this,arguments)}function Qc(l,n){const i=lt(l),s=i.Na.get(n);if(s&&s.va)return _r().add(s.key);{let u=_r();const p=i.Ma.get(n);if(!p)return u;for(const _ of p){const w=i.Fa.get(_);u=u.unionWith(w.view.Va)}return u}}function Z0(l,n){return xp.apply(this,arguments)}function xp(){return(xp=(0,Ee.A)(function*(l,n){const i=lt(l),s=yield Zu(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&Nm(i,n.targetId,u.wa),u})).apply(this,arguments)}function k_(l,n){return nc.apply(this,arguments)}function nc(){return(nc=(0,Ee.A)(function*(l,n){const i=lt(l);return Md(i.localStore,n).then(s=>su(i,s))})).apply(this,arguments)}function Qd(l,n,i,s){return qo.apply(this,arguments)}function qo(){return(qo=(0,Ee.A)(function*(l,n,i,s){const u=lt(l),p=yield function(w,x){const W=lt(w),fe=lt(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>fe.Mn(Pe,x).next(rt=>rt?W.localDocuments.getDocuments(Pe,rt):It.resolve(null)))}(u.localStore,n);var x;null!==p?("pending"===i?yield il(u.remoteStore):"acknowledged"===i||"rejected"===i?(Mp(u,n,s||null),yf(u,n),x=n,lt(lt(u.localStore).mutationQueue).On(x)):Bt(),yield su(u,p)):Ct("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function kp(){return(kp=(0,Ee.A)(function*(l,n){const i=lt(l);if(Ef(i),Fm(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield Fp(i,s.toArray());i.Qa=!0,yield A(i.remoteStore,!0);for(const p of u)Fd(i.remoteStore,p)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(ku(i,_),Su(i.localStore,_,!0))),nu(i.remoteStore,_)}),yield u,yield Fp(i,s),function(_){const w=lt(_);w.Na.forEach((x,W)=>{nu(w.remoteStore,W)}),w.La.pr(),w.Na=new Map,w.Oa=new Jr(mn.comparator)}(i),i.Qa=!1,yield A(i.remoteStore,!1)}})).apply(this,arguments)}function Fp(l,n,i){return Om.apply(this,arguments)}function Om(){return(Om=(0,Ee.A)(function*(l,n,i){const s=lt(l),u=[],p=[];for(const _ of n){let w;const x=s.Ma.get(_);if(x&&0!==x.length){w=yield $c(s.localStore,fo(x[0]));for(const W of x){const fe=s.Fa.get(W),Pe=yield Z0(s,fe);Pe.snapshot&&p.push(Pe.snapshot)}}else{const W=yield Zh(s.localStore,_);w=yield $c(s.localStore,W),yield Rm(s,xm(W),_,!1,w.resumeToken)}u.push(w)}return s.Ca.d_(p),u})).apply(this,arguments)}function xm(l){return ho(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Lp(l){return i=lt(l).localStore,lt(lt(i).persistence).Qi();var i}function eE(l,n,i,s){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,Ee.A)(function*(l,n,i,s){const u=lt(l);if(u.Qa)return void Ct("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(n);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield Md(u.localStore,yl(p[0])),w=gu.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,de.EMPTY_BYTE_STRING);yield su(u,_,w);break}case"rejected":yield Su(u.localStore,n,!0),ku(u,n,s);break;default:Bt()}})).apply(this,arguments)}function km(l,n,i){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,Ee.A)(function*(l,n,i){const s=Ef(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Ct("SyncEngine","Adding an already active target "+u);continue}const p=yield Zh(s.localStore,u),_=yield $c(s.localStore,p);yield Rm(s,xm(p),_.targetId,!1,_.resumeToken),Fd(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield Su(s.localStore,u,!1).then(()=>{nu(s.remoteStore,u),ku(s,u)}).catch(Fr))}})).apply(this,arguments)}function Ef(l){const n=lt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Kd.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qc.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Sp.bind(null,n),n.Ca.d_=df.bind(null,n.eventManager),n.Ca.$a=Dp.bind(null,n.eventManager),n}function Fm(l){const n=lt(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=O_.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=X0.bind(null,n),n}class Zd{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,Ee.A)(function*(){i.serializer=ec(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return Im(this.persistence,new Em,n.initialUser,this.serializer)}createPersistence(n){return new Ns(Qu.Zr,this.serializer)}createSharedClientState(n){return new Jo}terminate(){var n=this;return(0,Ee.A)(function*(){var i,s;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(s=n.indexBackfillerScheduler)||void 0===s||s.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Lm extends Zd{constructor(n,i,s){super(),this.Wa=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,Ee.A)(function*(){yield i().call(s,n),yield s.Wa.initialize(s,n),yield Fm(s.Wa.syncEngine),yield il(s.Wa.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return Im(this.persistence,new Em,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,i){return new Ku(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}createIndexBackfillerScheduler(n,i){const s=new je(i,this.persistence);return new eo(n.asyncQueue,s)}createPersistence(n){const i=Xh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new wu(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,nf(),zc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new Jo}}class Vm extends Lm{constructor(n,i){super(n,i,!1),this.Wa=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,Ee.A)(function*(){yield i().call(s,n);const u=s.Wa.syncEngine;s.sharedClientState instanceof Nl&&(s.sharedClientState.syncEngine={no:Qd.bind(null,u),ro:eE.bind(null,u),io:km.bind(null,u),Qi:Lp.bind(null,u),eo:k_.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,Ee.A)(function*(_){yield function J0(l,n){return kp.apply(this,arguments)}(s.Wa.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}createSharedClientState(n){const i=nf();if(!Nl.D(i))throw new Fe(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Xh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Nl(i,n.asyncQueue,s,n.clientId,n.initialUser)}}class Jd{initialize(n,i){var s=this;return(0,Ee.A)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>wp(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Y0.bind(null,s.syncEngine),yield A(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Ra}createDatastore(n){const i=ec(n.databaseInfo.databaseId),s=new Sa(n.databaseInfo);return new rf(n.authCredentials,n.appCheckCredentials,s,i)}createRemoteStore(n){return s=this.localStore,u=this.datastore,p=n.asyncQueue,_=i=>wp(this.syncEngine,i,0),w=Ju.D()?new Ju:new Tm,new Pr(s,u,p,_,w);var s,u,p,_,w}createSyncEngine(n,i){return function(u,p,_,w,x,W,fe){const Pe=new K0(u,p,_,w,x,W);return fe&&(Pe.Qa=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,Ee.A)(function*(){var i,s,u;yield(u=(0,Ee.A)(function*(_){const w=lt(_);Ct("RemoteStore","RemoteStore shutting down."),w.L_.add(5),yield kl(w),w.k_.shutdown(),w.q_.set("Unknown")}),function p(_){return u.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(s=n.eventManager)||void 0===s||s.terminate()})()}}function L_(l,n=10240){let i=0;return{read:()=>(0,Ee.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,Ee.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Um{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ga(this.observer.next,n)}error(n){this.observer.error?this.Ga(this.observer.error,n):On("Uncaught Error in snapshot listener:",n.toString())}za(){this.muted=!0}Ga(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class V_{constructor(n,i){this.ja=n,this.serializer=i,this.metadata=new on,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.ja.cancel()}getMetadata(){var n=this;return(0,Ee.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,Ee.A)(function*(){return yield n.getMetadata(),n.Ja()})()}Ja(){var n=this;return(0,Ee.A)(function*(){const i=yield n.Ya();if(null===i)return null;const s=n.Ha.decode(i),u=Number(s);isNaN(u)&&n.Za(`length string (${s}) is not valid number`);const p=yield n.Xa(u);return new xu(JSON.parse(p),i.length+u)})()}eu(){return this.buffer.findIndex(n=>123===n)}Ya(){var n=this;return(0,Ee.A)(function*(){for(;n.eu()<0&&!(yield n.tu()););if(0===n.buffer.length)return null;const i=n.eu();i<0&&n.Za("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}Xa(n){var i=this;return(0,Ee.A)(function*(){for(;i.buffer.length<n;)(yield i.tu())&&i.Za("Reached the end of bundle when more is expected.");const s=i.Ha.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}Za(n){throw this.ja.cancel(),new Error(`Invalid bundle format: ${n}`)}tu(){var n=this;return(0,Ee.A)(function*(){const i=yield n.ja.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class U_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,Ee.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Fe(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,Ee.A)(function*(_,w){const x=lt(_),W={documents:w.map(St=>Tl(x.serializer,St))},fe=yield x.Lo("BatchGetDocuments",x.serializer.databaseId,Jn.emptyPath(),W,w.length),Pe=new Map;fe.forEach(St=>{const un=function I(l,n){return"found"in n?function(s,u){rn(!!u.found);const p=Gs(s,u.found.name),_=no(u.found.updateTime),w=u.found.createTime?no(u.found.createTime):Rn.min(),x=new Ni({mapValue:{fields:u.found.fields}});return ii.newFoundDocument(p,_,w,x)}(l,n):"missing"in n?function(s,u){rn(!!u.missing),rn(!!u.readTime);const p=Gs(s,u.missing),_=no(u.readTime);return ii.newNoDocument(p,_)}(l,n):Bt()}(x.serializer,St);Pe.set(un.key.toString(),un)});const rt=[];return w.forEach(St=>{const un=Pe.get(St.toString());rn(!!un),rt.push(un)}),rt}),function p(_,w){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new K(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ee.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const p=mn.fromPath(u);n.mutations.push(new Ie(p,n.precondition(p)))}),yield(s=(0,Ee.A)(function*(p,_){const w=lt(p),x={writes:_.map(W=>O(w.serializer,W))};yield w.Mo("Commit",w.serializer.databaseId,Jn.emptyPath(),x)}),function u(p,_){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Bt();i=Rn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new Fe(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Rn.min())?ke.exists(!1):ke.updateTime(i):ke.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Rn.min()))throw new Fe(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ke.updateTime(i)}return ke.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Xs{constructor(n,i,s,u,p){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=p,this.nu=s.maxAttempts,this.t_=new rl(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var n=this;this.t_.Go((0,Ee.A)(function*(){const i=new U_(n.datastore),s=n.su(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(p=>{n.ou(p)}))}).catch(u=>{n.ou(u)})}))}su(n){try{const i=this.updateFunction(n);return!ht(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ou(n){this.nu>0&&this._u(n)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(n)}_u(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Dr(i)}return!1}}class OA{constructor(n,i,s,u){var p=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=Fi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var _=(0,Ee.A)(function*(w){Ct("FirestoreClient","Received user=",w.uid),yield p.authCredentialListener(w),p.user=w});return function(w){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(s,_=>(Ct("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=nn(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Up(l,n){return B_.apply(this,arguments)}function B_(){return B_=(0,Ee.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,Ee.A)(function*(p){s.isEqual(p)||(yield Am(n.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),B_.apply(this,arguments)}function Bp(l,n){return $_.apply(this,arguments)}function $_(){return($_=(0,Ee.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield jp(l);Ct("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>h(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>h(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function $p(l){return"FirebaseError"===l.name?l.code===De.FAILED_PRECONDITION||l.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function jp(l){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,Ee.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Up(l,l._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!$p(i))throw i;Nn("Error using user provided cache. Falling back to memory cache: "+i),yield Up(l,new Zd)}}else Ct("FirestoreClient","Using default OfflineComponentProvider"),yield Up(l,new Zd);return l._offlineComponents})).apply(this,arguments)}function Hp(l){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,Ee.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bp(l,l._uninitializedComponentsProvider._online)):(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield Bp(l,new Jd))),l._onlineComponents})).apply(this,arguments)}function rc(l){return jp(l).then(n=>n.persistence)}function If(l){return jp(l).then(n=>n.localStore)}function j_(l){return Hp(l).then(n=>n.remoteStore)}function al(l){return Hp(l).then(n=>n.syncEngine)}function Zc(l){return zp.apply(this,arguments)}function zp(){return(zp=(0,Ee.A)(function*(l){const n=yield Hp(l),i=n.eventManager;return i.onListen=Wd.bind(null,n.syncEngine),i.onUnlisten=NA.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=q0.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Xc.bind(null,n.syncEngine),i})).apply(this,arguments)}function H_(l,n,i={}){const s=new on;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(p,_,w,x,W){const fe=new Um({next:rt=>{_.enqueueAndForget(()=>ol(p,Pe));const St=rt.docs.has(w);!St&&rt.fromCache?W.reject(new Fe(De.UNAVAILABLE,"Failed to get document because the client is offline.")):St&&rt.fromCache&&x&&"server"===x.source?W.reject(new Fe(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(rt)},error:rt=>W.reject(rt)}),Pe=new Gd(Bo(w.path),fe,{includeMetadataChanges:!0,_a:!0});return jd(p,Pe)}(yield Zc(l),l.asyncQueue,n,i,s)})),s.promise}function z_(l,n,i={}){const s=new on;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(p,_,w,x,W){const fe=new Um({next:rt=>{_.enqueueAndForget(()=>ol(p,Pe)),rt.fromCache&&"server"===x.source?W.reject(new Fe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(rt)},error:rt=>W.reject(rt)}),Pe=new Gd(w,fe,{includeMetadataChanges:!0,_a:!0});return jd(p,Pe)}(yield Zc(l),l.asyncQueue,n,i,s)})),s.promise}function K_(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const q_=new Map;function Wp(l,n,i){if(!i)throw new Fe(De.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function X_(l,n,i,s){if(!0===n&&!0===s)throw new Fe(De.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function au(l){if(!mn.isDocumentKey(l))throw new Fe(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Q_(l){if(mn.isDocumentKey(l))throw new Fe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Cf(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":Bt()}function di(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new Fe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cf(l);throw new Fe(De.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function iE(l,n){if(n<=0)throw new Fe(De.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class oE{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Fe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Fe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}X_("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=K_(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Fe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Fe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Fe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Kp{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Fe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new Qn;switch(s.type){case"firstParty":return new zr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Fe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=q_.get(i);s&&(Ct("ComponentProvider","Removing Datastore"),q_.delete(i),s.terminate())}(this),Promise.resolve()}}class ks{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new ks(this.firestore,n,this._query)}}class Bi{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Bi(this.firestore,n,this._key)}}class Ma extends ks{constructor(n,i,s){super(n,i,Bo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Bi(this.firestore,null,new mn(n))}withConverter(n){return new Ma(this.firestore,n,this._path)}}function Gm(l,n,...i){if(l=(0,Je.Ku)(l),Wp("collection","path",n),l instanceof Kp){const s=Jn.fromString(n,...i);return Q_(s),new Ma(l,null,s)}{if(!(l instanceof Bi||l instanceof Ma))throw new Fe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Jn.fromString(n,...i));return Q_(s),new Ma(l.firestore,null,s)}}function eh(l,n,...i){if(l=(0,Je.Ku)(l),1===arguments.length&&(n=Fi.newId()),Wp("doc","path",n),l instanceof Kp){const s=Jn.fromString(n,...i);return au(s),new Bi(l,null,new mn(s))}{if(!(l instanceof Bi||l instanceof Ma))throw new Fe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Jn.fromString(n,...i));return au(s),new Bi(l.firestore,l instanceof Ma?l.converter:null,new mn(s))}}function th(l,n){return l=(0,Je.Ku)(l),n=(0,Je.Ku)(n),(l instanceof Bi||l instanceof Ma)&&(n instanceof Bi||n instanceof Ma)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Wm(l,n){return l=(0,Je.Ku)(l),n=(0,Je.Ku)(n),l instanceof ks&&n instanceof ks&&l.firestore===n.firestore&&Ea(l._query,n._query)&&l.converter===n.converter}class Km{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new rl(this,"async_queue_retry"),this.Eu=()=>{const i=zc();i&&Ct("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const n=zc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.du(),this.Au(n)}enterRestrictedMode(n){if(!this.cu){this.cu=!0,this.Iu=n||!1;const i=zc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(n){if(this.du(),this.cu)return new Promise(()=>{});const i=new on;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.uu.push(n),this.Ru()))}Ru(){var n=this;return(0,Ee.A)(function*(){if(0!==n.uu.length){try{yield n.uu[0](),n.uu.shift(),n.t_.reset()}catch(i){if(!hi(i))throw i;Ct("AsyncQueue","Operation failed with retryable error: "+i)}n.uu.length>0&&n.t_.Go(()=>n.Ru())}})()}Au(n){const i=this.au.then(()=>(this.Pu=!0,n().catch(s=>{throw this.hu=s,this.Pu=!1,On("INTERNAL UNHANDLED ERROR: ",function(_){let w=_.message||"";return _.stack&&(w=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),w}(s)),s}).then(s=>(this.Pu=!1,s))));return this.au=i,i}enqueueAfterDelay(n,i,s){this.du(),this.Tu.indexOf(n)>-1&&(i=0);const u=wt.createAndSchedule(this,n,i,s,p=>this.Vu(p));return this.lu.push(u),u}du(){this.hu&&Bt()}verifyOperationInProgress(){}mu(){var n=this;return(0,Ee.A)(function*(){let i;do{i=n.au,yield i}while(i!==n.au)})()}fu(n){for(const i of this.lu)if(i.timerId===n)return!0;return!1}gu(n){return this.mu().then(()=>{this.lu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.mu()})}pu(n){this.Tu.push(n)}Vu(n){const i=this.lu.indexOf(n);this.lu.splice(i,1)}}function qp(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(l)}class Tf{constructor(){this._progressObserver={},this._taskCompletionResolver=new on,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Wi extends Kp{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new Km,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z_(this),this._firestoreClient.terminate()}}function Ao(l){return l._firestoreClient||Z_(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Z_(l){var n,i,s;const u=l._freezeSettings(),p=(x=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Gt(l._databaseId,x,l._persistenceKey,(fe=u).host,fe.ssl,fe.experimentalForceLongPolling,fe.experimentalAutoDetectLongPolling,K_(fe.experimentalLongPollingOptions),fe.useFetchStreams));var x,fe;l._firestoreClient=new OA(l._authCredentials,l._appCheckCredentials,l._queue,p),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function ey(l,n,i){const s=new on;return l.asyncQueue.enqueue((0,Ee.A)(function*(){try{yield Up(l,i),yield Bp(l,n),s.resolve()}catch(u){const p=u;if(!$p(p))throw p;Nn("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function Jc(l){if(l._initialized||l._terminated)throw new Fe(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new lu(de.fromBase64String(n))}catch(i){throw new Fe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new lu(de.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class uu{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Fe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ic{constructor(n){this._methodName=n}}class Qp{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Fe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Fe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return yn(this._lat,n._lat)||yn(this._long,n._long)}}class bf{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,n._values)}}const lE=/^__.*__$/;class uE{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new bn(n,this.data,this.fieldMask,i,this.fieldTransforms):new Hr(n,this.data,i,this.fieldTransforms)}}class ry{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new bn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function iy(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class wf{constructor(n,i,s,u,p,_){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.yu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(n){return new wf(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:s,Du:!1});return u.vu(n),u}Cu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:s,Du:!1});return u.yu(),u}Fu(n){return this.Su({path:void 0,Du:!0})}Mu(n){return oh(n,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}yu(){if(this.path)for(let n=0;n<this.path.length;n++)this.vu(this.path.get(n))}vu(n){if(0===n.length)throw this.Mu("Document fields must not be empty");if(iy(this.wu)&&lE.test(n))throw this.Mu('Document fields cannot begin and end with "__"')}}class oy{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||ec(n)}Nu(n,i,s,u=!1){return new wf({wu:n,methodName:i,Ou:s,path:lr.emptyPath(),Du:!1,xu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oc(l){const n=l._freezeSettings(),i=ec(l._databaseId);return new oy(l._databaseId,!!n.ignoreUndefinedProperties,i)}function ed(l,n,i,s,u,p={}){const _=l.Nu(p.merge||p.mergeFields?2:0,n,i,u);rv("Data must be an object, but it was:",_,s);const w=nv(s,_);let x,W;if(p.merge)x=new Gr(_.fieldMask),W=_.fieldTransforms;else if(p.mergeFields){const fe=[];for(const Pe of p.mergeFields){const rt=Jp(n,Pe,i);if(!_.contains(rt))throw new Fe(De.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);ay(fe,rt)||fe.push(rt)}x=new Gr(fe),W=_.fieldTransforms.filter(Pe=>x.covers(Pe.field))}else x=null,W=_.fieldTransforms;return new uE(new Ni(w),x,W)}class rh extends ic{_toFieldTransform(n){if(2!==n.wu)throw n.Mu(1===n.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof rh}}function Qm(l,n,i){return new wf({wu:3,Ou:n.settings.Ou,methodName:l._methodName,Du:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Yp extends ic{_toFieldTransform(n){return new Re(n.path,new Tr)}isEqual(n){return n instanceof Yp}}class Zp extends ic{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=Qm(this,n,!0),s=this.Lu.map(p=>ih(p,i)),u=new Ko(s);return new Re(n.path,u)}isEqual(n){return n instanceof Zp&&(0,Je.bD)(this.Lu,n.Lu)}}class Ym extends ic{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=Qm(this,n,!0),s=this.Lu.map(p=>ih(p,i)),u=new li(s);return new Re(n.path,u)}isEqual(n){return n instanceof Ym&&(0,Je.bD)(this.Lu,n.Lu)}}class Zm extends ic{constructor(n,i){super(n),this.Bu=i}_toFieldTransform(n){const i=new Ca(n.serializer,Rs(n.serializer,this.Bu));return new Re(n.path,i)}isEqual(n){return n instanceof Zm&&this.Bu===n.Bu}}function Jm(l,n,i,s){const u=l.Nu(1,n,i);rv("Data must be an object, but it was:",u,s);const p=[],_=Ni.empty();Do(s,(x,W)=>{const fe=Sf(n,x,i);W=(0,Je.Ku)(W);const Pe=u.Cu(fe);if(W instanceof rh)p.push(fe);else{const rt=ih(W,Pe);null!=rt&&(p.push(fe),_.set(fe,rt))}});const w=new Gr(p);return new ry(_,w,u.fieldTransforms)}function ev(l,n,i,s,u,p){const _=l.Nu(1,n,i),w=[Jp(n,s,i)],x=[u];if(p.length%2!=0)throw new Fe(De.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<p.length;rt+=2)w.push(Jp(n,p[rt])),x.push(p[rt+1]);const W=[],fe=Ni.empty();for(let rt=w.length-1;rt>=0;--rt)if(!ay(W,w[rt])){const St=w[rt];let un=x[rt];un=(0,Je.Ku)(un);const An=_.Cu(St);if(un instanceof rh)W.push(St);else{const _n=ih(un,An);null!=_n&&(W.push(St),fe.set(St,_n))}}const Pe=new Gr(W);return new ry(fe,Pe,_.fieldTransforms)}function tv(l,n,i,s=!1){return ih(i,l.Nu(s?4:3,n))}function ih(l,n){if(sy(l=(0,Je.Ku)(l)))return rv("Unsupported field value:",n,l),nv(l,n);if(l instanceof ic)return function(s,u){if(!iy(u.wu))throw u.Mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Mu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.Du&&4!==n.wu)throw n.Mu("Nested arrays are not supported");return function(s,u){const p=[];let _=0;for(const w of s){let x=ih(w,u.Fu(_));null==x&&(x={nullValue:"NULL_VALUE"}),p.push(x),_++}return{arrayValue:{values:p}}}(l,n)}return function(s,u){if(null===(s=(0,Je.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Rs(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=xn.fromDate(s);return{timestampValue:ys(u.serializer,p)}}if(s instanceof xn){const p=new xn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ys(u.serializer,p)}}if(s instanceof Qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lu)return{bytesValue:ql(u.serializer,s._byteString)};if(s instanceof Bi){const p=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw u.Mu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Ql(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof bf)return w=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(x=>{if("number"!=typeof x)throw w.Mu("VectorValues must only contain numeric values.");return Zr(w.serializer,x)})}}}}};var w;throw u.Mu(`Unsupported field value: ${Cf(s)}`)}(l,n)}function nv(l,n){const i={};return ps(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Do(l,(s,u)=>{const p=ih(u,n.bu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function sy(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof xn||l instanceof Qp||l instanceof lu||l instanceof Bi||l instanceof ic||l instanceof bf)}function rv(l,n,i){if(!sy(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Cf(i);throw n.Mu("an object"===s?l+" a custom object":l+" "+s)}var u}function Jp(l,n,i){if((n=(0,Je.Ku)(n))instanceof uu)return n._internalPath;if("string"==typeof n)return Sf(l,n);throw oh("Field path arguments must be of type string or ",l,!1,void 0,i)}const cE=new RegExp("[~\\*/\\[\\]]");function Sf(l,n,i){if(n.search(cE)>=0)throw oh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new uu(...n.split("."))._internalPath}catch{throw oh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function oh(l,n,i,s,u){const p=s&&!s.isEmpty(),_=void 0!==u;let w=`Function ${n}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(p||_)&&(x+=" (found",p&&(x+=` in field ${s}`),_&&(x+=` in document ${u}`),x+=")"),new Fe(De.INVALID_ARGUMENT,w+l+x)}function ay(l,n){return l.some(i=>i.isEqual(n))}class ll{constructor(n,i,s,u,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new eg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(tg("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class eg extends ll{data(){return super.data()}}function tg(l,n){return"string"==typeof n?Sf(l,n):n instanceof uu?n._internalPath:n._delegate._internalPath}function iv(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Fe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sh{}class ng extends sh{}function td(l,n,...i){let s=[];n instanceof sh&&s.push(n),s=s.concat(i),function(p){const _=p.filter(x=>x instanceof ah).length,w=p.filter(x=>x instanceof Rf).length;if(_>1||_>0&&w>0)throw new Fe(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class Rf extends ng{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Rf(n,i,s)}_apply(n){const i=this._parse(n);return fE(n._query,i),new ks(n.firestore,n.converter,ya(n._query,i))}_parse(n){const i=oc(n.firestore);return function(p,_,w,x,W,fe,Pe){let rt;if(W.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new Fe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){Mf(Pe,fe);const St=[];for(const un of Pe)St.push(nd(x,p,un));rt={arrayValue:{values:St}}}else rt=nd(x,p,Pe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||Mf(Pe,fe),rt=tv(w,"where",Pe,"in"===fe||"not-in"===fe);return rr.create(W,fe,rt)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class ah extends sh{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new ah(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Yr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let _=u;const w=p.getFlattenedFilters();for(const x of w)fE(_,x),_=ya(_,x)}(n._query,i),new ks(n.firestore,n.converter,ya(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lh extends ng{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new lh(n,i)}_apply(n){const i=function(u,p,_){if(null!==u.startAt)throw new Fe(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Fe(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rr(p,_)}(n._query,this._field,this._direction);return new ks(n.firestore,n.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new Er(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class uh extends ng{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new uh(n,i,s)}_apply(n){return new ks(n.firestore,n.converter,sa(n._query,this._limit,this._limitType))}}class sc extends ng{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new sc(n,i,s)}_apply(n){const i=fh(n,this.type,this._docOrFields,this._inclusive);return new ks(n.firestore,n.converter,(p=i,new Er((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class ac extends ng{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new ac(n,i,s)}_apply(n){const i=fh(n,this.type,this._docOrFields,this._inclusive);return new ks(n.firestore,n.converter,(p=i,new Er((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function fh(l,n,i,s){if(i[0]=(0,Je.Ku)(i[0]),i[0]instanceof ll)return function(p,_,w,x,W){if(!x)throw new Fe(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const fe=[];for(const Pe of oa(p))if(Pe.field.isKeyField())fe.push(ao(_,x.key));else{const rt=x.data.field(Pe.field);if(Be(rt))throw new Fe(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===rt){const St=Pe.field.canonicalString();throw new Fe(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${St}' (used as the orderBy) does not exist.`)}fe.push(rt)}return new ei(fe,W)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=oc(l.firestore);return function(_,w,x,W,fe,Pe){const rt=_.explicitOrderBy;if(fe.length>rt.length)throw new Fe(De.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const St=[];for(let un=0;un<fe.length;un++){const An=fe[un];if(rt[un].field.isKeyField()){if("string"!=typeof An)throw new Fe(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof An}`);if(!_a(_)&&-1!==An.indexOf("/"))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${An}' contains a slash.`);const _n=_.path.child(Jn.fromString(An));if(!mn.isDocumentKey(_n))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const nr=new mn(_n);St.push(ao(w,nr))}else{const _n=tv(x,W,An);St.push(_n)}}return new ei(St,Pe)}(l._query,l.firestore._databaseId,u,n,i,s)}}function nd(l,n,i){if("string"==typeof(i=(0,Je.Ku)(i))){if(""===i)throw new Fe(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_a(n)&&-1!==i.indexOf("/"))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(Jn.fromString(i));if(!mn.isDocumentKey(s))throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ao(l,new mn(s))}if(i instanceof Bi)return ao(l,i._key);throw new Fe(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(i)}.`)}function Mf(l,n){if(!Array.isArray(l)||0===l.length)throw new Fe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function fE(l,n){const i=function(u,p){for(const _ of u)for(const w of _.getFlattenedFilters())if(p.indexOf(w.op)>=0)return w.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Fe(De.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class rd{convertValue(n,i="none"){switch(fn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return k(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(we(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Bt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return Do(n,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(n){var i,s,u;const p=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>k(_.doubleValue));return new bf(p)}convertGeoPoint(n){return new Qp(k(n.latitude),k(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=at(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(vt(n));default:return null}}convertTimestamp(n){const i=C(n);return new xn(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=Jn.fromString(n);rn(Eo(s));const u=new Yt(s.get(1),s.get(3)),p=new mn(s.popFirst(5));return u.isEqual(i)||On(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function og(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class ly extends rd{constructor(n){super(),this.firestore=n}convertBytes(n){return new lu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Bi(this.firestore,null,i)}}class id{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ha extends ll{constructor(n,i,s,u,p,_){super(n,i,s,u,_),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(tg("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ph extends Ha{data(n={}){return super.data(n)}}class cu{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new id(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new ph(this._firestore,this._userDataWriter,s.key,s,new id(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new ph(u._firestore,u._userDataWriter,w.doc.key,w.doc,new id(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>p||3!==w.type).map(w=>{const x=new ph(u._firestore,u._userDataWriter,w.doc.key,w.doc,new id(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let W=-1,fe=-1;return 0!==w.type&&(W=_.indexOf(w.doc.key),_=_.delete(w.doc.key)),1!==w.type&&(_=_.add(w.doc),fe=_.indexOf(w.doc.key)),{type:gE(w.type),doc:x,oldIndex:W,newIndex:fe}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function gE(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function mE(l,n){return l instanceof Ha&&n instanceof Ha?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof cu&&n instanceof cu&&l._firestore===n._firestore&&Wm(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}class ul extends rd{constructor(n){super(),this.firestore=n}convertBytes(n){return new lu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Bi(this.firestore,null,i)}}function uv(l,n,i){l=di(l,Bi);const s=di(l.firestore,Wi),u=og(l.converter,n,i);return sd(s,[ed(oc(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,ke.none())])}function ag(l,n,i,...s){l=di(l,Bi);const u=di(l.firestore,Wi),p=oc(u);let _;return _="string"==typeof(n=(0,Je.Ku)(n))||n instanceof uu?ev(p,"updateDoc",l._key,n,i,s):Jm(p,"updateDoc",l._key,n),sd(u,[_.toMutation(l._key,ke.exists(!0))])}function cv(l,...n){var i,s,u;l=(0,Je.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof n[_]||qp(n[_])||(p=n[_],_++);const w={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(qp(n[_])){const Pe=n[_];n[_]=null===(i=Pe.next)||void 0===i?void 0:i.bind(Pe),n[_+1]=null===(s=Pe.error)||void 0===s?void 0:s.bind(Pe),n[_+2]=null===(u=Pe.complete)||void 0===u?void 0:u.bind(Pe)}let x,W,fe;if(l instanceof Bi)W=di(l.firestore,Wi),fe=Bo(l._key.path),x={next:Pe=>{n[_]&&n[_](ug(W,l,Pe))},error:n[_+1],complete:n[_+2]};else{const Pe=di(l,ks);W=di(Pe.firestore,Wi),fe=Pe._query;const rt=new ul(W);x={next:St=>{n[_]&&n[_](new cu(W,rt,Pe,St))},error:n[_+1],complete:n[_+2]},iv(l._query)}return function(rt,St,un,An){const _n=new Um(An),nr=new Gd(St,_n,un);return rt.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return jd(yield Zc(rt),nr)})),()=>{_n.za(),rt.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return ol(yield Zc(rt),nr)}))}}(Ao(W),fe,w,x)}function sd(l,n){return function(s,u){const p=new on;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function _f(l,n,i){return Mm.apply(this,arguments)}(yield al(s),u,p)})),p.promise}(Ao(l),n)}function ug(l,n,i){const s=i.docs.get(n._key),u=new ul(l);return new Ha(l,u,n._key,s,new id(i.hasPendingWrites,i.fromCache),n.converter)}const fy={maxAttempts:5};class pv{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=oc(n)}set(n,i,s){this._verifyNotCommitted();const u=lc(n,this._firestore),p=og(u.converter,i,s),_=ed(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,ke.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const p=lc(n,this._firestore);let _;return _="string"==typeof(i=(0,Je.Ku)(i))||i instanceof uu?ev(this._dataReader,"WriteBatch.update",p._key,i,s,u):Jm(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,ke.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=lc(n,this._firestore);return this._mutations=this._mutations.concat(new K(i._key,ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lc(l,n){if((l=(0,Je.Ku)(l)).firestore!==n)throw new Fe(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class IE extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=oc(i)}get(i){const s=lc(i,this._firestore),u=new ly(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Bt();const _=p[0];if(_.isFoundDocument())return new ll(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new ll(this._firestore,u,s._key,null,s.converter);throw Bt()})}set(i,s,u){const p=lc(i,this._firestore),_=og(p.converter,s,u),w=ed(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,w),this}update(i,s,u,...p){const _=lc(i,this._firestore);let w;return w="string"==typeof(s=(0,Je.Ku)(s))||s instanceof uu?ev(this._dataReader,"Transaction.update",_._key,s,u,p):Jm(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,w),this}delete(i){const s=lc(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=lc(n,this._firestore),s=new ul(this._firestore);return super.get(n).then(u=>new Ha(this._firestore,s,i._key,u._document,new id(!1,!1),i.converter))}}function gy(l,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return n}function mg(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function vg(){if(!function X(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){zt=Ne.SDK_VERSION,(0,Ne._registerComponent)(new Ve.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const _=s.getProvider("app").getImmediate(),w=new Wi(new Cn(s.getProvider("auth-internal")),new Ir(s.getProvider("app-check-internal")),function(W,fe){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new Fe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yt(W.options.projectId,fe)}(_,u),_);return p=Object.assign({useFetchStreams:i},p),w._setSettings(p),w},"PUBLIC").setMultipleInstances(!0)),(0,Ne.registerVersion)(Xe,"4.7.1",n),(0,Ne.registerVersion)(Xe,"4.7.1","esm2017")}();class _g{constructor(n){this._delegate=n}static fromBase64String(n){return vg(),new _g(lu.fromBase64String(n))}static fromUint8Array(n){return mg(),new _g(lu.fromUint8Array(n))}toBase64(){return vg(),this._delegate.toBase64()}toUint8Array(){return mg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function my(l){return function vy(l,n){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of n)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class RE{enableIndexedDbPersistence(n,i){return function J_(l,n){Jc(l=di(l,Wi));const i=Ao(l);if(i._uninitializedComponentsProvider)throw new Fe(De.FAILED_PRECONDITION,"SDK cache is already specified.");Nn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new Jd;return ey(i,u,new Lm(u,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function qm(l){Jc(l=di(l,Wi));const n=Ao(l);if(n._uninitializedComponentsProvider)throw new Fe(De.FAILED_PRECONDITION,"SDK cache is already specified.");Nn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),s=new Jd;return ey(n,s,new Vm(s,i.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function Pa(l){if(l._initialized&&!l._terminated)throw new Fe(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new on;return l._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{yield(i=(0,Ee.A)(function*(u){if(!vr.D())return Promise.resolve();const p=u+"main";yield vr.delete(p)}),function s(u){return i.apply(this,arguments)})(Xh(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class _y{constructor(n,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof Yt||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Nn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,s={}){!function sE(l,n,i,s={}){var u;const p=(l=di(l,Kp))._getSettings(),_=`${n}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Nn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let w,x;if("string"==typeof s.mockUserToken)w=s.mockUserToken,x=Qe.MOCK_USER;else{w=(0,Je.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new Fe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Qe(W)}l._authCredentials=new Wn(new Ln(w,x))}}(this._delegate,n,i,s)}enableNetwork(){return function ty(l){return function xA(l){return l.asyncQueue.enqueue((0,Ee.A)(function*(){const n=yield rc(l),i=yield j_(l);return n.setNetworkEnabled(!0),function(u){const p=lt(u);return p.L_.delete(0),xl(p)}(i)}))}(Ao(l=di(l,Wi)))}(this._delegate)}disableNetwork(){return function Xp(l){return function $m(l){return l.asyncQueue.enqueue((0,Ee.A)(function*(){const n=yield rc(l),i=yield j_(l);return n.setNetworkEnabled(!1),(s=(0,Ee.A)(function*(p){const _=lt(p);_.L_.add(0),yield kl(_),_.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(i);var s}))}(Ao(l=di(l,Wi)))}(this._delegate)}enablePersistence(n){let i=!1,s=!1;return n&&(i=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,X_("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xm(l){return function(i){const s=new on;return i.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function Q0(l,n){return qd.apply(this,arguments)}(yield al(i),s)})),s.promise}(Ao(l=di(l,Wi)))}(this._delegate)}onSnapshotsInSync(n){return function lg(l,n){return function nE(l,n){const i=new Um(n);return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return u=yield Zc(l),p=i,lt(u).Y_.add(p),void p.next();var u,p})),()=>{i.za(),l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return u=yield Zc(l),p=i,void lt(u).Y_.delete(p);var u,p}))}}(Ao(l=di(l,Wi)),qp(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new mh(this,Gm(this._delegate,n))}catch(i){throw ha(i,"collection()","Firestore.collection()")}}doc(n){try{return new cl(this,eh(this._delegate,n))}catch(i){throw ha(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new fa(this,function aE(l,n){if(l=di(l,Kp),Wp("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Fe(De.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ks(l,null,(s=n,new Er(Jn.emptyPath(),s)));var s}(this._delegate,n))}catch(i){throw ha(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function AE(l,n,i){l=di(l,Wi);const s=Object.assign(Object.assign({},fy),i);return function(p){if(p.maxAttempts<1)throw new Fe(De.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,w){const x=new on;return p.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){const W=yield function Af(l){return Hp(l).then(n=>n.datastore)}(p);new Xs(p.asyncQueue,W,w,_,x).ru()})),x.promise}(Ao(l),u=>n(new IE(l,u)),s)}(this._delegate,i=>n(new yy(this,i)))}batch(){return Ao(this._delegate),new gv(new pv(this._delegate,n=>sd(this._delegate,n)))}loadBundle(n){return function FA(l,n){const i=Ao(l=di(l,Wi)),s=new Tf;return function rE(l,n,i,s){const u=function(_,w){let x;return x="string"==typeof _?Hs().encode(_):_,fe=function(fe){if(fe instanceof Uint8Array)return L_(fe,void 0);if(fe instanceof ArrayBuffer)return L_(new Uint8Array(fe),void 0);if(fe instanceof ReadableStream)return fe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new V_(fe,w);var fe}(i,ec(n));l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){!function tE(l,n,i){const s=lt(l);var u;(u=(0,Ee.A)(function*(_,w,x){try{const W=yield w.getMetadata();if(yield function(un,An){const _n=lt(un),nr=no(An.createTime);return _n.persistence.runTransaction("hasNewerBundle","readonly",gr=>_n.Gr.getBundleMetadata(gr,An.id)).then(gr=>!!gr&&gr.createTime.compareTo(nr)>=0)}(_.localStore,W))return yield w.close(),x._completeWith({taskState:"Success",documentsLoaded:(un=W).totalDocuments,bytesLoaded:un.totalBytes,totalDocuments:un.totalDocuments,totalBytes:un.totalBytes}),Promise.resolve(new Set);x._updateProgress(hf(W));const fe=new W0(W,_.localStore,w.serializer);let Pe=yield w.Ua();for(;Pe;){const St=yield fe.la(Pe);St&&x._updateProgress(St),Pe=yield w.Ua()}const rt=yield fe.complete();return yield su(_,rt.Ia,void 0),yield function(un,An){const _n=lt(un);return _n.persistence.runTransaction("Save bundle","readwrite",nr=>_n.Gr.saveBundleMetadata(nr,An))}(_.localStore,W),x._completeWith(rt.progress),Promise.resolve(rt.Pa)}catch(W){return Nn("SyncEngine",`Loading bundle failed with ${W}`),x._failWith(W),Promise.resolve(new Set)}var un}),function p(_,w,x){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield al(l),u,s)}))}(i,l._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function Qs(l,n){return function Hm(l,n){return l.asyncQueue.enqueue((0,Ee.A)(function*(){return function(s,u){const p=lt(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield If(l),n)}))}(Ao(l=di(l,Wi)),n).then(i=>i?new ks(l,null,i.query):null)}(this._delegate,n).then(i=>i?new fa(this,i):null)}}class yg extends rd{constructor(n){super(),this.firestore=n}convertBytes(n){return new _g(new lu(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return cl.forKey(i,this.firestore,null)}}class yy{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new yg(n)}get(n){const i=hc(n);return this._delegate.get(i).then(s=>new kf(this._firestore,new Ha(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(n,i,s){const u=hc(n);return s?(gy("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const p=hc(n);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(n){const i=hc(n);return this._delegate.delete(i),this}}class gv{constructor(n){this._delegate=n}set(n,i,s){const u=hc(n);return s?(gy("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const p=hc(n);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(n){const i=hc(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class dc{constructor(n,i,s){this._firestore=n,this._userDataWriter=i,this._delegate=s}fromFirestore(n,i){const s=new ph(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new ad(this._firestore,s),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const s=dc.INSTANCES;let u=s.get(n);u||(u=new WeakMap,s.set(n,u));let p=u.get(i);return p||(p=new dc(n,new yg(n),i),u.set(i,p)),p}}dc.INSTANCES=new WeakMap;class cl{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new yg(n)}static forPath(n,i,s){if(n.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new cl(i,new Bi(i._delegate,s,new mn(n)))}static forKey(n,i,s){return new cl(i,new Bi(i._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new mh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new mh(this.firestore,Gm(this._delegate,n))}catch(i){throw ha(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Je.Ku)(n))instanceof Bi&&th(this._delegate,n)}set(n,i){i=gy("DocumentReference.set",i);try{return i?uv(this._delegate,n,i):uv(this._delegate,n)}catch(s){throw ha(s,"setDoc()","DocumentReference.set()")}}update(n,i,...s){try{return 1===arguments.length?ag(this._delegate,n):ag(this._delegate,n,i,...s)}catch(u){throw ha(u,"updateDoc()","DocumentReference.update()")}}delete(){return function cy(l){return sd(di(l.firestore,Wi),[new K(l._key,ke.none())])}(this._delegate)}onSnapshot(...n){const i=mv(n),s=xf(n,u=>new kf(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return cv(this._delegate,i,s)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function vE(l){l=di(l,Bi);const n=di(l.firestore,Wi),i=Ao(n),s=new ul(n);return function Gp(l,n){const i=new on;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(s=(0,Ee.A)(function*(p,_,w){try{const x=yield function(fe,Pe){const rt=lt(fe);return rt.persistence.runTransaction("read document","readonly",St=>rt.localDocuments.getDocument(St,Pe))}(p,_);x.isFoundDocument()?w.resolve(x):x.isNoDocument()?w.resolve(null):w.reject(new Fe(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const W=nn(x,`Failed to get document '${_} from cache`);w.reject(W)}}),function u(p,_,w){return s.apply(this,arguments)})(yield If(l),n,i);var s})),i.promise}(i,l._key).then(u=>new Ha(n,s,l._key,u,new id(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function sg(l){l=di(l,Bi);const n=di(l.firestore,Wi);return H_(Ao(n),l._key,{source:"server"}).then(i=>ug(n,l,i))}(this._delegate):function $A(l){l=di(l,Bi);const n=di(l.firestore,Wi);return H_(Ao(n),l._key).then(i=>ug(n,l,i))}(this._delegate),i.then(s=>new kf(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new cl(this.firestore,this._delegate.withConverter(n?dc.getInstance(this.firestore,n):null))}}function ha(l,n,i){return l.message=l.message.replace(n,i),l}function mv(l){for(const n of l)if("object"==typeof n&&!my(n))return n;return{}}function xf(l,n){var i,s;let u;return u=my(l[0])?l[0]:my(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{u.next&&u.next(n(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class kf{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new cl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return mE(this._delegate,n._delegate)}}class ad extends kf{data(n){const i=this._delegate.data(n);return this._delegate._converter||function Xn(l){l||Bt()}(void 0!==i),i}}class fa{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new yg(n)}where(n,i,s){try{return new fa(this.firestore,td(this._delegate,function dE(l,n,i){const s=n,u=tg("where",l);return Rf._create(u,s,i)}(n,i,s)))}catch(u){throw ha(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new fa(this.firestore,td(this._delegate,function hE(l,n="asc"){const i=n,s=tg("orderBy",l);return lh._create(s,i)}(n,i)))}catch(s){throw ha(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new fa(this.firestore,td(this._delegate,function ov(l){return iE("limit",l),uh._create("limit",l,"F")}(n)))}catch(i){throw ha(i,"limit()","Query.limit()")}}limitToLast(n){try{return new fa(this.firestore,td(this._delegate,function ch(l){return iE("limitToLast",l),uh._create("limitToLast",l,"L")}(n)))}catch(i){throw ha(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new fa(this.firestore,td(this._delegate,function rg(...l){return sc._create("startAt",l,!0)}(...n)))}catch(i){throw ha(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new fa(this.firestore,td(this._delegate,function dh(...l){return sc._create("startAfter",l,!1)}(...n)))}catch(i){throw ha(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new fa(this.firestore,td(this._delegate,function hh(...l){return ac._create("endBefore",l,!1)}(...n)))}catch(i){throw ha(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new fa(this.firestore,td(this._delegate,function sv(...l){return ac._create("endAt",l,!0)}(...n)))}catch(i){throw ha(i,"endAt()","Query.endAt()")}}isEqual(n){return Wm(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function uy(l){l=di(l,ks);const n=di(l.firestore,Wi),i=Ao(n),s=new ul(n);return function Io(l,n){const i=new on;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(s=(0,Ee.A)(function*(p,_,w){try{const x=yield Zu(p,_,!0),W=new bp(_,x.Ts),fe=W.ma(x.documents),Pe=W.applyChanges(fe,!1);w.resolve(Pe.snapshot)}catch(x){const W=nn(x,`Failed to execute query '${_} against cache`);w.reject(W)}}),function u(p,_,w){return s.apply(this,arguments)})(yield If(l),n,i);var s})),i.promise}(i,l._query).then(u=>new cu(n,s,l,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function _E(l){l=di(l,ks);const n=di(l.firestore,Wi),i=Ao(n),s=new ul(n);return z_(i,l._query,{source:"server"}).then(u=>new cu(n,s,l,u))}(this._delegate):function lv(l){l=di(l,ks);const n=di(l.firestore,Wi),i=Ao(n),s=new ul(n);return iv(l._query),z_(i,l._query).then(u=>new cu(n,s,l,u))}(this._delegate),i.then(s=>new vv(this.firestore,new cu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const i=mv(n),s=xf(n,u=>new vv(this.firestore,new cu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return cv(this._delegate,i,s)}withConverter(n){return new fa(this.firestore,this._delegate.withConverter(n?dc.getInstance(this.firestore,n):null))}}class gh{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new ad(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vv{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new fa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new ad(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new gh(this._firestore,i))}forEach(n,i){this._delegate.forEach(s=>{n.call(i,new ad(this._firestore,s))})}isEqual(n){return mE(this._delegate,n._delegate)}}class mh extends fa{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new cl(this.firestore,n):null}doc(n){try{return new cl(this.firestore,void 0===n?eh(this._delegate):eh(this._delegate,n))}catch(i){throw ha(i,"doc()","CollectionReference.doc()")}}add(n){return function od(l,n){const i=di(l.firestore,Wi),s=eh(l),u=og(l.converter,n);return sd(i,[ed(oc(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,ke.exists(!1))]).then(()=>s)}(this._delegate,n).then(i=>new cl(this.firestore,i))}isEqual(n){return th(this._delegate,n._delegate)}withConverter(n){return new mh(this.firestore,this._delegate.withConverter(n?dc.getInstance(this.firestore,n):null))}}function hc(l){return di(l,Bi)}class Eg{constructor(...n){this._delegate=new uu(...n)}static documentId(){return new Eg(lr.keyField().canonicalString())}isEqual(n){return(n=(0,Je.Ku)(n))instanceof uu&&this._delegate._internalPath.isEqual(n._internalPath)}}class ld{constructor(n){this._delegate=n}static serverTimestamp(){const n=function TE(){return new Yp("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new ld(n)}static delete(){const n=function CE(){return new rh("deleteField")}();return n._methodName="FieldValue.delete",new ld(n)}static arrayUnion(...n){const i=function uc(...l){return new Zp("arrayUnion",l)}(...n);return i._methodName="FieldValue.arrayUnion",new ld(i)}static arrayRemove(...n){const i=function Nf(...l){return new Ym("arrayRemove",l)}(...n);return i._methodName="FieldValue.arrayRemove",new ld(i)}static increment(n){const i=function DE(l){return new Zm("increment",l)}(n);return i._methodName="FieldValue.increment",new ld(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const PE={Firestore:_y,GeoPoint:Qp,Timestamp:xn,Blob:_g,Transaction:yy,WriteBatch:gv,DocumentReference:cl,DocumentSnapshot:kf,Query:fa,QueryDocumentSnapshot:ad,QuerySnapshot:vv,CollectionReference:mh,FieldPath:Eg,FieldValue:ld,setLogLevel:function ME(l){!function pn(l){Rt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function OE(l){(function NE(l,n){l.INTERNAL.registerComponent(new Ve.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(s,u)},"PUBLIC").setServiceProps(Object.assign({},PE)))})(l,(n,i)=>new _y(n,i,new RE)),l.registerVersion("@firebase/firestore-compat","0.3.36")}(ct.A);var Ey=P(7935);function xE(l,n){return function QA(l,n=Ce.E){return new xe.c(i=>{let s;return null!=n?n.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,n)}function _v(l,n){return xE(l,n).pipe((0,st.T)(i=>({payload:i,type:"query"})))}class Iy{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const s=this.ref.collection(n),{ref:u,query:p}=UE(s,i);return new Cy(u,p,this.afs)}snapshotChanges(){return function Ff(l,n){return xE(l,n).pipe((0,me.Z)(void 0),Ge(),(0,st.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,st.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,He.H)(this.ref.get(n)).pipe(J.U0)}}function Ig(l,n){return _v(l,n).pipe((0,me.Z)(void 0),Ge(),(0,st.T)(i=>{const[s,u]=i,p=u.payload.docChanges(),_=p.map(w=>({type:w.type,payload:w}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((w,x)=>{const W=p.find(Pe=>Pe.doc.ref.isEqual(w.ref)),fe=null==s?void 0:s.payload.docs.find(Pe=>Pe.ref.isEqual(w.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(w.metadata)||!W&&fe&&JSON.stringify(fe.metadata)===JSON.stringify(w.metadata)||_.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:w}})}),_}))}function yv(l,n,i){return Ig(l,i).pipe((0,_t.S)((s,u)=>function kE(l,n,i){return n.forEach(s=>{i.indexOf(s.type)>-1&&(l=function FE(l,n){switch(n.type){case"added":if(!l[n.newIndex]||!l[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ev(l,n.newIndex,0,n);break;case"modified":if(null==l[n.oldIndex]||l[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=l.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return Ev(l,n.newIndex,1,n)}break;case"removed":if(l[n.oldIndex]&&l[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ev(l,n.oldIndex,1)}return l}(l,s))}),l}(s,u.map(p=>p.payload),n),[]),(0,ft.F)(),(0,st.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Ev(l,n,i,...s){const u=l.slice();return u.splice(n,i,...s),u}function Ay(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class Cy{constructor(n,i,s){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=s}stateChanges(n){let i=Ig(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,st.T)(s=>s.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,me.Z)(void 0),Ge(),(0,tt.p)(([s,u])=>u.length>0||!s),(0,st.T)(([,s])=>s),J.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,_t.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=Ay(n);return yv(this.query,i,this.afs.schedulers.outsideAngular).pipe(J.U0)}valueChanges(n={}){return _v(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(i=>i.payload.docs.map(s=>n.idField?{...s.data(),[n.idField]:s.id}:s.data())),J.U0)}get(n){return(0,He.H)(this.query.get(n)).pipe(J.U0)}add(n){return this.ref.add(n)}doc(n){return new Iy(this.ref.doc(n),this.afs)}}class LE{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?Ig(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(i=>i.filter(s=>n.indexOf(s.type)>-1)),(0,tt.p)(i=>i.length>0),J.U0):Ig(this.query,this.afs.schedulers.outsideAngular).pipe(J.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,_t.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=Ay(n);return yv(this.query,i,this.afs.schedulers.outsideAngular).pipe(J.U0)}valueChanges(n={}){return _v(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(s=>s.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),J.U0)}get(n){return(0,He.H)(this.query.get(n)).pipe(J.U0)}}const Ag=new Y.nKC("angularfire2.enableFirestorePersistence"),VE=new Y.nKC("angularfire2.firestore.persistenceSettings"),YA=new Y.nKC("angularfire2.firestore.settings"),Iv=new Y.nKC("angularfire2.firestore.use-emulator");function UE(l,n=i=>i){return{query:n(l),ref:l}}let BE=(()=>{var l;class n{constructor(s,u,p,_,w,x,W,fe,Pe,rt,St,un,An,_n,nr,gr,ar){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=W;const Sr=(0,le.iB)(s,x,u),Ei=Pe;rt&&(0,ce.gF)(Sr,x,St,An,_n,nr,un,gr),[this.firestore,this.persistenceEnabled$]=(0,le.BM)(`${Sr.name}.firestore`,"AngularFirestore",Sr.name,()=>{const Or=x.runOutsideAngular(()=>Sr.firestore());if(_&&Or.settings(_),Ei&&Or.useEmulator(...Ei),p&&!(0,f.Vy)(w)){const Tt=()=>{try{return(0,He.H)(Or.enablePersistence(fe||void 0).then(()=>!0,()=>!1))}catch(et){return typeof console<"u"&&console.warn(et),(0,ye.of)(!1)}};return[Or,x.runOutsideAngular(Tt)]}return[Or,(0,ye.of)(!1)]},[_,Ei,p])}collection(s,u){let p;p="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:w}=UE(p,u),x=this.schedulers.ngZone.run(()=>_);return new Cy(x,w,this)}collectionGroup(s,u){const p=u||(w=>w),_=this.firestore.collectionGroup(s);return new LE(p(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const p=this.schedulers.ngZone.run(()=>u);return new Iy(p,this)}createId(){return this.firestore.collection("_").doc().id}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)(Y.KVO(le.rx),Y.KVO(le.uP,8),Y.KVO(Ag,8),Y.KVO(YA,8),Y.KVO(Y.Agw),Y.KVO(Y.SKi),Y.KVO(J.u0),Y.KVO(VE,8),Y.KVO(Iv,8),Y.KVO(ce.DS,8),Y.KVO(ce.CP,8),Y.KVO(ce.yy,8),Y.KVO(ce.ZP,8),Y.KVO(ce.$z,8),Y.KVO(ce.AU,8),Y.KVO(ce.UB,8),Y.KVO(J.Jv,8))}),(0,d.A)(n,"\u0275prov",Y.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),n})(),ZA=(()=>{var l;class n{constructor(){Ey.A.registerVersion("angularfire",J.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:n,providers:[{provide:Ag,useValue:!0},{provide:VE,useValue:s}]}}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)}),(0,d.A)(n,"\u0275mod",Y.$C({type:l})),(0,d.A)(n,"\u0275inj",Y.G2t({providers:[BE]})),n})()},9253:(gn,mt,P)=>{"use strict";P.d(mt,{BM:()=>st,Gt:()=>ce,bf:()=>Ge,e7:()=>Ce,iB:()=>me,rx:()=>He,uP:()=>ye});var d=P(9842),f=P(3953),Y=P(5407),J=P(7935);const le=["ngOnDestroy"],ce=(pt,ct,Ee,Ne={})=>new Proxy(pt,{get:(Ve,nt)=>Ee.runOutsideAngular(()=>{var Je;if(pt[nt])return null!=Ne&&null!==(Je=Ne.spy)&&void 0!==Je&&Je.get&&Ne.spy.get(nt,pt[nt]),pt[nt];if(le.indexOf(nt)>-1)return()=>{};const qe=ct.toPromise().then(Se=>{const Me=null==Se?void 0:Se[nt];return"function"==typeof Me?Me.bind(Se):null!=Me&&Me.then?Me.then(kt=>Ee.run(()=>kt)):Ee.run(()=>Me)});return new Proxy(()=>{},{get:(Se,Me)=>qe[Me],apply:(Se,Me,kt)=>qe.then(Vt=>{var hn;const qt=null==Vt?void 0:Vt(...kt);return null!=Ne&&null!==(hn=Ne.spy)&&void 0!==hn&&hn.apply&&Ne.spy.apply(nt,kt,qt),qt})})})}),Ce=(pt,ct)=>{ct.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Ne=>{Object.defineProperty(pt.prototype,Ne,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Ne))})})};class xe{constructor(ct){return ct}}const He=new f.nKC("angularfire2.app.options"),ye=new f.nKC("angularfire2.app.name");function me(pt,ct,Ee){const Ve="object"==typeof Ee&&Ee||{};Ve.name=Ve.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const Je=J.A.apps.filter(qe=>qe&&qe.name===Ve.name)[0]||ct.runOutsideAngular(()=>J.A.initializeApp(pt,Ve));try{if(JSON.stringify(pt)!==JSON.stringify(Je.options)){const qe=!!module.hot;ze("error",`${Je.name} Firebase App already initialized with different options${qe?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xe(Je)}const ze=(pt,...ct)=>{(0,f.naY)()&&typeof console<"u"&&console[pt](...ct)},Ke={provide:xe,useFactory:me,deps:[He,f.SKi,[new f.Xx1,ye]]};let Ge=(()=>{var pt;class ct{static initializeApp(Ne,Ve){return{ngModule:ct,providers:[{provide:He,useValue:Ne},{provide:ye,useValue:Ve}]}}constructor(Ne){J.A.registerVersion("angularfire",Y.xv.full,"core"),J.A.registerVersion("angularfire",Y.xv.full,"app-compat"),J.A.registerVersion("angular",f.xvI.full,Ne.toString())}}return pt=ct,(0,d.A)(ct,"\u0275fac",function(Ne){return new(Ne||pt)(f.KVO(f.Agw))}),(0,d.A)(ct,"\u0275mod",f.$C({type:pt})),(0,d.A)(ct,"\u0275inj",f.G2t({providers:[Ke]})),ct})();function st(pt,ct,Ee,Ne,Ve){const[,nt,Je]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===pt)||[];if(nt)return function _t(pt,ct){try{return pt.toString()===ct.toString()}catch{return pt===ct}}(Ve,Je)||(tt("error",`${ct} was already initialized on the ${Ee} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Ve,was:Je})),nt;{const qe=Ne();return globalThis.\u0275AngularfireInstanceCache.push([pt,qe,Ve]),qe}}const ft=typeof module<"u"&&!!module.hot,tt=(pt,...ct)=>{(0,f.naY)()&&typeof console<"u"&&console[pt](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(gn,mt,P)=>{"use strict";P.d(mt,{xv:()=>Ge,U0:()=>kt,u0:()=>Ve,Jv:()=>tt});var d=P(9842),f=P(3953),Y=P(2214),J=P(6780),ce=P(9687);const xe=new class Ce extends ce.q{}(class le extends J.R{constructor(dt,be){super(dt,be),this.scheduler=dt,this.work=be}schedule(dt,be=0){return be>0?super.schedule(dt,be):(this.delay=be,this.state=dt,this.scheduler.flush(this),this)}execute(dt,be){return be>0||this.closed?super.execute(dt,be):this._execute(dt,be)}requestAsyncId(dt,be,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(dt,be,Z):(dt.flush(this),0)}});var ye=P(3236),me=P(8141),ze=P(6745),Ke=P(941);const Ge=new f.RxE("ANGULARFIRE2_VERSION");class tt{constructor(){return(sn=>{const be=(0,Y.Dk)(),Z=[];return be.forEach(ee=>{ee.container.getProvider(sn).instances.forEach(Te=>{Z.includes(Te)||Z.push(Te)})}),Z})(pt)}}const pt="app-check";function ct(){}class Ee{constructor(dt,be=xe){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=dt,this.delegate=be}now(){return this.delegate.now()}schedule(dt,be,Z){const ee=this.zone;return this.delegate.schedule(function(Te){ee.runGuarded(()=>{dt.apply(this,[Te])})},be,Z)}}class Ne{constructor(dt){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=dt}call(dt,be){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct)),be.pipe((0,me.M)({next:Z,complete:Z,error:Z})).subscribe(dt).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{var sn;class dt{constructor(Z){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Ee(Zone.current)),this.insideAngular=Z.run(()=>new Ee(Zone.current,ye.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return sn=dt,(0,d.A)(dt,"\u0275fac",function(Z){return new(Z||sn)(f.KVO(f.SKi))}),(0,d.A)(dt,"\u0275prov",f.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})),dt})();function kt(sn){return function Vt(sn){return function(be){return(be=be.lift(new Ne(sn.ngZone))).pipe((0,ze._)(sn.outsideAngular),(0,Ke.Q)(sn.insideAngular))}}(function nt(){const sn=globalThis.\u0275AngularFireScheduler;if(!sn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return sn}())(sn)}},4341:(gn,mt,P)=>{"use strict";P.d(mt,{YN:()=>_l,zX:()=>lo,VZ:()=>So,cz:()=>Je,kq:()=>_t,vO:()=>on,BC:()=>Cn,cb:()=>Qt,cV:()=>Pi,vS:()=>Nr,YS:()=>zo,qT:()=>As});var d=P(3953),f=P(177),Y=P(8455),J=P(1985),le=P(3073),ce=P(8750),Ce=P(9326),xe=P(4360),He=P(6450),ye=P(8496),ze=P(1413),Ke=P(6354);let Ge=(()=>{var z;class M{constructor($,ue){this._renderer=$,this._elementRef=ue,this.onChange=ln=>{},this.onTouched=()=>{}}setProperty($,ue){this._renderer.setProperty(this._elementRef.nativeElement,$,ue)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return(z=M).\u0275fac=function($){return new($||z)(d.rXU(d.sFG),d.rXU(d.aKT))},z.\u0275dir=d.FsC({type:z}),M})(),st=(()=>{var z;class M extends Ge{}return(z=M).\u0275fac=(()=>{let te;return function(ue){return(te||(te=d.xGo(z)))(ue||z)}})(),z.\u0275dir=d.FsC({type:z,features:[d.Vt3]}),M})();const _t=new d.nKC(""),pt={provide:_t,useExisting:(0,d.Rfq)(()=>Ne),multi:!0},Ee=new d.nKC("");let Ne=(()=>{var z;class M extends Ge{constructor($,ue,ln){super($,ue),this._compositionMode=ln,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ct(){const z=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue($){this.setProperty("value",null==$?"":$)}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return(z=M).\u0275fac=function($){return new($||z)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Ee,8))},z.\u0275dir=d.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ue){1&$&&d.bIt("input",function(Zn){return ue._handleInput(Zn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(Zn){return ue._compositionEnd(Zn.target.value)})},features:[d.Jv_([pt]),d.Vt3]}),M})();function Ve(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}const Je=new d.nKC(""),qe=new d.nKC("");function hn(z){return Ve(z.value)?{required:!0}:null}function ee(z){return null}function ae(z){return null!=z}function Te(z){return(0,d.jNT)(z)?(0,Y.H)(z):z}function ut(z){let M={};return z.forEach(te=>{M=null!=te?{...M,...te}:M}),0===Object.keys(M).length?null:M}function Xe(z,M){return M.map(te=>te(z))}function zt(z){return z.map(M=>function Qe(z){return!z.validate}(M)?M:te=>M.validate(te))}function Nt(z){return null!=z?function Rt(z){if(!z)return null;const M=z.filter(ae);return 0==M.length?null:function(te){return ut(Xe(te,M))}}(zt(z)):null}function Ct(z){return null!=z?function pn(z){if(!z)return null;const M=z.filter(ae);return 0==M.length?null:function(te){return function me(...z){const M=(0,Ce.ms)(z),{args:te,keys:$}=(0,le.D)(z),ue=new J.c(ln=>{const{length:Zn}=te;if(!Zn)return void ln.complete();const yi=new Array(Zn);let zi=Zn,co=Zn;for(let Er=0;Er<Zn;Er++){let ho=!1;(0,ce.Tg)(te[Er]).subscribe((0,xe._)(ln,Bo=>{ho||(ho=!0,co--),yi[Er]=Bo},()=>zi--,void 0,()=>{(!zi||!ho)&&(co||ln.next($?(0,ye.e)($,yi):yi),ln.complete())}))}});return M?ue.pipe((0,He.I)(M)):ue}(Xe(te,M).map(Te)).pipe((0,Ke.T)(ut))}}(zt(z)):null}function On(z,M){return null===z?[M]:Array.isArray(z)?[...z,M]:[z,M]}function Bt(z){return z?Array.isArray(z)?z:[z]:[]}function rn(z,M){return Array.isArray(z)?z.includes(M):z===M}function Xn(z,M){const te=Bt(M);return Bt(z).forEach(ue=>{rn(te,ue)||te.push(ue)}),te}function lt(z,M){return Bt(M).filter(te=>!rn(z,te))}class De{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,te){return!!this.control&&this.control.hasError(M,te)}getError(M,te){return this.control?this.control.getError(M,te):null}}class Fe extends De{get formDirective(){return null}get path(){return null}}class on extends De{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ln{constructor(M){this._cd=M}get isTouched(){var M,te,$;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(te=M._touched)||void 0===te||te.call(M),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.touched)}get isUntouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.untouched)}get isPristine(){var M,te,$;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(te=M._pristine)||void 0===te||te.call(M),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.pristine)}get isDirty(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.dirty)}get isValid(){var M,te,$;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(te=M._status)||void 0===te||te.call(M),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.valid)}get isInvalid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.invalid)}get isPending(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pending)}get isSubmitted(){var M,te,$;return null===(M=this._cd)||void 0===M||null===(te=M._submitted)||void 0===te||te.call(M),!(null===($=this._cd)||void 0===$||!$.submitted)}}let Cn=(()=>{var z;class M extends Ln{constructor($){super($)}}return(z=M).\u0275fac=function($){return new($||z)(d.rXU(on,2))},z.\u0275dir=d.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ue){2&$&&d.AVh("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[d.Vt3]}),M})(),Qt=(()=>{var z;class M extends Ln{constructor($){super($)}}return(z=M).\u0275fac=function($){return new($||z)(d.rXU(Fe,10))},z.\u0275dir=d.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ue){2&$&&d.AVh("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[d.Vt3]}),M})();const gt="VALID",it="INVALID",ve="PENDING",Q="DISABLED";class ne{}class Oe extends ne{constructor(M,te){super(),this.value=M,this.source=te}}class Et extends ne{constructor(M,te){super(),this.pristine=M,this.source=te}}class ot extends ne{constructor(M,te){super(),this.touched=M,this.source=te}}class Jt extends ne{constructor(M,te){super(),this.status=M,this.source=te}}function Fr(z){return(vr(z)?z.validators:z)||null}function It(z,M){return(vr(M)?M.asyncValidators:z)||null}function vr(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class Zi{constructor(M,te){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new ze.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(te)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(M){(0,d.O8t)(()=>this.statusReactive.set(M))}get valid(){return this.status===gt}get invalid(){return this.status===it}get pending(){return this.status==ve}get disabled(){return this.status===Q}get enabled(){return this.status!==Q}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(M){(0,d.O8t)(()=>this.pristineReactive.set(M))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(M){(0,d.O8t)(()=>this.touchedReactive.set(M))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Xn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Xn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(lt(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(lt(M,this._rawAsyncValidators))}hasValidator(M){return rn(this._rawValidators,M)}hasAsyncValidator(M){return rn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){var te;const $=!1===this.touched;this.touched=!0;const ue=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:ue}),$&&!1!==M.emitEvent&&this._events.next(new ot(!0,ue))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(te=>te.markAllAsTouched(M))}markAsUntouched(M={}){var te;const $=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ue=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._forEachChild(ln=>{ln.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:ue})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,ue),$&&!1!==M.emitEvent&&this._events.next(new ot(!1,ue))}markAsDirty(M={}){var te;const $=!0===this.pristine;this.pristine=!1;const ue=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:ue}),$&&!1!==M.emitEvent&&this._events.next(new Et(!1,ue))}markAsPristine(M={}){var te;const $=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ue=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._forEachChild(ln=>{ln.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,ue),$&&!1!==M.emitEvent&&this._events.next(new Et(!0,ue))}markAsPending(M={}){var te;this.status=ve;const $=null!==(te=M.sourceControl)&&void 0!==te?te:this;!1!==M.emitEvent&&(this._events.next(new Jt(this.status,$)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:$})}disable(M={}){var te;const $=this._parentMarkedDirty(M.onlySelf);this.status=Q,this.errors=null,this._forEachChild(ln=>{ln.disable({...M,onlySelf:!0})}),this._updateValue();const ue=null!==(te=M.sourceControl)&&void 0!==te?te:this;!1!==M.emitEvent&&(this._events.next(new Oe(this.value,ue)),this._events.next(new Jt(this.status,ue)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:$},this),this._onDisabledChange.forEach(ln=>ln(!0))}enable(M={}){const te=this._parentMarkedDirty(M.onlySelf);this.status=gt,this._forEachChild($=>{$.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:te},this),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(M,te){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},te),this._parent._updateTouched({},te))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){var te;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ue=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gt||this.status===ve)&&this._runAsyncValidator(ue,M.emitEvent)}const $=null!==(te=M.sourceControl)&&void 0!==te?te:this;!1!==M.emitEvent&&(this._events.next(new Oe(this.value,$)),this._events.next(new Jt(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:$})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(te=>te._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q:gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,te){if(this.asyncValidator){this.status=ve,this._hasOwnPendingAsyncValidator={emitEvent:!1!==te};const $=Te(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(ue=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ue,{emitEvent:te,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var M,te;this._asyncValidationSubscription.unsubscribe();const $=null!==(M=null===(te=this._hasOwnPendingAsyncValidator)||void 0===te?void 0:te.emitEvent)&&void 0!==M&&M;return this._hasOwnPendingAsyncValidator=null,$}return!1}setErrors(M,te={}){this.errors=M,this._updateControlsErrors(!1!==te.emitEvent,this,te.shouldHaveEmitted)}get(M){let te=M;return null==te||(Array.isArray(te)||(te=te.split(".")),0===te.length)?null:te.reduce(($,ue)=>$&&$._find(ue),this)}getError(M,te){const $=te?this.get(te):this;return $&&$.errors?$.errors[M]:null}hasError(M,te){return!!this.getError(M,te)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,te,$){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||$)&&this._events.next(new Jt(this.status,te)),this._parent&&this._parent._updateControlsErrors(M,te,$)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?Q:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(it)?it:gt}_anyControlsHaveStatus(M){return this._anyControls(te=>te.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,te){const $=!this._anyControlsDirty(),ue=this.pristine!==$;this.pristine=$,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,te),ue&&this._events.next(new Et(this.pristine,te))}_updateTouched(M={},te){this.touched=this._anyControlsTouched(),this._events.next(new ot(this.touched,te)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,te)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){vr(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function xr(z){return Array.isArray(z)?Nt(z):z||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function Kn(z){return Array.isArray(z)?Ct(z):z||null}(this._rawAsyncValidators)}}class hi extends Zi{constructor(M,te,$){super(Fr(te),It($,te)),this.controls=M,this._initObservables(),this._setUpdateStrategy(te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,te){return this.controls[M]?this.controls[M]:(this.controls[M]=te,te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange),te)}addControl(M,te,$={}){this.registerControl(M,te),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(M,te={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}setControl(M,te,$={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],te&&this.registerControl(M,te),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,te={}){(function $i(z,M,te){z._forEachChild(($,ue)=>{if(void 0===te[ue])throw new d.wOt(1002,"")})})(this,0,M),Object.keys(M).forEach($=>{(function _i(z,M,te){const $=z.controls;if(!(M?Object.keys($):$).length)throw new d.wOt(1e3,"");if(!$[te])throw new d.wOt(1001,"")})(this,!0,$),this.controls[$].setValue(M[$],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te)}patchValue(M,te={}){null!=M&&(Object.keys(M).forEach($=>{const ue=this.controls[$];ue&&ue.patchValue(M[$],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te))}reset(M={},te={}){this._forEachChild(($,ue)=>{$.reset(M?M[ue]:null,{onlySelf:!0,emitEvent:te.emitEvent})}),this._updatePristine(te,this),this._updateTouched(te,this),this.updateValueAndValidity(te)}getRawValue(){return this._reduceChildren({},(M,te,$)=>(M[$]=te.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(te,$)=>!!$._syncPendingControls()||te);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(te=>{const $=this.controls[te];$&&M($,te)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[te,$]of Object.entries(this.controls))if(this.contains(te)&&M($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(te,$,ue)=>(($.enabled||this.disabled)&&(te[ue]=$.value),te))}_reduceChildren(M,te){let $=M;return this._forEachChild((ue,ln)=>{$=te($,ue,ln)}),$}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}const je=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>_e}),_e="always";function oe(z,M,te=_e){var $,ue;an(z,M),M.valueAccessor.writeValue(z.value),(z.disabled||"always"===te)&&(null===($=(ue=M.valueAccessor).setDisabledState)||void 0===$||$.call(ue,z.disabled)),function sr(z,M){M.valueAccessor.registerOnChange(te=>{z._pendingValue=te,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&pi(z,M)})}(z,M),function Lr(z,M){const te=($,ue)=>{M.valueAccessor.writeValue($),ue&&M.viewToModelUpdate($)};z.registerOnChange(te),M._registerOnDestroy(()=>{z._unregisterOnChange(te)})}(z,M),function Bn(z,M){M.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&pi(z,M),"submit"!==z.updateOn&&z.markAsTouched()})}(z,M),function Pt(z,M){if(M.valueAccessor.setDisabledState){const te=$=>{M.valueAccessor.setDisabledState($)};z.registerOnDisabledChange(te),M._registerOnDestroy(()=>{z._unregisterOnDisabledChange(te)})}}(z,M)}function Le(z,M){z.forEach(te=>{te.registerOnValidatorChange&&te.registerOnValidatorChange(M)})}function an(z,M){const te=function Nn(z){return z._rawValidators}(z);null!==M.validator?z.setValidators(On(te,M.validator)):"function"==typeof te&&z.setValidators([te]);const $=function Gn(z){return z._rawAsyncValidators}(z);null!==M.asyncValidator?z.setAsyncValidators(On($,M.asyncValidator)):"function"==typeof $&&z.setAsyncValidators([$]);const ue=()=>z.updateValueAndValidity();Le(M._rawValidators,ue),Le(M._rawAsyncValidators,ue)}function pi(z,M){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}const es={provide:Fe,useExisting:(0,d.Rfq)(()=>Pi)},Co=Promise.resolve();let Pi=(()=>{var z;class M extends Fe{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor($,ue,ln){super(),this.callSetDisabledState=ln,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new hi({},Nt($),Ct(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){Co.then(()=>{const ue=this._findContainer($.path);$.control=ue.registerControl($.name,$.control),oe($.control,$,this.callSetDisabledState),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){Co.then(()=>{const ue=this._findContainer($.path);ue&&ue.removeControl($.name),this._directives.delete($)})}addFormGroup($){Co.then(()=>{const ue=this._findContainer($.path),ln=new hi({});(function ur(z,M){an(z,M)})(ln,$),ue.registerControl($.name,ln),ln.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){Co.then(()=>{const ue=this._findContainer($.path);ue&&ue.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,ue){Co.then(()=>{this.form.get($.path).setValue(ue)})}setValue($){this.control.setValue($)}onSubmit($){var ue;return this.submittedReactive.set(!0),function _o(z,M){z._syncPendingControls(),M.forEach(te=>{const $=te.control;"submit"===$.updateOn&&$._pendingChange&&(te.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(ue=$.target)||void 0===ue?void 0:ue.method)}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return(z=M).\u0275fac=function($){return new($||z)(d.rXU(Je,10),d.rXU(qe,10),d.rXU(je,8))},z.\u0275dir=d.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ue){1&$&&d.bIt("submit",function(Zn){return ue.onSubmit(Zn)})("reset",function(){return ue.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([es]),d.Vt3]}),M})();function Bs(z,M){const te=z.indexOf(M);te>-1&&z.splice(te,1)}function To(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const jo=class extends Zi{constructor(M=null,te,$){super(Fr(te),It($,te)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(te),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vr(te)&&(te.nonNullable||te.initialValueIsDefault)&&(this.defaultValue=To(M)?M.value:M)}setValue(M,te={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==te.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==te.emitViewToModelChange)),this.updateValueAndValidity(te)}patchValue(M,te={}){this.setValue(M,te)}reset(M=this.defaultValue,te={}){this._applyFormState(M),this.markAsPristine(te),this.markAsUntouched(te),this.setValue(this.value,te),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Bs(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Bs(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){To(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},bo={provide:on,useExisting:(0,d.Rfq)(()=>Nr)},Ti=Promise.resolve();let Nr=(()=>{var z;class M extends on{constructor($,ue,ln,Zn,yi,zi){super(),this._changeDetectorRef=yi,this.callSetDisabledState=zi,this.control=new jo,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=$,this._setValidators(ue),this._setAsyncValidators(ln),this.valueAccessor=function ko(z,M){if(!M)return null;let te,$,ue;return Array.isArray(M),M.forEach(ln=>{ln.constructor===Ne?te=ln:function $o(z){return Object.getPrototypeOf(z.constructor)===st}(ln)?$=ln:ue=ln}),ue||$||te||null}(0,Zn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const ue=$.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),function Vi(z,M){if(!z.hasOwnProperty("model"))return!1;const te=z.model;return!!te.isFirstChange()||!Object.is(M,te.currentValue)}($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){Ti.then(()=>{var ue;this.control.setValue($,{emitViewToModelChange:!1}),null===(ue=this._changeDetectorRef)||void 0===ue||ue.markForCheck()})}_updateDisabled($){const ue=$.isDisabled.currentValue,ln=0!==ue&&(0,d.L39)(ue);Ti.then(()=>{var Zn;ln&&!this.control.disabled?this.control.disable():!ln&&this.control.disabled&&this.control.enable(),null===(Zn=this._changeDetectorRef)||void 0===Zn||Zn.markForCheck()})}_getPath($){return this._parent?function ht(z,M){return[...M.path,z]}($,this._parent):[$]}}return(z=M).\u0275fac=function($){return new($||z)(d.rXU(Fe,9),d.rXU(Je,10),d.rXU(qe,10),d.rXU(_t,10),d.rXU(d.gRc,8),d.rXU(je,8))},z.\u0275dir=d.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([bo]),d.Vt3,d.OA$]}),M})(),As=(()=>{var z;class M{}return(z=M).\u0275fac=function($){return new($||z)},z.\u0275dir=d.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})();function Lo(z){return"number"==typeof z?z:parseFloat(z)}let Vo=(()=>{var z;class M{constructor(){this._validator=ee}ngOnChanges($){if(this.inputName in $){const ue=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):ee,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return(z=M).\u0275fac=function($){return new($||z)},z.\u0275dir=d.FsC({type:z,features:[d.OA$]}),M})();const wo={provide:Je,useExisting:(0,d.Rfq)(()=>lo),multi:!0};let lo=(()=>{var z;class M extends Vo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=$=>Lo($),this.createValidator=$=>function Vt(z){return M=>{if(Ve(M.value)||Ve(z))return null;const te=parseFloat(M.value);return!isNaN(te)&&te>z?{max:{max:z,actual:M.value}}:null}}($)}}return(z=M).\u0275fac=(()=>{let te;return function(ue){return(te||(te=d.xGo(z)))(ue||z)}})(),z.\u0275dir=d.FsC({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($,ue){2&$&&d.BMQ("max",ue._enabled?ue.max:null)},inputs:{max:"max"},features:[d.Jv_([wo]),d.Vt3]}),M})();const Uo={provide:Je,useExisting:(0,d.Rfq)(()=>So),multi:!0};let So=(()=>{var z;class M extends Vo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>Lo($),this.createValidator=$=>function kt(z){return M=>{if(Ve(M.value)||Ve(z))return null;const te=parseFloat(M.value);return!isNaN(te)&&te<z?{min:{min:z,actual:M.value}}:null}}($)}}return(z=M).\u0275fac=(()=>{let te;return function(ue){return(te||(te=d.xGo(z)))(ue||z)}})(),z.\u0275dir=d.FsC({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,ue){2&$&&d.BMQ("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[d.Jv_([Uo]),d.Vt3]}),M})();const va={provide:Je,useExisting:(0,d.Rfq)(()=>zo),multi:!0};let zo=(()=>{var z;class M extends Vo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=$=>hn}enabled($){return $}}return(z=M).\u0275fac=(()=>{let te;return function(ue){return(te||(te=d.xGo(z)))(ue||z)}})(),z.\u0275dir=d.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ue){2&$&&d.BMQ("required",ue._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([va]),d.Vt3]}),M})(),ms=(()=>{var z;class M{}return(z=M).\u0275fac=function($){return new($||z)},z.\u0275mod=d.$C({type:z}),z.\u0275inj=d.G2t({}),M})(),_l=(()=>{var z;class M{static withConfig($){var ue;return{ngModule:M,providers:[{provide:je,useValue:null!==(ue=$.callSetDisabledState)&&void 0!==ue?ue:_e}]}}}return(z=M).\u0275fac=function($){return new($||z)},z.\u0275mod=d.$C({type:z}),z.\u0275inj=d.G2t({imports:[ms]}),M})()},345:(gn,mt,P)=>{"use strict";P.d(mt,{Bb:()=>Bt,hE:()=>lt,sG:()=>Ct});var d=P(177),f=P(3953);class Y extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends Y{static makeCurrent(){(0,d.ZD)(new J)}onAndCancel(gt,it,ve){return gt.addEventListener(it,ve),()=>{gt.removeEventListener(it,ve)}}dispatchEvent(gt,it){gt.dispatchEvent(it)}remove(gt){gt.remove()}createElement(gt,it){return(it=it||this.getDefaultDocument()).createElement(gt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(gt){return gt.nodeType===Node.ELEMENT_NODE}isShadowRoot(gt){return gt instanceof DocumentFragment}getGlobalEventTarget(gt,it){return"window"===it?window:"document"===it?gt:"body"===it?gt.body:null}getBaseHref(gt){const it=function ce(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==it?null:function Ce(xt){return new URL(xt,document.baseURI).pathname}(it)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(gt){return(0,d._b)(document.cookie,gt)}}let le=null,He=(()=>{var xt;class gt{build(){return new XMLHttpRequest}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})();const ye=new f.nKC("");let me=(()=>{var xt;class gt{constructor(ve,Q){this._zone=Q,this._eventNameToPlugin=new Map,ve.forEach(ne=>{ne.manager=this}),this._plugins=ve.slice().reverse()}addEventListener(ve,Q,ne){return this._findPluginFor(Q).addEventListener(ve,Q,ne)}getZone(){return this._zone}_findPluginFor(ve){let Q=this._eventNameToPlugin.get(ve);if(Q)return Q;if(Q=this._plugins.find(Oe=>Oe.supports(ve)),!Q)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(ve,Q),Q}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(ye),f.KVO(f.SKi))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})();class ze{constructor(gt){this._doc=gt}}const Ke="ng-app-id";let Ge=(()=>{var xt;class gt{constructor(ve,Q,ne,Oe={}){this.doc=ve,this.appId=Q,this.nonce=ne,this.platformId=Oe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(Oe),this.resetHostNodes()}addStyles(ve){for(const Q of ve)1===this.changeUsageCount(Q,1)&&this.onStyleAdded(Q)}removeStyles(ve){for(const Q of ve)this.changeUsageCount(Q,-1)<=0&&this.onStyleRemoved(Q)}ngOnDestroy(){const ve=this.styleNodesInDOM;ve&&(ve.forEach(Q=>Q.remove()),ve.clear());for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.resetHostNodes()}addHost(ve){this.hostNodes.add(ve);for(const Q of this.getAllStyles())this.addStyleToHost(ve,Q)}removeHost(ve){this.hostNodes.delete(ve)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ve){for(const Q of this.hostNodes)this.addStyleToHost(Q,ve)}onStyleRemoved(ve){var Q;const ne=this.styleRef;null===(Q=ne.get(ve))||void 0===Q||null===(Q=Q.elements)||void 0===Q||Q.forEach(Oe=>Oe.remove()),ne.delete(ve)}collectServerRenderedStyles(){var ve;const Q=null===(ve=this.doc.head)||void 0===ve?void 0:ve.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(null!=Q&&Q.length){const ne=new Map;return Q.forEach(Oe=>{null!=Oe.textContent&&ne.set(Oe.textContent,Oe)}),ne}return null}changeUsageCount(ve,Q){const ne=this.styleRef;if(ne.has(ve)){const Oe=ne.get(ve);return Oe.usage+=Q,Oe.usage}return ne.set(ve,{usage:Q,elements:[]}),Q}getStyleElement(ve,Q){const ne=this.styleNodesInDOM,Oe=null==ne?void 0:ne.get(Q);if((null==Oe?void 0:Oe.parentNode)===ve)return ne.delete(Q),Oe.removeAttribute(Ke),Oe;{const Et=this.doc.createElement("style");return this.nonce&&Et.setAttribute("nonce",this.nonce),Et.textContent=Q,this.platformIsServer&&Et.setAttribute(Ke,this.appId),ve.appendChild(Et),Et}}addStyleToHost(ve,Q){var ne;const Oe=this.getStyleElement(ve,Q),Et=this.styleRef,ot=null===(ne=Et.get(Q))||void 0===ne?void 0:ne.elements;ot?ot.push(Oe):Et.set(Q,{elements:[Oe],usage:1})}resetHostNodes(){const ve=this.hostNodes;ve.clear(),ve.add(this.doc.head)}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(d.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_t=/%COMP%/g,Ee=new f.nKC("",{providedIn:"root",factory:()=>!0});function nt(xt,gt){return gt.map(it=>it.replace(_t,xt))}let Je=(()=>{var xt;class gt{constructor(ve,Q,ne,Oe,Et,ot,Jt,kn=null){this.eventManager=ve,this.sharedStylesHost=Q,this.appId=ne,this.removeStylesOnCompDestroy=Oe,this.doc=Et,this.platformId=ot,this.ngZone=Jt,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(ot),this.defaultRenderer=new qe(ve,Et,Jt,this.platformIsServer)}createRenderer(ve,Q){if(!ve||!Q)return this.defaultRenderer;this.platformIsServer&&Q.encapsulation===f.gXe.ShadowDom&&(Q={...Q,encapsulation:f.gXe.Emulated});const ne=this.getOrCreateRenderer(ve,Q);return ne instanceof qt?ne.applyToHost(ve):ne instanceof hn&&ne.applyStyles(),ne}getOrCreateRenderer(ve,Q){const ne=this.rendererByCompId;let Oe=ne.get(Q.id);if(!Oe){const Et=this.doc,ot=this.ngZone,Jt=this.eventManager,kn=this.sharedStylesHost,Fn=this.removeStylesOnCompDestroy,Fr=this.platformIsServer;switch(Q.encapsulation){case f.gXe.Emulated:Oe=new qt(Jt,kn,Q,this.appId,Fn,Et,ot,Fr);break;case f.gXe.ShadowDom:return new Vt(Jt,kn,ve,Q,Et,ot,this.nonce,Fr);default:Oe=new hn(Jt,kn,Q,Fn,Et,ot,Fr)}ne.set(Q.id,Oe)}return Oe}ngOnDestroy(){this.rendererByCompId.clear()}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(me),f.KVO(Ge),f.KVO(f.sZ2),f.KVO(Ee),f.KVO(d.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})();class qe{constructor(gt,it,ve,Q){this.eventManager=gt,this.doc=it,this.ngZone=ve,this.platformIsServer=Q,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(gt,it){return it?this.doc.createElementNS(st[it]||it,gt):this.doc.createElement(gt)}createComment(gt){return this.doc.createComment(gt)}createText(gt){return this.doc.createTextNode(gt)}appendChild(gt,it){(kt(gt)?gt.content:gt).appendChild(it)}insertBefore(gt,it,ve){gt&&(kt(gt)?gt.content:gt).insertBefore(it,ve)}removeChild(gt,it){it.remove()}selectRootElement(gt,it){let ve="string"==typeof gt?this.doc.querySelector(gt):gt;if(!ve)throw new f.wOt(-5104,!1);return it||(ve.textContent=""),ve}parentNode(gt){return gt.parentNode}nextSibling(gt){return gt.nextSibling}setAttribute(gt,it,ve,Q){if(Q){it=Q+":"+it;const ne=st[Q];ne?gt.setAttributeNS(ne,it,ve):gt.setAttribute(it,ve)}else gt.setAttribute(it,ve)}removeAttribute(gt,it,ve){if(ve){const Q=st[ve];Q?gt.removeAttributeNS(Q,it):gt.removeAttribute(`${ve}:${it}`)}else gt.removeAttribute(it)}addClass(gt,it){gt.classList.add(it)}removeClass(gt,it){gt.classList.remove(it)}setStyle(gt,it,ve,Q){Q&(f.czy.DashCase|f.czy.Important)?gt.style.setProperty(it,ve,Q&f.czy.Important?"important":""):gt.style[it]=ve}removeStyle(gt,it,ve){ve&f.czy.DashCase?gt.style.removeProperty(it):gt.style[it]=""}setProperty(gt,it,ve){null!=gt&&(gt[it]=ve)}setValue(gt,it){gt.nodeValue=it}listen(gt,it,ve){if("string"==typeof gt&&!(gt=(0,d.QT)().getGlobalEventTarget(this.doc,gt)))throw new Error(`Unsupported event target ${gt} for event ${it}`);return this.eventManager.addEventListener(gt,it,this.decoratePreventDefault(ve))}decoratePreventDefault(gt){return it=>{if("__ngUnwrap__"===it)return gt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>gt(it)):gt(it))&&it.preventDefault()}}}function kt(xt){return"TEMPLATE"===xt.tagName&&void 0!==xt.content}class Vt extends qe{constructor(gt,it,ve,Q,ne,Oe,Et,ot){super(gt,ne,Oe,ot),this.sharedStylesHost=it,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jt=nt(Q.id,Q.styles);for(const kn of Jt){const Fn=document.createElement("style");Et&&Fn.setAttribute("nonce",Et),Fn.textContent=kn,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(gt){return gt===this.hostEl?this.shadowRoot:gt}appendChild(gt,it){return super.appendChild(this.nodeOrShadowRoot(gt),it)}insertBefore(gt,it,ve){return super.insertBefore(this.nodeOrShadowRoot(gt),it,ve)}removeChild(gt,it){return super.removeChild(null,it)}parentNode(gt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(gt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hn extends qe{constructor(gt,it,ve,Q,ne,Oe,Et,ot){super(gt,ne,Oe,Et),this.sharedStylesHost=it,this.removeStylesOnCompDestroy=Q,this.styles=ot?nt(ot,ve.styles):ve.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends hn{constructor(gt,it,ve,Q,ne,Oe,Et,ot){const Jt=Q+"-"+ve.id;super(gt,it,ve,ne,Oe,Et,ot,Jt),this.contentAttr=function Ne(xt){return"_ngcontent-%COMP%".replace(_t,xt)}(Jt),this.hostAttr=function Ve(xt){return"_nghost-%COMP%".replace(_t,xt)}(Jt)}applyToHost(gt){this.applyStyles(),this.setAttribute(gt,this.hostAttr,"")}createElement(gt,it){const ve=super.createElement(gt,it);return super.setAttribute(ve,this.contentAttr,""),ve}}let sn=(()=>{var xt;class gt extends ze{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Q,ne){return ve.addEventListener(Q,ne,!1),()=>this.removeEventListener(ve,Q,ne)}removeEventListener(ve,Q,ne){return ve.removeEventListener(Q,ne)}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(d.qQ))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})(),dt=(()=>{var xt;class gt extends ze{constructor(ve){super(ve),this.delegate=(0,f.WQX)(f.zAP,{optional:!0})}supports(ve){return!!this.delegate&&this.delegate.supports(ve)}addEventListener(ve,Q,ne){return this.delegate.addEventListener(ve,Q,ne)}removeEventListener(ve,Q,ne){return this.delegate.removeEventListener(ve,Q,ne)}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(d.qQ))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})();const be=["alt","control","meta","shift"],Z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ee={alt:xt=>xt.altKey,control:xt=>xt.ctrlKey,meta:xt=>xt.metaKey,shift:xt=>xt.shiftKey};let ae=(()=>{var xt;class gt extends ze{constructor(ve){super(ve)}supports(ve){return null!=gt.parseEventName(ve)}addEventListener(ve,Q,ne){const Oe=gt.parseEventName(Q),Et=gt.eventCallback(Oe.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(ve,Oe.domEventName,Et))}static parseEventName(ve){const Q=ve.toLowerCase().split("."),ne=Q.shift();if(0===Q.length||"keydown"!==ne&&"keyup"!==ne)return null;const Oe=gt._normalizeKey(Q.pop());let Et="",ot=Q.indexOf("code");if(ot>-1&&(Q.splice(ot,1),Et="code."),be.forEach(kn=>{const Fn=Q.indexOf(kn);Fn>-1&&(Q.splice(Fn,1),Et+=kn+".")}),Et+=Oe,0!=Q.length||0===Oe.length)return null;const Jt={};return Jt.domEventName=ne,Jt.fullKey=Et,Jt}static matchEventFullKeyCode(ve,Q){let ne=Z[ve.key]||ve.key,Oe="";return Q.indexOf("code.")>-1&&(ne=ve.code,Oe="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),be.forEach(Et=>{Et!==ne&&(0,ee[Et])(ve)&&(Oe+=Et+".")}),Oe+=ne,Oe===Q)}static eventCallback(ve,Q,ne){return Oe=>{gt.matchEventFullKeyCode(Oe,ve)&&ne.runGuarded(()=>Q(Oe))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(d.qQ))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac}),gt})();const Ct=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:d.AJ},{provide:f.PLl,useValue:function zt(){J.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Nt(){return(0,f.TL$)(document),document},deps:[]}]),On=new f.nKC(""),Nn=[{provide:f.e01,useClass:class xe{addToWindow(gt){f.JZv.getAngularTestability=(ve,Q=!0)=>{const ne=gt.findTestabilityInTree(ve,Q);if(null==ne)throw new f.wOt(5103,!1);return ne},f.JZv.getAllAngularTestabilities=()=>gt.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>gt.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(ve=>{const Q=f.JZv.getAllAngularTestabilities();let ne=Q.length;const Oe=function(){ne--,0==ne&&ve()};Q.forEach(Et=>{Et.whenStable(Oe)})})}findTestabilityInTree(gt,it,ve){if(null==it)return null;const Q=gt.getTestability(it);return null!=Q?Q:ve?(0,d.QT)().isShadowRoot(it)?this.findTestabilityInTree(gt,it.host,!0):this.findTestabilityInTree(gt,it.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Gn=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function Rt(){return new f.zcH},deps:[]},{provide:ye,useClass:sn,multi:!0,deps:[d.qQ,f.SKi,f.Agw]},{provide:ye,useClass:ae,multi:!0,deps:[d.qQ]},{provide:ye,useClass:dt,multi:!0},Je,Ge,me,{provide:f._9s,useExisting:Je},{provide:d.N0,useClass:He,deps:[]},[]];let Bt=(()=>{var xt;class gt{constructor(ve){}static withServerTransition(ve){return{ngModule:gt,providers:[{provide:f.sZ2,useValue:ve.appId}]}}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(On,12))},xt.\u0275mod=f.$C({type:xt}),xt.\u0275inj=f.G2t({providers:[...Gn,...Nn],imports:[d.MD,f.Hbi]}),gt})(),lt=(()=>{var xt;class gt{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return(xt=gt).\u0275fac=function(ve){return new(ve||xt)(f.KVO(d.qQ))},xt.\u0275prov=f.jDH({token:xt,factory:xt.\u0275fac,providedIn:"root"}),gt})()},3225:(gn,mt,P)=>{"use strict";P.d(mt,{nX:()=>jt,Zp:()=>N,Z:()=>Li,Xk:()=>Nt,Kp:()=>wn,b:()=>$t,Ix:()=>bi,Wk:()=>Ie,iI:()=>ql,Sd:()=>tr});var d=P(3953),f=P(1985),Y=P(8071),le=P(8455),ce=P(7673),Ce=P(4412),xe=P(4572),He=P(9350),ye=P(8793),me=P(9030),ze=P(1203),Ke=P(8810),Ge=P(983),st=P(17),_t=P(1413),ft=P(8359),tt=P(177),pt=P(6354),ct=P(5558),Ee=P(6697),Ne=P(9172),Ve=P(5964),nt=P(1397),Je=P(1594);function qe(I,S){return(0,Y.T)(S)?(0,nt.Z)(I,S,1):(0,nt.Z)(I,1)}var Se=P(8141),Me=P(8750),kt=P(4360),Vt=P(9974);function hn(I){return(0,Vt.N)((S,O)=>{let he,b=null,L=!1;b=S.subscribe((0,kt._)(O,void 0,void 0,ge=>{he=(0,Me.Tg)(I(ge,hn(I)(S))),b?(b.unsubscribe(),b=null,he.subscribe(O)):L=!0})),L&&(b.unsubscribe(),b=null,he.subscribe(O))})}var qt=P(2816),sn=P(9901);function dt(I){return I<=0?()=>Ge.w:(0,Vt.N)((S,O)=>{let b=[];S.subscribe((0,kt._)(O,L=>{b.push(L),I<b.length&&b.shift()},()=>{for(const L of b)O.next(L);O.complete()},void 0,()=>{b=null}))})}var be=P(3774),Z=P(3669),ae=P(3703);function Te(I){return(0,Vt.N)((S,O)=>{try{S.subscribe(O)}finally{O.add(I)}})}var ut=P(9898),Xe=P(5343),zt=P(6365),Rt=P(345);const Nt="primary",pn=Symbol("RouteTitle");class Ct{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O[0]:O}return null}getAll(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function On(I){return new Ct(I)}function Nn(I,S,O){const b=O.path.split("/");if(b.length>I.length||"full"===O.pathMatch&&(S.hasChildren()||b.length<I.length))return null;const L={};for(let he=0;he<b.length;he++){const ge=b[he],Dt=I[he];if(":"===ge[0])L[ge.substring(1)]=Dt;else if(ge!==Dt.path)return null}return{consumed:I.slice(0,b.length),posParams:L}}function Bt(I,S){const O=I?rn(I):void 0,b=S?rn(S):void 0;if(!O||!b||O.length!=b.length)return!1;let L;for(let he=0;he<O.length;he++)if(L=O[he],!Xn(I[L],S[L]))return!1;return!0}function rn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function Xn(I,S){if(Array.isArray(I)&&Array.isArray(S)){if(I.length!==S.length)return!1;const O=[...I].sort(),b=[...S].sort();return O.every((L,he)=>b[he]===L)}return I===S}function lt(I){return I.length>0?I[I.length-1]:null}function De(I){return function J(I){return!!I&&(I instanceof f.c||(0,Y.T)(I.lift)&&(0,Y.T)(I.subscribe))}(I)?I:(0,d.jNT)(I)?(0,le.H)(Promise.resolve(I)):(0,ce.of)(I)}const Fe={exact:function Wn(I,S,O){if(!yn(I.segments,S.segments)||!Ur(I.segments,S.segments,O)||I.numberOfChildren!==S.numberOfChildren)return!1;for(const b in S.children)if(!I.children[b]||!Wn(I.children[b],S.children[b],O))return!1;return!0},subset:Qt},on={exact:function Qn(I,S){return Bt(I,S)},subset:function Cn(I,S){return Object.keys(S).length<=Object.keys(I).length&&Object.keys(S).every(O=>Xn(I[O],S[O]))},ignored:()=>!0};function Ln(I,S,O){return Fe[O.paths](I.root,S.root,O.matrixParams)&&on[O.queryParams](I.queryParams,S.queryParams)&&!("exact"===O.fragment&&I.fragment!==S.fragment)}function Qt(I,S,O){return zr(I,S,S.segments,O)}function zr(I,S,O,b){if(I.segments.length>O.length){const L=I.segments.slice(0,O.length);return!(!yn(L,O)||S.hasChildren()||!Ur(L,O,b))}if(I.segments.length===O.length){if(!yn(I.segments,O)||!Ur(I.segments,O,b))return!1;for(const L in S.children)if(!I.children[L]||!Qt(I.children[L],S.children[L],b))return!1;return!0}{const L=O.slice(0,I.segments.length),he=O.slice(I.segments.length);return!!(yn(I.segments,L)&&Ur(I.segments,L,b)&&I.children[Nt])&&zr(I.children[Nt],S,he,b)}}function Ur(I,S,O){return S.every((b,L)=>on[O](I[L].parameters,b.parameters))}class Ir{constructor(S=new cr([],{}),O={},b=null){this.root=S,this.queryParams=O,this.fragment=b}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class cr{constructor(S,O){this.segments=S,this.children=O,this.parent=null,Object.values(O).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return si(this)}}class jr{constructor(S,O){this.path=S,this.parameters=O}get parameterMap(){var S;return null!==(S=this._parameterMap)&&void 0!==S||(this._parameterMap=On(this.parameters)),this._parameterMap}toString(){return it(this)}}function yn(I,S){return I.length===S.length&&I.every((O,b)=>O.path===S[b].path)}let tr=(()=>{var I;class S{}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>new xn,providedIn:"root"}),S})();class xn{parse(S){const O=new xr(S);return new Ir(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(S){const O=`/${Jn(S.root,!0)}`,b=function Q(I){const S=Object.entries(I).map(([O,b])=>Array.isArray(b)?b.map(L=>`${lr(O)}=${lr(L)}`).join("&"):`${lr(O)}=${lr(b)}`).filter(O=>O);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${O}${b}${"string"==typeof S.fragment?`#${function mn(I){return encodeURI(I)}(S.fragment)}`:""}`}}const Rn=new xn;function si(I){return I.segments.map(S=>it(S)).join("/")}function Jn(I,S){if(!I.hasChildren())return si(I);if(S){const O=I.children[Nt]?Jn(I.children[Nt],!1):"",b=[];return Object.entries(I.children).forEach(([L,he])=>{L!==Nt&&b.push(`${L}:${Jn(he,!1)}`)}),b.length>0?`${O}(${b.join("//")})`:O}{const O=function Si(I,S){let O=[];return Object.entries(I.children).forEach(([b,L])=>{b===Nt&&(O=O.concat(S(L,b)))}),Object.entries(I.children).forEach(([b,L])=>{b!==Nt&&(O=O.concat(S(L,b)))}),O}(I,(b,L)=>L===Nt?[Jn(I.children[Nt],!1)]:[`${L}:${Jn(b,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Nt]?`${si(I)}/${O[0]}`:`${si(I)}/(${O.join("//")})`}}function Ci(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(I){return Ci(I).replace(/%3B/gi,";")}function oi(I){return Ci(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(I){return decodeURIComponent(I)}function gt(I){return xt(I.replace(/\+/g,"%20"))}function it(I){return`${oi(I.path)}${function ve(I){return Object.entries(I).map(([S,O])=>`;${oi(S)}=${oi(O)}`).join("")}(I.parameters)}`}const ne=/^[^\/()?;#]+/;function Oe(I){const S=I.match(ne);return S?S[0]:""}const Et=/^[^\/()?;=#]+/,Jt=/^[^=?&#]+/,Fn=/^[^&#]+/;class xr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cr([],{}):new cr([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(S.length>0||Object.keys(O).length>0)&&(b[Nt]=new cr(S,O)),b}parseSegment(){const S=Oe(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(S),new jr(xt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const O=function ot(I){const S=I.match(Et);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let b="";if(this.consumeOptional("=")){const L=Oe(this.remaining);L&&(b=L,this.capture(b))}S[xt(O)]=xt(b)}parseQueryParam(S){const O=function kn(I){const S=I.match(Jt);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let b="";if(this.consumeOptional("=")){const ge=function Fr(I){const S=I.match(Fn);return S?S[0]:""}(this.remaining);ge&&(b=ge,this.capture(b))}const L=gt(O),he=gt(b);if(S.hasOwnProperty(L)){let ge=S[L];Array.isArray(ge)||(ge=[ge],S[L]=ge),ge.push(he)}else S[L]=he}parseParens(S){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Oe(this.remaining),L=this.remaining[b.length];if("/"!==L&&")"!==L&&";"!==L)throw new d.wOt(4010,!1);let he;b.indexOf(":")>-1?(he=b.slice(0,b.indexOf(":")),this.capture(he),this.capture(":")):S&&(he=Nt);const ge=this.parseChildren();O[he]=1===Object.keys(ge).length?ge[Nt]:new cr([],ge),this.consumeOptional("//")}return O}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new d.wOt(4011,!1)}}function It(I){return I.segments.length>0?new cr([],{[Nt]:I}):I}function Kn(I){const S={};for(const[b,L]of Object.entries(I.children)){const he=Kn(L);if(b===Nt&&0===he.segments.length&&he.hasChildren())for(const[ge,Dt]of Object.entries(he.children))S[ge]=Dt;else(he.segments.length>0||he.hasChildren())&&(S[b]=he)}return function vr(I){if(1===I.numberOfChildren&&I.children[Nt]){const S=I.children[Nt];return new cr(I.segments.concat(S.segments),S.children)}return I}(new cr(I.segments,S))}function _i(I){return I instanceof Ir}function Zi(I){var S;let O;const he=It(function b(ge){const Dt={};for(const Mt of ge.children){const Pn=b(Mt);Dt[Mt.outlet]=Pn}const Zt=new cr(ge.url,Dt);return ge===I&&(O=Zt),Zt}(I.root));return null!==(S=O)&&void 0!==S?S:he}function hi(I,S,O,b){let L=I;for(;L.parent;)L=L.parent;if(0===S.length)return so(L,L,L,O,b);const he=function je(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new eo(!0,0,I);let S=0,O=!1;const b=I.reduce((L,he,ge)=>{if("object"==typeof he&&null!=he){if(he.outlets){const Dt={};return Object.entries(he.outlets).forEach(([Zt,Mt])=>{Dt[Zt]="string"==typeof Mt?Mt.split("/"):Mt}),[...L,{outlets:Dt}]}if(he.segmentPath)return[...L,he.segmentPath]}return"string"!=typeof he?[...L,he]:0===ge?(he.split("/").forEach((Dt,Zt)=>{0==Zt&&"."===Dt||(0==Zt&&""===Dt?O=!0:".."===Dt?S++:""!=Dt&&L.push(Dt))}),L):[...L,he]},[]);return new eo(O,S,b)}(S);if(he.toRoot())return so(L,L,new cr([],{}),O,b);const ge=function ht(I,S,O){if(I.isAbsolute)return new _e(S,!0,0);if(!O)return new _e(S,!1,NaN);if(null===O.parent)return new _e(O,!0,0);const b=Ki(I.commands[0])?0:1;return function oe(I,S,O){let b=I,L=S,he=O;for(;he>L;){if(he-=L,b=b.parent,!b)throw new d.wOt(4005,!1);L=b.segments.length}return new _e(b,!1,L-he)}(O,O.segments.length-1+b,I.numberOfDoubleDots)}(he,L,I),Dt=ge.processChildren?Pt(ge.segmentGroup,ge.index,he.commands):Le(ge.segmentGroup,ge.index,he.commands);return so(L,ge.segmentGroup,Dt,O,b)}function Ki(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function fi(I){return"object"==typeof I&&null!=I&&I.outlets}function so(I,S,O,b,L){let ge,he={};b&&Object.entries(b).forEach(([Zt,Mt])=>{he[Zt]=Array.isArray(Mt)?Mt.map(Pn=>`${Pn}`):`${Mt}`}),ge=I===S?O:Ji(I,S,O);const Dt=It(Kn(ge));return new Ir(Dt,he,L)}function Ji(I,S,O){const b={};return Object.entries(I.children).forEach(([L,he])=>{b[L]=he===S?O:Ji(he,S,O)}),new cr(I.segments,b)}class eo{constructor(S,O,b){if(this.isAbsolute=S,this.numberOfDoubleDots=O,this.commands=b,S&&b.length>0&&Ki(b[0]))throw new d.wOt(4003,!1);const L=b.find(fi);if(L&&L!==lt(b))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _e{constructor(S,O,b){this.segmentGroup=S,this.processChildren=O,this.index=b}}function Le(I,S,O){var b;if(null!==(b=I)&&void 0!==b||(I=new cr([],{})),0===I.segments.length&&I.hasChildren())return Pt(I,S,O);const L=function an(I,S,O){let b=0,L=S;const he={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(b>=O.length)return he;const ge=I.segments[L],Dt=O[b];if(fi(Dt))break;const Zt=`${Dt}`,Mt=b<O.length-1?O[b+1]:null;if(L>0&&void 0===Zt)break;if(Zt&&Mt&&"object"==typeof Mt&&void 0===Mt.outlets){if(!pi(Zt,Mt,ge))return he;b+=2}else{if(!pi(Zt,{},ge))return he;b++}L++}return{match:!0,pathIndex:L,commandIndex:b}}(I,S,O),he=O.slice(L.commandIndex);if(L.match&&L.pathIndex<I.segments.length){const ge=new cr(I.segments.slice(0,L.pathIndex),{});return ge.children[Nt]=new cr(I.segments.slice(L.pathIndex),I.children),Pt(ge,0,he)}return L.match&&0===he.length?new cr(I.segments,{}):L.match&&!I.hasChildren()?vn(I,S,O):L.match?Pt(I,0,he):vn(I,S,O)}function Pt(I,S,O){if(0===O.length)return new cr(I.segments,{});{const b=function re(I){return fi(I[0])?I[0].outlets:{[Nt]:I}}(O),L={};if(Object.keys(b).some(he=>he!==Nt)&&I.children[Nt]&&1===I.numberOfChildren&&0===I.children[Nt].segments.length){const he=Pt(I.children[Nt],S,O);return new cr(I.segments,he.children)}return Object.entries(b).forEach(([he,ge])=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(L[he]=Le(I.children[he],S,ge))}),Object.entries(I.children).forEach(([he,ge])=>{void 0===b[he]&&(L[he]=ge)}),new cr(I.segments,L)}}function vn(I,S,O){const b=I.segments.slice(0,S);let L=0;for(;L<O.length;){const he=O[L];if(fi(he)){const Zt=sr(he.outlets);return new cr(b,Zt)}if(0===L&&Ki(O[0])){b.push(new jr(I.segments[S].path,Bn(O[0]))),L++;continue}const ge=fi(he)?he.outlets[Nt]:`${he}`,Dt=L<O.length-1?O[L+1]:null;ge&&Dt&&Ki(Dt)?(b.push(new jr(ge,Bn(Dt))),L+=2):(b.push(new jr(ge,{})),L++)}return new cr(b,{})}function sr(I){const S={};return Object.entries(I).forEach(([O,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(S[O]=vn(new cr([],{}),0,b))}),S}function Bn(I){const S={};return Object.entries(I).forEach(([O,b])=>S[O]=`${b}`),S}function pi(I,S,O){return I==O.path&&Bt(S,O.parameters)}const Lr="imperative";var ur=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(ur||{});class ni{constructor(S,O){this.id=S,this.url=O}}class Li extends ni{constructor(S,O,b="imperative",L=null){super(S,O),this.type=ur.NavigationStart,this.navigationTrigger=b,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mi extends ni{constructor(S,O,b){super(S,O),this.urlAfterRedirects=b,this.type=ur.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ai=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(ai||{}),qi=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(qi||{});class ji extends ni{constructor(S,O,b,L){super(S,O),this.reason=b,this.code=L,this.type=ur.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vi extends ni{constructor(S,O,b,L){super(S,O),this.reason=b,this.code=L,this.type=ur.NavigationSkipped}}class $o extends ni{constructor(S,O,b,L){super(S,O),this.error=b,this.target=L,this.type=ur.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _o extends ni{constructor(S,O,b,L){super(S,O),this.urlAfterRedirects=b,this.state=L,this.type=ur.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends ni{constructor(S,O,b,L){super(S,O),this.urlAfterRedirects=b,this.state=L,this.type=ur.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xo extends ni{constructor(S,O,b,L,he){super(S,O),this.urlAfterRedirects=b,this.state=L,this.shouldActivate=he,this.type=ur.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qo extends ni{constructor(S,O,b,L){super(S,O),this.urlAfterRedirects=b,this.state=L,this.type=ur.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es extends ni{constructor(S,O,b,L){super(S,O),this.urlAfterRedirects=b,this.state=L,this.type=ur.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co{constructor(S){this.route=S,this.type=ur.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pi{constructor(S){this.route=S,this.type=ur.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bs{constructor(S){this.snapshot=S,this.type=ur.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(S){this.snapshot=S,this.type=ur.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(S){this.snapshot=S,this.type=ur.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(S){this.snapshot=S,this.type=ur.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(S,O,b){this.routerEvent=S,this.position=O,this.anchor=b,this.type=ur.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ts{}class Xr{constructor(S,O){this.url=S,this.navigationBehaviorOptions=O}}function Gr(I){return I.outlet||Nt}function X(I){var S;if(!I)return null;if(null!==(S=I.routeConfig)&&void 0!==S&&S._injector)return I.routeConfig._injector;for(let O=I.parent;O;O=O.parent){const b=O.routeConfig;if(null!=b&&b._loadedInjector)return b._loadedInjector;if(null!=b&&b._injector)return b._injector}return null}class de{get injector(){var S,O;return null!==(S=X(null===(O=this.route)||void 0===O?void 0:O.snapshot))&&void 0!==S?S:this.rootInjector}set injector(S){}constructor(S){this.rootInjector=S,this.outlet=null,this.route=null,this.children=new N(this.rootInjector),this.attachRef=null}}let N=(()=>{var I;class S{constructor(b){this.rootInjector=b,this.contexts=new Map}onChildOutletCreated(b,L){const he=this.getOrCreateContext(b);he.outlet=L,this.contexts.set(b,he)}onChildOutletDestroyed(b){const L=this.getContext(b);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let L=this.getContext(b);return L||(L=new de(this.rootInjector),this.contexts.set(b,L)),L}getContext(b){return this.contexts.get(b)||null}}return(I=S).\u0275fac=function(b){return new(b||I)(d.KVO(d.uvJ))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();class C{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const O=this.pathFromRoot(S);return O.length>1?O[O.length-2]:null}children(S){const O=k(S,this._root);return O?O.children.map(b=>b.value):[]}firstChild(S){const O=k(S,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(S){const O=we(S,this._root);return O.length<2?[]:O[O.length-2].children.map(L=>L.value).filter(L=>L!==S)}pathFromRoot(S){return we(S,this._root).map(O=>O.value)}}function k(I,S){if(I===S.value)return S;for(const O of S.children){const b=k(I,O);if(b)return b}return null}function we(I,S){if(I===S.value)return[S];for(const O of S.children){const b=we(I,O);if(b.length)return b.unshift(S),b}return[]}class Be{constructor(S,O){this.value=S,this.children=O}toString(){return`TreeNode(${this.value})`}}function at(I){const S={};return I&&I.children.forEach(O=>S[O.value.outlet]=O),S}class vt extends C{constructor(S,O){super(S),this.snapshot=O,$n(this,S)}toString(){return this.snapshot.toString()}}function Gt(I){const S=function Yt(I){const he=new fn([],{},{},"",{},Nt,I,null,{});return new In("",new Be(he,[]))}(I),O=new Ce.t([new jr("",{})]),b=new Ce.t({}),L=new Ce.t({}),he=new Ce.t({}),ge=new Ce.t(""),Dt=new jt(O,b,he,ge,L,Nt,I,S.root);return Dt.snapshot=S.root,new vt(new Be(Dt,[]),S)}class jt{constructor(S,O,b,L,he,ge,Dt,Zt){var Mt,Pn;this.urlSubject=S,this.paramsSubject=O,this.queryParamsSubject=b,this.fragmentSubject=L,this.dataSubject=he,this.outlet=ge,this.component=Dt,this._futureSnapshot=Zt,this.title=null!==(Mt=null===(Pn=this.dataSubject)||void 0===Pn?void 0:Pn.pipe((0,pt.T)(mr=>mr[pn])))&&void 0!==Mt?Mt:(0,ce.of)(void 0),this.url=S,this.params=O,this.queryParams=b,this.fragment=L,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=this.params.pipe((0,pt.T)(O=>On(O)))),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=this.queryParams.pipe((0,pt.T)(O=>On(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function en(I,S,O="emptyOnly"){var b;let L;const{routeConfig:he}=I;var ge;return L=null===S||"always"!==O&&""!==(null==he?void 0:he.path)&&(S.component||null!==(b=S.routeConfig)&&void 0!==b&&b.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...null!==(ge=I._resolvedData)&&void 0!==ge?ge:{}}}:{params:{...S.params,...I.params},data:{...S.data,...I.data},resolve:{...I.data,...S.data,...null==he?void 0:he.data,...I._resolvedData}},he&&Wr(he)&&(L.resolve[pn]=he.title),L}class fn{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[pn]}constructor(S,O,b,L,he,ge,Dt,Zt,Mt){this.url=S,this.params=O,this.queryParams=b,this.fragment=L,this.data=he,this.outlet=ge,this.component=Dt,this.routeConfig=Zt,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=On(this.params)),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class In extends C{constructor(S,O){super(O),this.url=S,$n(this,O)}toString(){return Vn(this._root)}}function $n(I,S){S.value._routerState=I,S.children.forEach(O=>$n(I,O))}function Vn(I){const S=I.children.length>0?` { ${I.children.map(Vn).join(", ")} } `:"";return`${I.value}${S}`}function Br(I){if(I.snapshot){const S=I.snapshot,O=I._futureSnapshot;I.snapshot=O,Bt(S.queryParams,O.queryParams)||I.queryParamsSubject.next(O.queryParams),S.fragment!==O.fragment&&I.fragmentSubject.next(O.fragment),Bt(S.params,O.params)||I.paramsSubject.next(O.params),function Gn(I,S){if(I.length!==S.length)return!1;for(let O=0;O<I.length;++O)if(!Bt(I[O],S[O]))return!1;return!0}(S.url,O.url)||I.urlSubject.next(O.url),Bt(S.data,O.data)||I.dataSubject.next(O.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function ri(I,S){const O=Bt(I.params,S.params)&&function Fi(I,S){return yn(I,S)&&I.every((O,b)=>Bt(O.parameters,S[b].parameters))}(I.url,S.url);return O&&!(!I.parent!=!S.parent)&&(!I.parent||ri(I.parent,S.parent))}function Wr(I){return"string"==typeof I.title||null===I.title}let Kr=(()=>{var I;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(N),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(ao,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:L,previousValue:he}=b.name;if(L)return;this.isTrackedInParentContexts(he)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(he)),this.initializeOutletWithName()}}ngOnDestroy(){var b;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(b=this.inputBinder)||void 0===b||b.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){var L;return(null===(L=this.parentContexts.getContext(b))||void 0===L?void 0:L.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);null!=b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,L){var he;this.activated=b,this._activatedRoute=L,this.location.insert(b.hostView),null===(he=this.inputBinder)||void 0===he||he.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,L){var he;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=b;const ge=this.location,Zt=b.snapshot.component,Mt=this.parentContexts.getOrCreateContext(this.name).children,Pn=new Qr(b,Mt,ge.injector);this.activated=ge.createComponent(Zt,{index:ge.length,injector:Pn,environmentInjector:L}),this.changeDetector.markForCheck(),null===(he=this.inputBinder)||void 0===he||he.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275dir=d.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),S})();class Qr{__ngOutletInjector(S){return new Qr(this.route,this.childContexts,S)}constructor(S,O,b){this.route=S,this.childContexts=O,this.parent=b}get(S,O){return S===jt?this.route:S===N?this.childContexts:this.parent.get(S,O)}}const ao=new d.nKC("");let Xi=(()=>{var I;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){var L;null===(L=this.outletDataSubscriptions.get(b))||void 0===L||L.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:L}=b,he=(0,xe.z)([L.queryParams,L.params,L.data]).pipe((0,ct.n)(([ge,Dt,Zt],Mt)=>(Zt={...ge,...Dt,...Zt},0===Mt?(0,ce.of)(Zt):Promise.resolve(Zt)))).subscribe(ge=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==L||null===L.component)return void this.unsubscribeFromRouteData(b);const Dt=(0,d.HJs)(L.component);if(Dt)for(const{templateName:Zt}of Dt.inputs)b.activatedComponentRef.setInput(Zt,ge[Zt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,he)}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac}),S})();function Fo(I,S,O){if(O&&I.shouldReuseRoute(S.value,O.value.snapshot)){const b=O.value;b._futureSnapshot=S.value;const L=function Hi(I,S,O){return S.children.map(b=>{for(const L of O.children)if(I.shouldReuseRoute(b.value,L.value.snapshot))return Fo(I,b,L);return Fo(I,b)})}(I,S,O);return new Be(b,L)}{if(I.shouldAttach(S.value)){const he=I.retrieve(S.value);if(null!==he){const ge=he.route;return ge.value._futureSnapshot=S.value,ge.children=S.children.map(Dt=>Fo(I,Dt)),ge}}const b=function $s(I){return new jt(new Ce.t(I.url),new Ce.t(I.params),new Ce.t(I.queryParams),new Ce.t(I.fragment),new Ce.t(I.data),I.outlet,I.component,I)}(S.value),L=S.children.map(he=>Fo(I,he));return new Be(b,L)}}class na{constructor(S,O){this.redirectTo=S,this.navigationBehaviorOptions=O}}const Lo="ngNavigationCancelingError";function Vo(I,S){const{redirectTo:O,navigationBehaviorOptions:b}=_i(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,L=wo(!1,ai.Redirect);return L.url=O,L.navigationBehaviorOptions=b,L}function wo(I,S){const O=new Error(`NavigationCancelingError: ${I||""}`);return O[Lo]=!0,O.cancellationCode=S,O}function Uo(I){return!!I&&I[Lo]}class Ni{constructor(S,O,b,L,he){this.routeReuseStrategy=S,this.futureState=O,this.currState=b,this.forwardEvent=L,this.inputBindingEnabled=he}activate(S){const O=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,b,S),Br(this.futureState.root),this.activateChildRoutes(O,b,S)}deactivateChildRoutes(S,O,b){const L=at(O);S.children.forEach(he=>{const ge=he.value.outlet;this.deactivateRoutes(he,L[ge],b),delete L[ge]}),Object.values(L).forEach(he=>{this.deactivateRouteAndItsChildren(he,b)})}deactivateRoutes(S,O,b){const L=S.value,he=O?O.value:null;if(L===he)if(L.component){const ge=b.getContext(L.outlet);ge&&this.deactivateChildRoutes(S,O,ge.children)}else this.deactivateChildRoutes(S,O,b);else he&&this.deactivateRouteAndItsChildren(O,b)}deactivateRouteAndItsChildren(S,O){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,O):this.deactivateRouteAndOutlet(S,O)}detachAndStoreRouteSubtree(S,O){const b=O.getContext(S.value.outlet),L=b&&S.value.component?b.children:O,he=at(S);for(const ge of Object.values(he))this.deactivateRouteAndItsChildren(ge,L);if(b&&b.outlet){const ge=b.outlet.detach(),Dt=b.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ge,route:S,contexts:Dt})}}deactivateRouteAndOutlet(S,O){const b=O.getContext(S.value.outlet),L=b&&S.value.component?b.children:O,he=at(S);for(const ge of Object.values(he))this.deactivateRouteAndItsChildren(ge,L);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(S,O,b){const L=at(O);S.children.forEach(he=>{this.activateRoutes(he,L[he.value.outlet],b),this.forwardEvent(new ta(he.value.snapshot))}),S.children.length&&this.forwardEvent(new To(S.value.snapshot))}activateRoutes(S,O,b){const L=S.value,he=O?O.value:null;if(Br(L),L===he)if(L.component){const ge=b.getOrCreateContext(L.outlet);this.activateChildRoutes(S,O,ge.children)}else this.activateChildRoutes(S,O,b);else if(L.component){const ge=b.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Dt=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ge.children.onOutletReAttached(Dt.contexts),ge.attachRef=Dt.componentRef,ge.route=Dt.route.value,ge.outlet&&ge.outlet.attach(Dt.componentRef,Dt.route.value),Br(Dt.route.value),this.activateChildRoutes(S,null,ge.children)}else ge.attachRef=null,ge.route=L,ge.outlet&&ge.outlet.activateWith(L,ge.injector),this.activateChildRoutes(S,null,ge.children)}else this.activateChildRoutes(S,null,b)}}class zo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class ii{constructor(S,O){this.component=S,this.route=O}}function ei(I,S,O){const b=I._root;return Rr(b,S?S._root:null,O,[b.value])}function gs(I,S){const O=Symbol(),b=S.get(I,O);return b===O?"function"!=typeof I||(0,d.LfX)(I)?S.get(I):I:b}function Rr(I,S,O,b,L={canDeactivateChecks:[],canActivateChecks:[]}){const he=at(S);return I.children.forEach(ge=>{(function pl(I,S,O,b,L={canDeactivateChecks:[],canActivateChecks:[]}){const he=I.value,ge=S?S.value:null,Dt=O?O.getContext(I.value.outlet):null;if(ge&&he.routeConfig===ge.routeConfig){const Zt=function Di(I,S,O){if("function"==typeof O)return O(I,S);switch(O){case"pathParamsChange":return!yn(I.url,S.url);case"pathParamsOrQueryParamsChange":return!yn(I.url,S.url)||!Bt(I.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ri(I,S)||!Bt(I.queryParams,S.queryParams);default:return!ri(I,S)}}(ge,he,he.routeConfig.runGuardsAndResolvers);Zt?L.canActivateChecks.push(new zo(b)):(he.data=ge.data,he._resolvedData=ge._resolvedData),Rr(I,S,he.component?Dt?Dt.children:null:O,b,L),Zt&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&L.canDeactivateChecks.push(new ii(Dt.outlet.component,ge))}else ge&&rr(S,Dt,L),L.canActivateChecks.push(new zo(b)),Rr(I,null,he.component?Dt?Dt.children:null:O,b,L)})(ge,he[ge.value.outlet],O,b.concat([ge.value]),L),delete he[ge.value.outlet]}),Object.entries(he).forEach(([ge,Dt])=>rr(Dt,O.getContext(ge),L)),L}function rr(I,S,O){const b=at(I),L=I.value;Object.entries(b).forEach(([he,ge])=>{rr(ge,L.component?S?S.children.getContext(he):null:S,O)}),O.canDeactivateChecks.push(new ii(L.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,L))}function Yr(I){return"function"==typeof I}function Ts(I){return I instanceof He.G||"EmptyError"===(null==I?void 0:I.name)}const ti=Symbol("INITIAL_VALUE");function Ro(){return(0,ct.n)(I=>(0,xe.z)(I.map(S=>S.pipe((0,Ee.s)(1),(0,Ne.Z)(ti)))).pipe((0,pt.T)(S=>{for(const O of S)if(!0!==O){if(O===ti)return ti;if(!1===O||ml(O))return O}return!0}),(0,Ve.p)(S=>S!==ti),(0,Ee.s)(1)))}function ml(I){return _i(I)||I instanceof na}function ln(I){return(0,ze.F)((0,Se.M)(S=>{if("boolean"!=typeof S)throw Vo(0,S)}),(0,pt.T)(S=>!0===S))}class yi{constructor(S){this.segmentGroup=S||null}}class zi extends Error{constructor(S){super(),this.urlTree=S}}function co(I){return(0,Ke.$)(new yi(I))}class ia{constructor(S,O){this.urlSerializer=S,this.urlTree=O}lineralizeSegments(S,O){let b=[],L=O.root;for(;;){if(b=b.concat(L.segments),0===L.numberOfChildren)return(0,ce.of)(b);if(L.numberOfChildren>1||!L.children[Nt])return(0,Ke.$)(new d.wOt(4e3,!1));L=L.children[Nt]}}applyRedirectCommands(S,O,b,L,he){if("string"!=typeof O){const Dt=O,{queryParams:Zt,fragment:Mt,routeConfig:Pn,url:mr,outlet:ui,params:br,data:Ai,title:hr}=L,vi=(0,d.N4e)(he,()=>Dt({params:br,data:Ai,queryParams:Zt,fragment:Mt,routeConfig:Pn,url:mr,outlet:ui,title:hr}));if(vi instanceof Ir)throw new zi(vi);O=vi}const ge=this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),S,b);if("/"===O[0])throw new zi(ge);return ge}applyRedirectCreateUrlTree(S,O,b,L){const he=this.createSegmentGroup(S,O.root,b,L);return new Ir(he,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(S,O){const b={};return Object.entries(S).forEach(([L,he])=>{if("string"==typeof he&&":"===he[0]){const Dt=he.substring(1);b[L]=O[Dt]}else b[L]=he}),b}createSegmentGroup(S,O,b,L){const he=this.createSegments(S,O.segments,b,L);let ge={};return Object.entries(O.children).forEach(([Dt,Zt])=>{ge[Dt]=this.createSegmentGroup(S,Zt,b,L)}),new cr(he,ge)}createSegments(S,O,b,L){return O.map(he=>":"===he.path[0]?this.findPosParam(S,he,L):this.findOrReturn(he,b))}findPosParam(S,O,b){const L=b[O.path.substring(1)];if(!L)throw new d.wOt(4001,!1);return L}findOrReturn(S,O){let b=0;for(const L of O){if(L.path===S.path)return O.splice(b),L;b++}return S}}const _a={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oa(I,S,O,b,L){const he=fo(I,S,O);return he.matched?(b=function Do(I,S){var O;return I.providers&&!I._injector&&(I._injector=(0,d.Ol2)(I.providers,S,`Route: ${I.path}`)),null!==(O=I._injector)&&void 0!==O?O:S}(S,b),function Zn(I,S,O,b){const L=S.canMatch;if(!L||0===L.length)return(0,ce.of)(!0);const he=L.map(ge=>{const Dt=gs(ge,I);return De(function gl(I){return I&&Yr(I.canMatch)}(Dt)?Dt.canMatch(S,O):(0,d.N4e)(I,()=>Dt(S,O)))});return(0,ce.of)(he).pipe(Ro(),ln())}(b,S,O).pipe((0,pt.T)(ge=>!0===ge?he:{..._a}))):(0,ce.of)(he)}function fo(I,S,O){var b,L;if("**"===S.path)return function js(I){return{matched:!0,parameters:I.length>0?lt(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(O);if(""===S.path)return"full"===S.pathMatch&&(I.hasChildren()||O.length>0)?{..._a}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const ge=(S.matcher||Nn)(O,I,S);if(!ge)return{..._a};const Dt={};Object.entries(null!==(b=ge.posParams)&&void 0!==b?b:{}).forEach(([Mt,Pn])=>{Dt[Mt]=Pn.path});const Zt=ge.consumed.length>0?{...Dt,...ge.consumed[ge.consumed.length-1].parameters}:Dt;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:O.slice(ge.consumed.length),parameters:Zt,positionalParamSegments:null!==(L=ge.posParams)&&void 0!==L?L:{}}}function Ds(I,S,O,b){return O.length>0&&function Ea(I,S,O){return O.some(b=>ns(I,S,b)&&Gr(b)!==Nt)}(I,O,b)?{segmentGroup:new cr(S,sa(b,new cr(O,I.children))),slicedSegments:[]}:0===O.length&&function dr(I,S,O){return O.some(b=>ns(I,S,b))}(I,O,b)?{segmentGroup:new cr(I.segments,ya(I,O,b,I.children)),slicedSegments:O}:{segmentGroup:new cr(I.segments,I.children),slicedSegments:O}}function ya(I,S,O,b){const L={};for(const he of O)if(ns(I,S,he)&&!b[Gr(he)]){const ge=new cr([],{});L[Gr(he)]=ge}return{...b,...L}}function sa(I,S){const O={};O[Nt]=S;for(const b of I)if(""===b.path&&Gr(b)!==Nt){const L=new cr([],{});O[Gr(b)]=L}return O}function ns(I,S,O){return(!(I.hasChildren()||S.length>0)||"full"!==O.pathMatch)&&""===O.path}class yl{}class Go{constructor(S,O,b,L,he,ge,Dt){this.injector=S,this.configLoader=O,this.rootComponentType=b,this.config=L,this.urlTree=he,this.paramsInheritanceStrategy=ge,this.urlSerializer=Dt,this.applyRedirects=new ia(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new d.wOt(4002,`'${S.segmentGroup}'`)}recognize(){const S=Ds(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,pt.T)(({children:O,rootSnapshot:b})=>{const L=new Be(b,O),he=new In("",L),ge=function $i(I,S,O=null,b=null){return hi(Zi(I),S,O,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return ge.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(ge),{state:he,tree:ge}}))}match(S){const O=new fn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,S,Nt,O).pipe((0,pt.T)(b=>({children:b,rootSnapshot:O})),hn(b=>{if(b instanceof zi)return this.urlTree=b.urlTree,this.match(b.urlTree.root);throw b instanceof yi?this.noMatchError(b):b}))}processSegmentGroup(S,O,b,L,he){return 0===b.segments.length&&b.hasChildren()?this.processChildren(S,O,b,he):this.processSegment(S,O,b,b.segments,L,!0,he).pipe((0,pt.T)(ge=>ge instanceof Be?[ge]:[]))}processChildren(S,O,b,L){const he=[];for(const ge of Object.keys(b.children))"primary"===ge?he.unshift(ge):he.push(ge);return(0,le.H)(he).pipe(qe(ge=>{const Dt=b.children[ge],Zt=function R(I,S){const O=I.filter(b=>Gr(b)===S);return O.push(...I.filter(b=>Gr(b)!==S)),O}(O,ge);return this.processSegmentGroup(S,Zt,Dt,ge,L)}),(0,qt.S)((ge,Dt)=>(ge.push(...Dt),ge)),(0,sn.U)(null),function ee(I,S){const O=arguments.length>=2;return b=>b.pipe(I?(0,Ve.p)((L,he)=>I(L,he,b)):Z.D,dt(1),O?(0,sn.U)(S):(0,be.v)(()=>new He.G))}(),(0,nt.Z)(ge=>{if(null===ge)return co(b);const Dt=ws(ge);return function pu(I){I.sort((S,O)=>S.value.outlet===Nt?-1:O.value.outlet===Nt?1:S.value.outlet.localeCompare(O.value.outlet))}(Dt),(0,ce.of)(Dt)}))}processSegment(S,O,b,L,he,ge,Dt){return(0,le.H)(O).pipe(qe(Zt=>{var Mt;return this.processSegmentAgainstRoute(null!==(Mt=Zt._injector)&&void 0!==Mt?Mt:S,O,Zt,b,L,he,ge,Dt).pipe(hn(Pn=>{if(Pn instanceof yi)return(0,ce.of)(null);throw Pn}))}),(0,Je.$)(Zt=>!!Zt),hn(Zt=>{if(Ts(Zt))return function bs(I,S,O){return 0===S.length&&!I.children[O]}(b,L,he)?(0,ce.of)(new yl):co(b);throw Zt}))}processSegmentAgainstRoute(S,O,b,L,he,ge,Dt,Zt){return Gr(b)===ge||ge!==Nt&&ns(L,he,b)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(S,L,b,he,ge,Zt):this.allowRedirects&&Dt?this.expandSegmentAgainstRouteUsingRedirect(S,L,O,b,he,ge,Zt):co(L):co(L)}expandSegmentAgainstRouteUsingRedirect(S,O,b,L,he,ge,Dt){var Zt,Mt;const{matched:Pn,parameters:mr,consumedSegments:ui,positionalParamSegments:br,remainingSegments:Ai}=fo(O,L,he);if(!Pn)return co(O);"string"==typeof L.redirectTo&&"/"===L.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const hr=new fn(he,mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ia(L),Gr(L),null!==(Zt=null!==(Mt=L.component)&&void 0!==Mt?Mt:L._loadedComponent)&&void 0!==Zt?Zt:null,L,yo(L)),vi=en(hr,Dt,this.paramsInheritanceStrategy);hr.params=Object.freeze(vi.params),hr.data=Object.freeze(vi.data);const to=this.applyRedirects.applyRedirectCommands(ui,L.redirectTo,br,hr,S);return this.applyRedirects.lineralizeSegments(L,to).pipe((0,nt.Z)(Eo=>this.processSegment(S,b,O,Eo.concat(Ai),ge,!1,Dt)))}matchSegmentAgainstRoute(S,O,b,L,he,ge){const Dt=oa(O,b,L,S);return"**"===b.path&&(O.children={}),Dt.pipe((0,ct.n)(Zt=>{var Mt;return Zt.matched?(S=null!==(Mt=b._injector)&&void 0!==Mt?Mt:S,this.getChildConfig(S,b,L).pipe((0,ct.n)(({routes:Pn})=>{var mr,ui,br;const Ai=null!==(mr=b._loadedInjector)&&void 0!==mr?mr:S,{parameters:hr,consumedSegments:vi,remainingSegments:to}=Zt,Eo=new fn(vi,hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ia(b),Gr(b),null!==(ui=null!==(br=b.component)&&void 0!==br?br:b._loadedComponent)&&void 0!==ui?ui:null,b,yo(b)),wi=en(Eo,ge,this.paramsInheritanceStrategy);Eo.params=Object.freeze(wi.params),Eo.data=Object.freeze(wi.data);const{segmentGroup:_u,slicedSegments:Zl}=Ds(O,vi,to,Pn);if(0===Zl.length&&_u.hasChildren())return this.processChildren(Ai,Pn,_u,Eo).pipe((0,pt.T)(ka=>new Be(Eo,ka)));if(0===Pn.length&&0===Zl.length)return(0,ce.of)(new Be(Eo,[]));const yu=Gr(b)===he;return this.processSegment(Ai,Pn,_u,Zl,yu?Nt:he,!0,Eo).pipe((0,pt.T)(ka=>new Be(Eo,ka instanceof Be?[ka]:[])))}))):co(O)}))}getChildConfig(S,O,b){return O.children?(0,ce.of)({routes:O.children,injector:S}):O.loadChildren?void 0!==O._loadedRoutes?(0,ce.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function ue(I,S,O,b){const L=S.canLoad;if(void 0===L||0===L.length)return(0,ce.of)(!0);const he=L.map(ge=>{const Dt=gs(ge,I);return De(function Cs(I){return I&&Yr(I.canLoad)}(Dt)?Dt.canLoad(S,O):(0,d.N4e)(I,()=>Dt(S,O)))});return(0,ce.of)(he).pipe(Ro(),ln())}(S,O,b).pipe((0,nt.Z)(L=>L?this.configLoader.loadChildren(S,O).pipe((0,Se.M)(he=>{O._loadedRoutes=he.routes,O._loadedInjector=he.injector})):function Bo(){return(0,Ke.$)(wo(!1,ai.GuardRejected))}())):(0,ce.of)({routes:[],injector:S})}}function Wo(I){const S=I.value.routeConfig;return S&&""===S.path}function ws(I){const S=[],O=new Set;for(const b of I){if(!Wo(b)){S.push(b);continue}const L=S.find(he=>b.value.routeConfig===he.value.routeConfig);void 0!==L?(L.children.push(...b.children),O.add(L)):S.push(b)}for(const b of O){const L=ws(b.children);S.push(new Be(b.value,L))}return S.filter(b=>!O.has(b))}function Ia(I){return I.data||{}}function yo(I){return I.resolve||{}}function Aa(I){const S=I.children.map(O=>Aa(O)).flat();return[I,...S]}function pr(I){return(0,ct.n)(S=>{const O=I(S);return O?(0,le.H)(O).pipe((0,pt.T)(()=>S)):(0,ce.of)(S)})}let Zr=(()=>{var I;class S{buildTitle(b){let L,he=b.root;for(;void 0!==he;){var ge;L=null!==(ge=this.getResolvedTitleForRoute(he))&&void 0!==ge?ge:L,he=he.children.find(Dt=>Dt.outlet===Nt)}return L}getResolvedTitleForRoute(b){return b.data[pn]}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Uu),providedIn:"root"}),S})(),Uu=(()=>{var I;class S extends Zr{constructor(b){super(),this.title=b}updateTitle(b){const L=this.buildTitle(b);void 0!==L&&this.title.setTitle(L)}}return(I=S).\u0275fac=function(b){return new(b||I)(d.KVO(Rt.hE))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();const Rs=new d.nKC("",{providedIn:"root",factory:()=>({})});let Qa=(()=>{var I;class S{}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275cmp=d.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(b,L){1&b&&d.nrm(0,"router-outlet")},dependencies:[Kr],encapsulation:2}),S})();function El(I){const S=I.children&&I.children.map(El),O=S?{...I,children:S}:{...I};return!O.component&&!O.loadComponent&&(S||O.loadChildren)&&O.outlet&&O.outlet!==Nt&&(O.component=Qa),O}const Yo=new d.nKC("");let xa=(()=>{var I;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,ce.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const L=De(b.loadComponent()).pipe((0,pt.T)(Il),(0,Se.M)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=ge}),Te(()=>{this.componentLoaders.delete(b)})),he=new st.G(L,()=>new _t.B).pipe((0,ut.B)());return this.componentLoaders.set(b,he),he}loadChildren(b,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,ce.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const ge=function Tr(I,S,O,b){return De(I.loadChildren()).pipe((0,pt.T)(Il),(0,nt.Z)(L=>L instanceof d.Co$||Array.isArray(L)?(0,ce.of)(L):(0,le.H)(S.compileModuleAsync(L))),(0,pt.T)(L=>{b&&b(I);let he,ge,Dt=!1;return Array.isArray(L)?(ge=L,!0):(he=L.create(O).injector,ge=he.get(Yo,[],{optional:!0,self:!0}).flat()),{routes:ge.map(El),injector:he}}))}(L,this.compiler,b,this.onLoadEndListener).pipe(Te(()=>{this.childrenLoaders.delete(L)})),Dt=new st.G(ge,()=>new _t.B).pipe((0,ut.B)());return this.childrenLoaders.set(L,Dt),Dt}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();function Il(I){return function Ko(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let li=(()=>{var I;class S{}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Al),providedIn:"root"}),S})(),Al=(()=>{var I;class S{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,L){return b}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();const Ca=new d.nKC(""),D=new d.nKC("");function j(I,S,O){const b=I.get(D),L=I.get(tt.qQ);return I.get(d.SKi).runOutsideAngular(()=>{if(!L.startViewTransition||b.skipNextTransition)return b.skipNextTransition=!1,new Promise(Mt=>setTimeout(Mt));let he;const ge=new Promise(Mt=>{he=Mt}),Dt=L.startViewTransition(()=>(he(),function Re(I){return new Promise(S=>{(0,d.mal)({read:()=>setTimeout(S)},{injector:I})})}(I))),{onViewTransitionCreated:Zt}=b;return Zt&&(0,d.N4e)(I,()=>Zt({transition:Dt,from:S,to:O})),ge})}const B=new d.nKC("");let pe=(()=>{var I;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t.B,this.transitionAbortSubject=new _t.B,this.configLoader=(0,d.WQX)(xa),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(tr),this.rootContexts=(0,d.WQX)(N),this.location=(0,d.WQX)(tt.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(ao,{optional:!0}),this.titleStrategy=(0,d.WQX)(Zr),this.options=(0,d.WQX)(Rs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(li),this.createViewTransition=(0,d.WQX)(Ca,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(B,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=he=>this.events.next(new Pi(he)),this.configLoader.onLoadStartListener=he=>this.events.next(new Co(he))}complete(){var b;null===(b=this.transitions)||void 0===b||b.complete()}handleNavigationRequest(b){var L;const he=++this.navigationId;null===(L=this.transitions)||void 0===L||L.next({...this.transitions.value,...b,id:he})}setupNavigations(b,L,he){return this.transitions=new Ce.t({id:0,currentUrlTree:L,currentRawUrl:L,extractedUrl:this.urlHandlingStrategy.extract(L),urlAfterRedirects:this.urlHandlingStrategy.extract(L),rawUrl:L,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Lr,restoredState:null,currentSnapshot:he.snapshot,targetSnapshot:null,currentRouterState:he,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.p)(ge=>0!==ge.id),(0,pt.T)(ge=>({...ge,extractedUrl:this.urlHandlingStrategy.extract(ge.rawUrl)})),(0,ct.n)(ge=>{let Dt=!1,Zt=!1;return(0,ce.of)(ge).pipe((0,ct.n)(Mt=>{var Pn;if(this.navigationId>ge.id)return this.cancelNavigationTransition(ge,"",ai.SupersededByNewNavigation),Ge.w;this.currentTransition=ge,this.currentNavigation={id:Mt.id,initialUrl:Mt.rawUrl,extractedUrl:Mt.extractedUrl,targetBrowserUrl:"string"==typeof Mt.extras.browserUrl?this.urlSerializer.parse(Mt.extras.browserUrl):Mt.extras.browserUrl,trigger:Mt.source,extras:Mt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const mr=!b.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ui=null!==(Pn=Mt.extras.onSameUrlNavigation)&&void 0!==Pn?Pn:b.onSameUrlNavigation;if(!mr&&"reload"!==ui){const br="";return this.events.next(new Vi(Mt.id,this.urlSerializer.serialize(Mt.rawUrl),br,qi.IgnoredSameUrlNavigation)),Mt.resolve(!1),Ge.w}if(this.urlHandlingStrategy.shouldProcessUrl(Mt.rawUrl))return(0,ce.of)(Mt).pipe((0,ct.n)(br=>{var Ai,hr;const vi=null===(Ai=this.transitions)||void 0===Ai?void 0:Ai.getValue();return this.events.next(new Li(br.id,this.urlSerializer.serialize(br.extractedUrl),br.source,br.restoredState)),vi!==(null===(hr=this.transitions)||void 0===hr?void 0:hr.getValue())?Ge.w:Promise.resolve(br)}),function Ss(I,S,O,b,L,he){return(0,nt.Z)(ge=>function Oa(I,S,O,b,L,he,ge="emptyOnly"){return new Go(I,S,O,b,L,ge,he).recognize()}(I,S,O,b,ge.extractedUrl,L,he).pipe((0,pt.T)(({state:Dt,tree:Zt})=>({...ge,targetSnapshot:Dt,urlAfterRedirects:Zt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Se.M)(br=>{ge.targetSnapshot=br.targetSnapshot,ge.urlAfterRedirects=br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:br.urlAfterRedirects};const Ai=new _o(br.id,this.urlSerializer.serialize(br.extractedUrl),this.urlSerializer.serialize(br.urlAfterRedirects),br.targetSnapshot);this.events.next(Ai)}));if(mr&&this.urlHandlingStrategy.shouldProcessUrl(Mt.currentRawUrl)){const{id:br,extractedUrl:Ai,source:hr,restoredState:vi,extras:to}=Mt,Eo=new Li(br,this.urlSerializer.serialize(Ai),hr,vi);this.events.next(Eo);const wi=Gt(this.rootComponentType).snapshot;return this.currentTransition=ge={...Mt,targetSnapshot:wi,urlAfterRedirects:Ai,extras:{...to,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ai,(0,ce.of)(ge)}{const br="";return this.events.next(new Vi(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),br,qi.IgnoredByUrlHandlingStrategy)),Mt.resolve(!1),Ge.w}}),(0,Se.M)(Mt=>{const Pn=new ko(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(Pn)}),(0,pt.T)(Mt=>(this.currentTransition=ge={...Mt,guards:ei(Mt.targetSnapshot,Mt.currentSnapshot,this.rootContexts)},ge)),function zl(I,S){return(0,nt.Z)(O=>{const{targetSnapshot:b,currentSnapshot:L,guards:{canActivateChecks:he,canDeactivateChecks:ge}}=O;return 0===ge.length&&0===he.length?(0,ce.of)({...O,guardsResult:!0}):function vl(I,S,O,b){return(0,le.H)(I).pipe((0,nt.Z)(L=>function $(I,S,O,b,L){const he=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,ce.of)(!0);const ge=he.map(Dt=>{var Zt;const Mt=null!==(Zt=X(S))&&void 0!==Zt?Zt:L,Pn=gs(Dt,Mt);return De(function uo(I){return I&&Yr(I.canDeactivate)}(Pn)?Pn.canDeactivate(I,S,O,b):(0,d.N4e)(Mt,()=>Pn(I,S,O,b))).pipe((0,Je.$)())});return(0,ce.of)(ge).pipe(Ro())}(L.component,L.route,O,S,b)),(0,Je.$)(L=>!0!==L,!0))}(ge,b,L,I).pipe((0,nt.Z)(Dt=>Dt&&function ra(I){return"boolean"==typeof I}(Dt)?function _l(I,S,O,b){return(0,le.H)(S).pipe(qe(L=>(0,ye.x)(function z(I,S){return null!==I&&S&&S(new Bs(I)),(0,ce.of)(!0)}(L.route.parent,b),function qa(I,S){return null!==I&&S&&S(new jo(I)),(0,ce.of)(!0)}(L.route,b),function te(I,S,O){const b=S[S.length-1],he=S.slice(0,S.length-1).reverse().map(ge=>function Ka(I){const S=I.routeConfig?I.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:I,guards:S}:null}(ge)).filter(ge=>null!==ge).map(ge=>(0,me.v)(()=>{const Dt=ge.guards.map(Zt=>{var Mt;const Pn=null!==(Mt=X(ge.node))&&void 0!==Mt?Mt:O,mr=gs(Zt,Pn);return De(function ms(I){return I&&Yr(I.canActivateChild)}(mr)?mr.canActivateChild(b,I):(0,d.N4e)(Pn,()=>mr(b,I))).pipe((0,Je.$)())});return(0,ce.of)(Dt).pipe(Ro())}));return(0,ce.of)(he).pipe(Ro())}(I,L.path,O),function M(I,S,O){const b=S.routeConfig?S.routeConfig.canActivate:null;if(!b||0===b.length)return(0,ce.of)(!0);const L=b.map(he=>(0,me.v)(()=>{var ge;const Dt=null!==(ge=X(S))&&void 0!==ge?ge:O,Zt=gs(he,Dt);return De(function er(I){return I&&Yr(I.canActivate)}(Zt)?Zt.canActivate(S,I):(0,d.N4e)(Dt,()=>Zt(S,I))).pipe((0,Je.$)())}));return(0,ce.of)(L).pipe(Ro())}(I,L.route,O))),(0,Je.$)(L=>!0!==L,!0))}(b,he,I,S):(0,ce.of)(Dt)),(0,pt.T)(Dt=>({...O,guardsResult:Dt})))})}(this.environmentInjector,Mt=>this.events.next(Mt)),(0,Se.M)(Mt=>{if(ge.guardsResult=Mt.guardsResult,Mt.guardsResult&&"boolean"!=typeof Mt.guardsResult)throw Vo(0,Mt.guardsResult);const Pn=new Xo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot,!!Mt.guardsResult);this.events.next(Pn)}),(0,Ve.p)(Mt=>!!Mt.guardsResult||(this.cancelNavigationTransition(Mt,"",ai.GuardRejected),!1)),pr(Mt=>{if(Mt.guards.canActivateChecks.length)return(0,ce.of)(Mt).pipe((0,Se.M)(Pn=>{const mr=new Qo(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(mr)}),(0,ct.n)(Pn=>{let mr=!1;return(0,ce.of)(Pn).pipe(function rs(I,S){return(0,nt.Z)(O=>{const{targetSnapshot:b,guards:{canActivateChecks:L}}=O;if(!L.length)return(0,ce.of)(O);const he=new Set(L.map(Zt=>Zt.route)),ge=new Set;for(const Zt of he)if(!ge.has(Zt))for(const Mt of Aa(Zt))ge.add(Mt);let Dt=0;return(0,le.H)(ge).pipe(qe(Zt=>he.has(Zt)?function is(I,S,O,b){const L=I.routeConfig,he=I._resolve;return void 0!==(null==L?void 0:L.title)&&!Wr(L)&&(he[pn]=L.title),function _r(I,S,O,b){const L=rn(I);if(0===L.length)return(0,ce.of)({});const he={};return(0,le.H)(L).pipe((0,nt.Z)(ge=>function Xa(I,S,O,b){var L;const he=null!==(L=X(S))&&void 0!==L?L:b,ge=gs(I,he);return De(ge.resolve?ge.resolve(S,O):(0,d.N4e)(he,()=>ge(S,O)))}(I[ge],S,O,b).pipe((0,Je.$)(),(0,Se.M)(Dt=>{if(Dt instanceof na)throw Vo(new xn,Dt);he[ge]=Dt}))),dt(1),(0,ae.u)(he),hn(ge=>Ts(ge)?Ge.w:(0,Ke.$)(ge)))}(he,I,S,b).pipe((0,pt.T)(ge=>(I._resolvedData=ge,I.data=en(I,I.parent,O).resolve,null)))}(Zt,b,I,S):(Zt.data=en(Zt,Zt.parent,I).resolve,(0,ce.of)(void 0))),(0,Se.M)(()=>Dt++),dt(1),(0,nt.Z)(Zt=>Dt===ge.size?(0,ce.of)(O):Ge.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Se.M)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(Pn,"",ai.NoDataFromResolver)}}))}),(0,Se.M)(Pn=>{const mr=new es(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(mr)}))}),pr(Mt=>{const Pn=mr=>{var ui;const br=[];null!==(ui=mr.routeConfig)&&void 0!==ui&&ui.loadComponent&&!mr.routeConfig._loadedComponent&&br.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,Se.M)(Ai=>{mr.component=Ai}),(0,pt.T)(()=>{})));for(const Ai of mr.children)br.push(...Pn(Ai));return br};return(0,xe.z)(Pn(Mt.targetSnapshot.root)).pipe((0,sn.U)(null),(0,Ee.s)(1))}),pr(()=>this.afterPreactivation()),(0,ct.n)(()=>{var Mt;const{currentSnapshot:Pn,targetSnapshot:mr}=ge,ui=null===(Mt=this.createViewTransition)||void 0===Mt?void 0:Mt.call(this,this.environmentInjector,Pn.root,mr.root);return ui?(0,le.H)(ui).pipe((0,pt.T)(()=>ge)):(0,ce.of)(ge)}),(0,pt.T)(Mt=>{const Pn=function Sn(I,S,O){const b=Fo(I,S._root,O?O._root:void 0);return new vt(b,S)}(b.routeReuseStrategy,Mt.targetSnapshot,Mt.currentRouterState);return this.currentTransition=ge={...Mt,targetRouterState:Pn},this.currentNavigation.targetRouterState=Pn,ge}),(0,Se.M)(()=>{this.events.next(new ts)}),((I,S,O,b)=>(0,pt.T)(L=>(new Ni(S,L.targetRouterState,L.currentRouterState,O,b).activate(I),L)))(this.rootContexts,b.routeReuseStrategy,Mt=>this.events.next(Mt),this.inputBindingEnabled),(0,Ee.s)(1),(0,Se.M)({next:Mt=>{var Pn;Dt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects))),null===(Pn=this.titleStrategy)||void 0===Pn||Pn.updateTitle(Mt.targetRouterState.snapshot),Mt.resolve(!0)},complete:()=>{Dt=!0}}),function Qe(I){return(0,Vt.N)((S,O)=>{(0,Me.Tg)(I).subscribe((0,kt._)(O,()=>O.complete(),Xe.l)),!O.closed&&S.subscribe(O)})}(this.transitionAbortSubject.pipe((0,Se.M)(Mt=>{throw Mt}))),Te(()=>{var Mt;!Dt&&!Zt&&this.cancelNavigationTransition(ge,"",ai.SupersededByNewNavigation),(null===(Mt=this.currentTransition)||void 0===Mt?void 0:Mt.id)===ge.id&&(this.currentNavigation=null,this.currentTransition=null)}),hn(Mt=>{if(Zt=!0,Uo(Mt))this.events.next(new ji(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Mt.message,Mt.cancellationCode)),function lo(I){return Uo(I)&&_i(I.url)}(Mt)?this.events.next(new Xr(Mt.url,Mt.navigationBehaviorOptions)):ge.resolve(!1);else{var Pn;const mr=new $o(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Mt,null!==(Pn=ge.targetSnapshot)&&void 0!==Pn?Pn:void 0);try{const ui=(0,d.N4e)(this.environmentInjector,()=>{var br;return null===(br=this.navigationErrorHandler)||void 0===br?void 0:br.call(this,mr)});if(ui instanceof na){const{message:br,cancellationCode:Ai}=Vo(0,ui);this.events.next(new ji(ge.id,this.urlSerializer.serialize(ge.extractedUrl),br,Ai)),this.events.next(new Xr(ui.redirectTo,ui.navigationBehaviorOptions))}else{this.events.next(mr);const br=b.errorHandler(Mt);ge.resolve(!!br)}}catch(ui){this.options.resolveNavigationPromiseOnError?ge.resolve(!1):ge.reject(ui)}}return Ge.w}))}))}cancelNavigationTransition(b,L,he){const ge=new ji(b.id,this.urlSerializer.serialize(b.extractedUrl),L,he);this.events.next(ge),b.resolve(!1)}isUpdatingInternalState(){var b,L;return(null===(b=this.currentTransition)||void 0===b?void 0:b.extractedUrl.toString())!==(null===(L=this.currentTransition)||void 0===L?void 0:L.currentUrlTree.toString())}isUpdatedBrowserUrl(){var b,L,he,ge;const Dt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Zt=null!==(b=null===(L=this.currentNavigation)||void 0===L?void 0:L.targetBrowserUrl)&&void 0!==b?b:null===(he=this.currentNavigation)||void 0===he?void 0:he.extractedUrl;return Dt.toString()!==(null==Zt?void 0:Zt.toString())&&!(null!==(ge=this.currentNavigation)&&void 0!==ge&&ge.extras.skipLocationChange)}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();function ke(I){return I!==Lr}let $t=(()=>{var I;class S{}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(fr),providedIn:"root"}),S})();class dn{shouldDetach(S){return!1}store(S,O){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,O){return S.routeConfig===O.routeConfig}}let fr=(()=>{var I;class S extends dn{}return(I=S).\u0275fac=(()=>{let O;return function(L){return(O||(O=d.xGo(I)))(L||I)}})(),I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})(),kr=(()=>{var I;class S{}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Mr),providedIn:"root"}),S})(),Mr=(()=>{var I;class S extends kr{constructor(){super(...arguments),this.location=(0,d.WQX)(tt.aZ),this.urlSerializer=(0,d.WQX)(tr),this.options=(0,d.WQX)(Rs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(li),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var b,L;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(b=null===(L=this.restoredState())||void 0===L?void 0:L.\u0275routerPageId)&&void 0!==b?b:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(b){return this.location.subscribe(L=>{"popstate"===L.type&&b(L.url,L.state)})}handleRouterEvent(b,L){if(b instanceof Li)this.stateMemento=this.createStateMemento();else if(b instanceof Vi)this.rawUrlTree=L.initialUrl;else if(b instanceof _o){if("eager"===this.urlUpdateStrategy&&!L.extras.skipLocationChange){var he;const Dt=this.urlHandlingStrategy.merge(L.finalUrl,L.initialUrl);this.setBrowserUrl(null!==(he=L.targetBrowserUrl)&&void 0!==he?he:Dt,L)}}else if(b instanceof ts){var ge;this.currentUrlTree=L.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(L.finalUrl,L.initialUrl),this.routerState=L.targetRouterState,"deferred"!==this.urlUpdateStrategy||L.extras.skipLocationChange||this.setBrowserUrl(null!==(ge=L.targetBrowserUrl)&&void 0!==ge?ge:this.rawUrlTree,L)}else b instanceof ji&&(b.code===ai.GuardRejected||b.code===ai.NoDataFromResolver)?this.restoreHistory(L):b instanceof $o?this.restoreHistory(L,!0):b instanceof Mi&&(this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId)}setBrowserUrl(b,L){const he=b instanceof Ir?this.urlSerializer.serialize(b):b;if(this.location.isCurrentPathEqualTo(he)||L.extras.replaceUrl){const Dt={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId)};this.location.replaceState(he,"",Dt)}else{const ge={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId+1)};this.location.go(he,"",ge)}}restoreHistory(b,L=!1){if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-this.browserPageId;0!==ge?this.location.historyGo(ge):this.currentUrlTree===b.finalUrl&&0===ge&&(this.resetState(b),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){var L;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(L=b.finalUrl)&&void 0!==L?L:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,L){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:L}:{navigationId:b}}}return(I=S).\u0275fac=(()=>{let O;return function(L){return(O||(O=d.xGo(I)))(L||I)}})(),I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();var yr=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(yr||{});function Ar(I,S){I.events.pipe((0,Ve.p)(O=>O instanceof Mi||O instanceof ji||O instanceof $o||O instanceof Vi),(0,pt.T)(O=>O instanceof Mi||O instanceof Vi?yr.COMPLETE:O instanceof ji&&(O.code===ai.Redirect||O.code===ai.SupersededByNewNavigation)?yr.REDIRECTING:yr.FAILED),(0,Ve.p)(O=>O!==yr.REDIRECTING),(0,Ee.s)(1)).subscribe(()=>{S()})}function Hr(I){throw I}const bn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},os={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{var I;class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var b,L;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(kr),this.options=(0,d.WQX)(Rs,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(pe),this.urlSerializer=(0,d.WQX)(tr),this.location=(0,d.WQX)(tt.aZ),this.urlHandlingStrategy=(0,d.WQX)(li),this._events=new _t.B,this.errorHandler=this.options.errorHandler||Hr,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)($t),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(b=null===(L=(0,d.WQX)(Yo,{optional:!0}))||void 0===L?void 0:L.flat())&&void 0!==b?b:[],this.componentInputBindingEnabled=!!(0,d.WQX)(ao,{optional:!0}),this.eventsSubscription=new ft.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:he=>{this.console.warn(he)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(L=>{try{const he=this.navigationTransitions.currentTransition,ge=this.navigationTransitions.currentNavigation;if(null!==he&&null!==ge)if(this.stateManager.handleRouterEvent(L,ge),L instanceof ji&&L.code!==ai.Redirect&&L.code!==ai.SupersededByNewNavigation)this.navigated=!0;else if(L instanceof Mi)this.navigated=!0;else if(L instanceof Xr){const Dt=L.navigationBehaviorOptions,Zt=this.urlHandlingStrategy.merge(L.url,he.currentRawUrl),Mt={browserUrl:he.extras.browserUrl,info:he.extras.info,skipLocationChange:he.extras.skipLocationChange,replaceUrl:he.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ke(he.source),...Dt};this.scheduleNavigation(Zt,Lr,null,Mt,{resolve:he.resolve,reject:he.reject,promise:he.promise})}(function K(I){return!(I instanceof ts||I instanceof Xr)})(L)&&this._events.next(L)}catch(he){this.navigationTransitions.transitionAbortSubject.next(he)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lr,this.stateManager.restoredState())}setUpLocationChangeListener(){var b;null!==(b=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==b||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((L,he)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(L,"popstate",he)},0)}))}navigateToSyncWithBrowser(b,L,he){const ge={replaceUrl:!0},Dt=null!=he&&he.navigationId?he:null;if(he){const Mt={...he};delete Mt.navigationId,delete Mt.\u0275routerPageId,0!==Object.keys(Mt).length&&(ge.state=Mt)}const Zt=this.parseUrl(b);this.scheduleNavigation(Zt,L,Dt,ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(El),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,L={}){const{relativeTo:he,queryParams:ge,fragment:Dt,queryParamsHandling:Zt,preserveFragment:Mt}=L,Pn=Mt?this.currentUrlTree.fragment:Dt;let ui,mr=null;switch(null!=Zt?Zt:this.options.defaultQueryParamsHandling){case"merge":mr={...this.currentUrlTree.queryParams,...ge};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=ge||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{ui=Zi(he?he.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||"/"!==b[0][0])&&(b=[]),ui=this.currentUrlTree.root}return hi(ui,b,mr,null!=Pn?Pn:null)}navigateByUrl(b,L={skipLocationChange:!1}){const he=_i(b)?b:this.parseUrl(b),ge=this.urlHandlingStrategy.merge(he,this.rawUrlTree);return this.scheduleNavigation(ge,Lr,null,L)}navigate(b,L={skipLocationChange:!1}){return function U(I){for(let S=0;S<I.length;S++)if(null==I[S])throw new d.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,L),L)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){try{return this.urlSerializer.parse(b)}catch{return this.urlSerializer.parse("/")}}isActive(b,L){let he;if(he=!0===L?{...bn}:!1===L?{...os}:L,_i(b))return Ln(this.currentUrlTree,b,he);const ge=this.parseUrl(b);return Ln(this.currentUrlTree,ge,he)}removeEmptyProps(b){return Object.entries(b).reduce((L,[he,ge])=>(null!=ge&&(L[he]=ge),L),{})}scheduleNavigation(b,L,he,ge,Dt){if(this.disposed)return Promise.resolve(!1);let Zt,Mt,Pn;Dt?(Zt=Dt.resolve,Mt=Dt.reject,Pn=Dt.promise):Pn=new Promise((ui,br)=>{Zt=ui,Mt=br});const mr=this.pendingTasks.add();return Ar(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:L,restoredState:he,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:ge,resolve:Zt,reject:Mt,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(ui=>Promise.reject(ui))}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})(),Ie=(()=>{var I;class S{constructor(b,L,he,ge,Dt,Zt){var Mt;this.router=b,this.route=L,this.tabIndexAttribute=he,this.renderer=ge,this.el=Dt,this.locationStrategy=Zt,this.href=null,this.onChanges=new _t.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Pn=null===(Mt=Dt.nativeElement.tagName)||void 0===Mt?void 0:Mt.toLowerCase();this.isAnchorElement="a"===Pn||"area"===Pn,this.isAnchorElement?this.subscription=b.events.subscribe(mr=>{mr instanceof Mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null==b?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=_i(b)||Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0"))}onClick(b,L,he,ge,Dt){const Zt=this.urlTree;return!!(null===Zt||this.isAnchorElement&&(0!==b||L||he||ge||Dt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Zt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}updateHref(){var b;const L=this.urlTree;this.href=null!==L&&this.locationStrategy?null===(b=this.locationStrategy)||void 0===b?void 0:b.prepareExternalUrl(this.router.serializeUrl(L)):null;const he=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",he)}applyAttributeValue(b,L){const he=this.renderer,ge=this.el.nativeElement;null!==L?he.setAttribute(ge,b,L):he.removeAttribute(ge,b)}get urlTree(){return null===this.routerLinkInput?null:_i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=S).\u0275fac=function(b){return new(b||I)(d.rXU(bi),d.rXU(jt),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(tt.hb))},I.\u0275dir=d.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,L){1&b&&d.bIt("click",function(ge){return L.onClick(ge.button,ge.ctrlKey,ge.shiftKey,ge.altKey,ge.metaKey)}),2&b&&d.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),S})();class Wt{}let wn=(()=>{var I;class S{preload(b,L){return L().pipe(hn(()=>(0,ce.of)(null)))}}return(I=S).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})(),zn=(()=>{var I;class S{constructor(b,L,he,ge,Dt){this.router=b,this.injector=he,this.preloadingStrategy=ge,this.loader=Dt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.p)(b=>b instanceof Mi),qe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,L){const he=[];for(const Mt of L){var ge,Dt;Mt.providers&&!Mt._injector&&(Mt._injector=(0,d.Ol2)(Mt.providers,b,`Route: ${Mt.path}`));const Pn=null!==(ge=Mt._injector)&&void 0!==ge?ge:b,mr=null!==(Dt=Mt._loadedInjector)&&void 0!==Dt?Dt:Pn;var Zt;(Mt.loadChildren&&!Mt._loadedRoutes&&void 0===Mt.canLoad||Mt.loadComponent&&!Mt._loadedComponent)&&he.push(this.preloadConfig(Pn,Mt)),(Mt.children||Mt._loadedRoutes)&&he.push(this.processRoutes(mr,null!==(Zt=Mt.children)&&void 0!==Zt?Zt:Mt._loadedRoutes))}return(0,le.H)(he).pipe((0,zt.U)())}preloadConfig(b,L){return this.preloadingStrategy.preload(L,()=>{let he;he=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(b,L):(0,ce.of)(null);const ge=he.pipe((0,nt.Z)(Dt=>{var Zt;return null===Dt?(0,ce.of)(void 0):(L._loadedRoutes=Dt.routes,L._loadedInjector=Dt.injector,this.processRoutes(null!==(Zt=Dt.injector)&&void 0!==Zt?Zt:b,Dt.routes))}));if(L.loadComponent&&!L._loadedComponent){const Dt=this.loader.loadComponent(L);return(0,le.H)([ge,Dt]).pipe((0,zt.U)())}return ge})}}return(I=S).\u0275fac=function(b){return new(b||I)(d.KVO(bi),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(Wt),d.KVO(xa))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),S})();const Dn=new d.nKC("");let Dr=(()=>{var I;class S{constructor(b,L,he,ge,Dt={}){this.urlSerializer=b,this.transitions=L,this.viewportScroller=he,this.zone=ge,this.options=Dt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Dt.scrollPositionRestoration||(Dt.scrollPositionRestoration="disabled"),Dt.anchorScrolling||(Dt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Mi?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Vi&&b.code===qi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ri&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,L){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ri(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))})},0)})}ngOnDestroy(){var b,L;null===(b=this.routerEventsSubscription)||void 0===b||b.unsubscribe(),null===(L=this.scrollEventsSubscription)||void 0===L||L.unsubscribe()}}return(I=S).\u0275fac=function(b){d.QTQ()},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac}),S})();function Hs(I,S){return{\u0275kind:I,\u0275providers:S}}function vs(){const I=(0,d.WQX)(d.zZn);return S=>{var O,b;const L=I.get(d.o8S);if(S!==L.components[0])return;const he=I.get(bi),ge=I.get(gu);1===I.get(Mo)&&he.initialNavigation(),null===(O=I.get($u,null,d.$GK.Optional))||void 0===O||O.setUpPreloading(),null===(b=I.get(Dn,null,d.$GK.Optional))||void 0===b||b.init(),he.resetRootComponentType(L.componentTypes[0]),ge.closed||(ge.next(),ge.complete(),ge.unsubscribe())}}const gu=new d.nKC("",{factory:()=>new _t.B}),Mo=new d.nKC("",{providedIn:"root",factory:()=>1}),$u=new d.nKC("");function zs(I){return Hs(0,[{provide:$u,useExisting:zn},{provide:Wt,useExisting:I}])}function mu(I){return Hs(9,[{provide:Ca,useValue:j},{provide:D,useValue:{skipNextTransition:!(null==I||!I.skipInitialTransition),...I}}])}const _s=new d.nKC("ROUTER_FORROOT_GUARD"),ys=[tt.aZ,{provide:tr,useClass:xn},bi,N,{provide:jt,useFactory:function po(I){return I.routerState.root},deps:[bi]},xa,[]];let ql=(()=>{var I;class S{constructor(b){}static forRoot(b,L){return{ngModule:S,providers:[ys,[],{provide:Yo,multi:!0,useValue:b},{provide:_s,useFactory:Ya,deps:[[bi,new d.Xx1,new d.kdw]]},{provide:Rs,useValue:L||{}},null!=L&&L.useHash?{provide:tt.hb,useClass:tt.fw}:{provide:tt.hb,useClass:tt.Sm},{provide:Dn,useFactory:()=>{const I=(0,d.WQX)(tt.Xr),S=(0,d.WQX)(d.SKi),O=(0,d.WQX)(Rs),b=(0,d.WQX)(pe),L=(0,d.WQX)(tr);return O.scrollOffset&&I.setOffset(O.scrollOffset),new Dr(L,b,I,S,O)}},null!=L&&L.preloadingStrategy?zs(L.preloadingStrategy).\u0275providers:[],null!=L&&L.initialNavigation?vu(L):[],null!=L&&L.bindToComponentInputs?Hs(8,[Xi,{provide:ao,useExisting:Xi}]).\u0275providers:[],null!=L&&L.enableViewTransitions?mu().\u0275providers:[],[{provide:Tl,useFactory:vs},{provide:d.iLQ,multi:!0,useExisting:Tl}]]}}static forChild(b){return{ngModule:S,providers:[{provide:Yo,multi:!0,useValue:b}]}}}return(I=S).\u0275fac=function(b){return new(b||I)(d.KVO(_s,8))},I.\u0275mod=d.$C({type:I}),I.\u0275inj=d.G2t({}),S})();function Ya(I){return"guarded"}function vu(I){return["disabled"===I.initialNavigation?Hs(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const S=(0,d.WQX)(bi);return()=>{S.setUpLocationChangeListener()}}},{provide:Mo,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Hs(2,[{provide:Mo,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:S=>{const O=S.get(tt.hj,Promise.resolve());return()=>O.then(()=>new Promise(b=>{const L=S.get(bi),he=S.get(gu);Ar(L,()=>{b(!0)}),S.get(pe).afterPreactivation=()=>(b(!0),he.closed?(0,ce.of)(void 0):he),L.initialNavigation()}))}}]).\u0275providers:[]]}const Tl=new d.nKC("")},3345:(gn,mt,P)=>{"use strict";P.d(mt,{A:()=>st});var d=P(1076),f=P(1362),Y=P(8742),J=P(8041);class le{constructor(ft,tt){this._delegate=ft,this.firebase=tt,(0,Y._addComponent)(ft,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this._delegate.automaticDataCollectionEnabled=ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ft=>{this._delegate.checkDestroyed(),ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(ft,tt=Y._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(ft);return!ct.isInitialized()&&"EXPLICIT"===(null===(pt=ct.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:tt})}_removeServiceInstance(ft,tt=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ft).clearInstance(tt)}_addComponent(ft){(0,Y._addComponent)(this._delegate,ft)}_addOrOverwriteComponent(ft){(0,Y._addOrOverwriteComponent)(this._delegate,ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function He(){const _t=function xe(_t){const ft={},tt={__esModule:!0,initializeApp:function Ee(Je,qe={}){const Se=Y.initializeApp(Je,qe);if((0,d.gR)(ft,Se.name))return ft[Se.name];const Me=new _t(Se,tt);return ft[Se.name]=Me,Me},app:ct,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function Ve(Je){const qe=Je.name,Se=qe.replace("-compat","");if(Y._registerComponent(Je)&&"PUBLIC"===Je.type){const Me=(kt=ct())=>{if("function"!=typeof kt[Se])throw Ce.create("invalid-app-argument",{appName:qe});return kt[Se]()};void 0!==Je.serviceProps&&(0,d.zw)(Me,Je.serviceProps),tt[Se]=Me,_t.prototype[Se]=function(...kt){return this._getService.bind(this,qe).apply(this,Je.multipleInstances?kt:[])}}return"PUBLIC"===Je.type?tt[Se]:null},removeApp:function pt(Je){delete ft[Je]},useAsService:function nt(Je,qe){return"serverAuth"===qe?null:qe},modularAPIs:Y}};function ct(Je){if(!(0,d.gR)(ft,Je=Je||Y._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Je});return ft[Je]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function Ne(){return Object.keys(ft).map(Je=>ft[Je])}}),ct.App=_t,tt}(le);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function ft(tt){(0,d.zw)(_t,tt)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),_t}(),me=new J.Vy("@firebase/app-compat");try{const _t=(0,d.mS)();if(void 0!==_t.firebase){me.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const ft=_t.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&me.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const st=ye;!function Ge(_t){(0,Y.registerVersion)("@firebase/app-compat","0.2.40",_t)}()},8742:(gn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{FirebaseError:()=>J.g,SDK_VERSION:()=>lt,_DEFAULT_ENTRY_NAME:()=>ee,_addComponent:()=>Qe,_addOrOverwriteComponent:()=>zt,_apps:()=>Te,_clearComponents:()=>Nn,_components:()=>Xe,_getProvider:()=>Nt,_isFirebaseApp:()=>Ct,_isFirebaseServerApp:()=>On,_registerComponent:()=>Rt,_removeServiceInstance:()=>pn,_serverApps:()=>ut,deleteApp:()=>Qn,getApp:()=>on,getApps:()=>Ln,initializeApp:()=>De,initializeServerApp:()=>Fe,onLog:()=>Qt,registerVersion:()=>Cn,setLogLevel:()=>zr});var d=P(467),f=P(1362),Y=P(8041),J=P(1076),le=P(6749);class ce{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Q=>{if(function Ce(it){const ve=it.getComponent();return"VERSION"===(null==ve?void 0:ve.type)}(Q)){const ne=Q.getImmediate();return`${ne.library}/${ne.version}`}return null}).filter(Q=>Q).join(" ")}}const xe="@firebase/app",He="0.10.10",ye=new Y.Vy("@firebase/app"),me="@firebase/app-compat",ze="@firebase/analytics-compat",Ke="@firebase/analytics",Ge="@firebase/app-check-compat",st="@firebase/app-check",_t="@firebase/auth",ft="@firebase/auth-compat",tt="@firebase/database",pt="@firebase/database-compat",ct="@firebase/functions",Ee="@firebase/functions-compat",Ne="@firebase/installations",Ve="@firebase/installations-compat",nt="@firebase/messaging",Je="@firebase/messaging-compat",qe="@firebase/performance",Se="@firebase/performance-compat",Me="@firebase/remote-config",kt="@firebase/remote-config-compat",Vt="@firebase/storage",hn="@firebase/storage-compat",qt="@firebase/firestore",sn="@firebase/vertexai-preview",dt="@firebase/firestore-compat",be="firebase",ee="[DEFAULT]",ae={[xe]:"fire-core",[me]:"fire-core-compat",[Ke]:"fire-analytics",[ze]:"fire-analytics-compat",[st]:"fire-app-check",[Ge]:"fire-app-check-compat",[_t]:"fire-auth",[ft]:"fire-auth-compat",[tt]:"fire-rtdb",[pt]:"fire-rtdb-compat",[ct]:"fire-fn",[Ee]:"fire-fn-compat",[Ne]:"fire-iid",[Ve]:"fire-iid-compat",[nt]:"fire-fcm",[Je]:"fire-fcm-compat",[qe]:"fire-perf",[Se]:"fire-perf-compat",[Me]:"fire-rc",[kt]:"fire-rc-compat",[Vt]:"fire-gcs",[hn]:"fire-gcs-compat",[qt]:"fire-fst",[dt]:"fire-fst-compat",[sn]:"fire-vertex","fire-js":"fire-js",[be]:"fire-js-all"},Te=new Map,ut=new Map,Xe=new Map;function Qe(it,ve){try{it.container.addComponent(ve)}catch(Q){ye.debug(`Component ${ve.name} failed to register with FirebaseApp ${it.name}`,Q)}}function zt(it,ve){it.container.addOrOverwriteComponent(ve)}function Rt(it){const ve=it.name;if(Xe.has(ve))return ye.debug(`There were multiple attempts to register component ${ve}.`),!1;Xe.set(ve,it);for(const Q of Te.values())Qe(Q,it);for(const Q of ut.values())Qe(Q,it);return!0}function Nt(it,ve){const Q=it.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),it.container.getProvider(ve)}function pn(it,ve,Q=ee){Nt(it,ve).clearInstance(Q)}function Ct(it){return void 0!==it.options}function On(it){return void 0!==it.settings}function Nn(){Xe.clear()}const Bt=new J.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rn{constructor(ve,Q,ne){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=ne,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}class Xn extends rn{constructor(ve,Q,ne,Oe){const Et=void 0!==Q.automaticDataCollectionEnabled&&Q.automaticDataCollectionEnabled,ot={name:ne,automaticDataCollectionEnabled:Et};super(void 0!==ve.apiKey?ve:ve.options,ot,Oe),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Et},Q),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Q.releaseOnDeref=void 0,Cn(xe,He,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ve){this.isDeleted||(this._refCount++,void 0!==ve&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ve,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Bt.create("server-app-deleted")}}const lt="10.13.1";function De(it,ve={}){let Q=it;"object"!=typeof ve&&(ve={name:ve});const ne=Object.assign({name:ee,automaticDataCollectionEnabled:!1},ve),Oe=ne.name;if("string"!=typeof Oe||!Oe)throw Bt.create("bad-app-name",{appName:String(Oe)});if(Q||(Q=(0,J.T9)()),!Q)throw Bt.create("no-options");const Et=Te.get(Oe);if(Et){if((0,J.bD)(Q,Et.options)&&(0,J.bD)(ne,Et.config))return Et;throw Bt.create("duplicate-app",{appName:Oe})}const ot=new f.h1(Oe);for(const kn of Xe.values())ot.addComponent(kn);const Jt=new rn(Q,ne,ot);return Te.set(Oe,Jt),Jt}function Fe(it,ve){if((0,J.Bd)()&&!(0,J.p7)())throw Bt.create("invalid-server-app-environment");let Q;void 0===ve.automaticDataCollectionEnabled&&(ve.automaticDataCollectionEnabled=!1),Q=Ct(it)?it.options:it;const ne=Object.assign(Object.assign({},ve),Q);if(void 0!==ne.releaseOnDeref&&delete ne.releaseOnDeref,void 0!==ve.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Bt.create("finalization-registry-not-supported",{});const Et=""+(Fn=JSON.stringify(ne),[...Fn].reduce((Fr,xr)=>Math.imul(31,Fr)+xr.charCodeAt(0)|0,0)),ot=ut.get(Et);var Fn;if(ot)return ot.incRefCount(ve.releaseOnDeref),ot;const Jt=new f.h1(Et);for(const Fn of Xe.values())Jt.addComponent(Fn);const kn=new Xn(Q,ve,Et,Jt);return ut.set(Et,kn),kn}function on(it=ee){const ve=Te.get(it);if(!ve&&it===ee&&(0,J.T9)())return De();if(!ve)throw Bt.create("no-app",{appName:it});return ve}function Ln(){return Array.from(Te.values())}function Qn(it){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.A)(function*(it){let ve=!1;const Q=it.name;Te.has(Q)?(ve=!0,Te.delete(Q)):ut.has(Q)&&it.decRefCount()<=0&&(ut.delete(Q),ve=!0),ve&&(yield Promise.all(it.container.getProviders().map(ne=>ne.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Cn(it,ve,Q){var ne;let Oe=null!==(ne=ae[it])&&void 0!==ne?ne:it;Q&&(Oe+=`-${Q}`);const Et=Oe.match(/\s|\//),ot=ve.match(/\s|\//);if(Et||ot){const Jt=[`Unable to register library "${Oe}" with version "${ve}":`];return Et&&Jt.push(`library name "${Oe}" contains illegal characters (whitespace or "/")`),Et&&ot&&Jt.push("and"),ot&&Jt.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void ye.warn(Jt.join(" "))}Rt(new f.uA(`${Oe}-version`,()=>({library:Oe,version:ve}),"VERSION"))}function Qt(it,ve){if(null!==it&&"function"!=typeof it)throw Bt.create("invalid-log-argument");(0,Y.Ey)(it,ve)}function zr(it){(0,Y.He)(it)}const Ur="firebase-heartbeat-database",Ir=1,cr="firebase-heartbeat-store";let jr=null;function Fi(){return jr||(jr=(0,le.P2)(Ur,Ir,{upgrade:(it,ve)=>{if(0===ve)try{it.createObjectStore(cr)}catch(Q){console.warn(Q)}}}).catch(it=>{throw Bt.create("idb-open",{originalErrorMessage:it.message})})),jr}function Si(){return(Si=(0,d.A)(function*(it){try{const Q=(yield Fi()).transaction(cr),ne=yield Q.objectStore(cr).get(Rn(it));return yield Q.done,ne}catch(ve){if(ve instanceof J.g)ye.warn(ve.message);else{const Q=Bt.create("idb-get",{originalErrorMessage:null==ve?void 0:ve.message});ye.warn(Q.message)}}})).apply(this,arguments)}function tr(it,ve){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(it,ve){try{const ne=(yield Fi()).transaction(cr,"readwrite");yield ne.objectStore(cr).put(ve,Rn(it)),yield ne.done}catch(Q){if(Q instanceof J.g)ye.warn(Q.message);else{const ne=Bt.create("idb-set",{originalErrorMessage:null==Q?void 0:Q.message});ye.warn(ne.message)}}})).apply(this,arguments)}function Rn(it){return`${it.name}!${it.options.appId}`}class Ci{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this._storage=new oi(Q),this._heartbeatsCachePromise=this._storage.read().then(ne=>(this._heartbeatsCache=ne,ne))}triggerHeartbeat(){var ve=this;return(0,d.A)(function*(){var Q,ne;try{const Et=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=lr();return null==(null===(Q=ve._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise,null==(null===(ne=ve._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats))||ve._heartbeatsCache.lastSentHeartbeatDate===ot||ve._heartbeatsCache.heartbeats.some(Jt=>Jt.date===ot)?void 0:(ve._heartbeatsCache.heartbeats.push({date:ot,agent:Et}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(Jt=>{const kn=new Date(Jt.date).valueOf();return Date.now()-kn<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache))}catch(Oe){ye.warn(Oe)}})()}getHeartbeatsHeader(){var ve=this;return(0,d.A)(function*(){var Q;try{if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null==(null===(Q=ve._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)||0===ve._heartbeatsCache.heartbeats.length)return"";const ne=lr(),{heartbeatsToSend:Oe,unsentEntries:Et}=function mn(it,ve=1024){const Q=[];let ne=it.slice();for(const Oe of it){const Et=Q.find(ot=>ot.agent===Oe.agent);if(Et){if(Et.dates.push(Oe.date),xt(Q)>ve){Et.dates.pop();break}}else if(Q.push({agent:Oe.agent,dates:[Oe.date]}),xt(Q)>ve){Q.pop();break}ne=ne.slice(1)}return{heartbeatsToSend:Q,unsentEntries:ne}}(ve._heartbeatsCache.heartbeats),ot=(0,J.Uj)(JSON.stringify({version:2,heartbeats:Oe}));return ve._heartbeatsCache.lastSentHeartbeatDate=ne,Et.length>0?(ve._heartbeatsCache.heartbeats=Et,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),ot}catch(ne){return ye.warn(ne),""}})()}}function lr(){return(new Date).toISOString().substring(0,10)}class oi{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,J.zW)()&&(0,J.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,d.A)(function*(){if(yield ve._canUseIndexedDBPromise){const ne=yield function yn(it){return Si.apply(this,arguments)}(ve.app);return null!=ne&&ne.heartbeats?ne:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ve){var Q=this;return(0,d.A)(function*(){var ne;if(yield Q._canUseIndexedDBPromise){const Et=yield Q.read();return tr(Q.app,{lastSentHeartbeatDate:null!==(ne=ve.lastSentHeartbeatDate)&&void 0!==ne?ne:Et.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Q=this;return(0,d.A)(function*(){var ne;if(yield Q._canUseIndexedDBPromise){const Et=yield Q.read();return tr(Q.app,{lastSentHeartbeatDate:null!==(ne=ve.lastSentHeartbeatDate)&&void 0!==ne?ne:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...ve.heartbeats]})}})()}}function xt(it){return(0,J.Uj)(JSON.stringify({version:2,heartbeats:it})).length}!function gt(it){Rt(new f.uA("platform-logger",ve=>new ce(ve),"PRIVATE")),Rt(new f.uA("heartbeat",ve=>new Ci(ve),"PRIVATE")),Cn(xe,He,it),Cn(xe,He,"esm2017"),Cn("fire-js","")}("")},1362:(gn,mt,P)=>{"use strict";P.d(mt,{h1:()=>xe,uA:()=>Y});var d=P(467),f=P(1076);class Y{constructor(ye,me,ze){this.name=ye,this.instanceFactory=me,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const J="[DEFAULT]";class le{constructor(ye,me){this.name=ye,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const me=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(me)){const ze=new f.cY;if(this.instancesDeferred.set(me,ze),this.isInitialized(me)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:me});Ke&&ze.resolve(Ke)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ye){var me;const ze=this.normalizeInstanceIdentifier(null==ye?void 0:ye.identifier),Ke=null!==(me=null==ye?void 0:ye.optional)&&void 0!==me&&me;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(Ge){if(Ke)return null;throw Ge}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function Ce(He){return"EAGER"===He.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[me,ze]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(me);try{const Ge=this.getOrInitializeService({instanceIdentifier:Ke});ze.resolve(Ge)}catch{}}}}clearInstance(ye=J){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,d.A)(function*(){const me=Array.from(ye.instances.values());yield Promise.all([...me.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...me.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=J){return this.instances.has(ye)}getOptions(ye=J){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:me={}}=ye,ze=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ze,options:me});for(const[Ge,st]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(Ge)&&st.resolve(Ke);return Ke}onInit(ye,me){var ze;const Ke=this.normalizeInstanceIdentifier(me),Ge=null!==(ze=this.onInitCallbacks.get(Ke))&&void 0!==ze?ze:new Set;Ge.add(ye),this.onInitCallbacks.set(Ke,Ge);const st=this.instances.get(Ke);return st&&ye(st,Ke),()=>{Ge.delete(ye)}}invokeOnInitCallbacks(ye,me){const ze=this.onInitCallbacks.get(me);if(ze)for(const Ke of ze)try{Ke(ye,me)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:me={}}){let ze=this.instances.get(ye);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(He=ye,He===J?void 0:He),options:me}),this.instances.set(ye,ze),this.instancesOptions.set(ye,me),this.invokeOnInitCallbacks(ze,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,ze)}catch{}var He;return ze||null}normalizeInstanceIdentifier(ye=J){return this.component?this.component.multipleInstances?ye:J:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const me=this.getProvider(ye.name);if(me.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);me.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const me=new le(ye,this);return this.providers.set(ye,me),me}getProviders(){return Array.from(this.providers.values())}}},8041:(gn,mt,P)=>{"use strict";P.d(mt,{$b:()=>f,Ey:()=>He,He:()=>xe,Vy:()=>Ce});const d=[];var f=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(f||{});const Y={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},J=f.INFO,le={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},ce=(ye,me,...ze)=>{if(me<ye.logLevel)return;const Ke=(new Date).toISOString(),Ge=le[me];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ge](`[${Ke}]  ${ye.name}:`,...ze)};class Ce{constructor(me){this.name=me,this._logLevel=J,this._logHandler=ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in f))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?Y[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...me),this._logHandler(this,f.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...me),this._logHandler(this,f.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,f.INFO,...me),this._logHandler(this,f.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,f.WARN,...me),this._logHandler(this,f.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...me),this._logHandler(this,f.ERROR,...me)}}function xe(ye){d.forEach(me=>{me.setLogLevel(ye)})}function He(ye,me){for(const ze of d){let Ke=null;me&&me.level&&(Ke=Y[me.level]),ze.userLogHandler=null===ye?null:(Ge,st,..._t)=>{const ft=_t.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch{return null}}).filter(tt=>tt).join(" ");st>=(null!=Ke?Ke:Ge.logLevel)&&ye({level:f[st].toLowerCase(),message:ft,args:_t,type:Ge.name})}}}},2872:(gn,mt,P)=>{"use strict";P.d(mt,{Yq:()=>lt,TS:()=>Gn,sR:()=>Bt,el:()=>Fn,Sb:()=>tr,QE:()=>vr,CF:()=>Fi,Rg:()=>Q,p4:()=>_i,jM:()=>Ji,q9:()=>pn,Kb:()=>eo,OD:()=>zt,CE:()=>Fr,pF:()=>xr,fL:()=>Zi,YV:()=>ot,er:()=>$i,z3:()=>hi});var d=P(467),f=P(9842),Y=P(3953),J=P(3225),le=P(177),ce=P(5531),Ce=P(4442);var kt=P(1413),Vt=P(3726),hn=P(4412),qt=P(4572),sn=P(7673),dt=P(1635),be=P(5964),Z=P(5558),ee=P(3294),ae=P(4341);const Te=["tabsInner"];let zt=(()=>{var je;class _e{constructor(oe,re){(0,f.A)(this,"doc",void 0),(0,f.A)(this,"_readyPromise",void 0),(0,f.A)(this,"win",void 0),(0,f.A)(this,"backButton",new kt.B),(0,f.A)(this,"keyboardDidShow",new kt.B),(0,f.A)(this,"keyboardDidHide",new kt.B),(0,f.A)(this,"pause",new kt.B),(0,f.A)(this,"resume",new kt.B),(0,f.A)(this,"resize",new kt.B),this.doc=oe,re.run(()=>{var Le;let Pt;this.win=oe.defaultView,this.backButton.subscribeWithPriority=function(an,vn){return this.subscribe(sr=>sr.register(an,Bn=>re.run(()=>vn(Bn))))},Nt(this.pause,oe,"pause",re),Nt(this.resume,oe,"resume",re),Nt(this.backButton,oe,"ionBackButton",re),Nt(this.resize,this.win,"resize",re),Nt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",re),Nt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",re),this._readyPromise=new Promise(an=>{Pt=an}),null!==(Le=this.win)&&void 0!==Le&&Le.cordova?oe.addEventListener("deviceready",()=>{Pt("cordova")},{once:!0}):Pt("dom")})}is(oe){return(0,ce.a)(this.win,oe)}platforms(){return(0,ce.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(oe){return Rt(this.win.location.href,oe)}isLandscape(){return!this.isPortrait()}isPortrait(){var oe,re;return null===(oe=(re=this.win).matchMedia)||void 0===oe?void 0:oe.call(re,"(orientation: portrait)").matches}testUserAgent(oe){const re=this.win.navigator;return!!(null!=re&&re.userAgent&&re.userAgent.indexOf(oe)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.KVO(le.qQ),Y.KVO(Y.SKi))}),(0,f.A)(_e,"\u0275prov",Y.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})),_e})();const Rt=(je,_e)=>{_e=_e.replace(/[[\]\\]/g,"\\$&");const oe=new RegExp("[\\?&]"+_e+"=([^&#]*)").exec(je);return oe?decodeURIComponent(oe[1].replace(/\+/g," ")):null},Nt=(je,_e,ht,oe)=>{_e&&_e.addEventListener(ht,re=>{oe.run(()=>{je.next(null!=re?re.detail:void 0)})})};let pn=(()=>{var je;class _e{constructor(oe,re,Le,Pt){(0,f.A)(this,"location",void 0),(0,f.A)(this,"serializer",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"topOutlet",void 0),(0,f.A)(this,"direction",On),(0,f.A)(this,"animated",Nn),(0,f.A)(this,"animationBuilder",void 0),(0,f.A)(this,"guessDirection","forward"),(0,f.A)(this,"guessAnimation",void 0),(0,f.A)(this,"lastNavId",-1),this.location=re,this.serializer=Le,this.router=Pt,Pt&&Pt.events.subscribe(an=>{if(an instanceof J.Z){const vn=an.restoredState?an.restoredState.navigationId:an.id;this.guessDirection=this.guessAnimation=vn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?an.id:vn}}),oe.backButton.subscribeWithPriority(0,an=>{this.pop(),an()})}navigateForward(oe,re={}){return this.setDirection("forward",re.animated,re.animationDirection,re.animation),this.navigate(oe,re)}navigateBack(oe,re={}){return this.setDirection("back",re.animated,re.animationDirection,re.animation),this.navigate(oe,re)}navigateRoot(oe,re={}){return this.setDirection("root",re.animated,re.animationDirection,re.animation),this.navigate(oe,re)}back(oe={animated:!0,animationDirection:"back"}){return this.setDirection("back",oe.animated,oe.animationDirection,oe.animation),this.location.back()}pop(){var oe=this;return(0,d.A)(function*(){let re=oe.topOutlet;for(;re;){if(yield re.pop())return!0;re=re.parentOutlet}return!1})()}setDirection(oe,re,Le,Pt){this.direction=oe,this.animated=Ct(oe,re,Le),this.animationBuilder=Pt}setTopOutlet(oe){this.topOutlet=oe}consumeTransition(){let re,oe="root";const Le=this.animationBuilder;return"auto"===this.direction?(oe=this.guessDirection,re=this.guessAnimation):(re=this.animated,oe=this.direction),this.direction=On,this.animated=Nn,this.animationBuilder=void 0,{direction:oe,animation:re,animationBuilder:Le}}navigate(oe,re){if(Array.isArray(oe))return this.router.navigate(oe,re);{const Le=this.serializer.parse(oe.toString());return void 0!==re.queryParams&&(Le.queryParams={...re.queryParams}),void 0!==re.fragment&&(Le.fragment=re.fragment),this.router.navigateByUrl(Le,re)}}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.KVO(zt),Y.KVO(le.aZ),Y.KVO(J.Sd),Y.KVO(J.Ix,8))}),(0,f.A)(_e,"\u0275prov",Y.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})),_e})();const Ct=(je,_e,ht)=>{if(!1!==_e){if(void 0!==ht)return ht;if("forward"===je||"back"===je)return je;if("root"===je&&!0===_e)return"forward"}},On="auto",Nn=void 0;let Gn=(()=>{var je;class _e{get(oe,re){const Le=rn();return Le?Le.get(oe,re):null}getBoolean(oe,re){const Le=rn();return!!Le&&Le.getBoolean(oe,re)}getNumber(oe,re){const Le=rn();return Le?Le.getNumber(oe,re):0}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)}),(0,f.A)(_e,"\u0275prov",Y.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})),_e})();const Bt=new Y.nKC("USERCONFIG"),rn=()=>{if(typeof window<"u"){const je=window.Ionic;if(null!=je&&je.config)return je.config}return null};class Xn{constructor(_e={}){(0,f.A)(this,"data",void 0),this.data=_e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(_e){return this.data[_e]}}let lt=(()=>{var je;class _e{constructor(){(0,f.A)(this,"zone",(0,Y.WQX)(Y.SKi)),(0,f.A)(this,"applicationRef",(0,Y.WQX)(Y.o8S)),(0,f.A)(this,"config",(0,Y.WQX)(Bt))}create(oe,re,Le){var Pt;return new De(oe,re,this.applicationRef,this.zone,Le,null!==(Pt=this.config.useSetInputAPI)&&void 0!==Pt&&Pt)}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)}),(0,f.A)(_e,"\u0275prov",Y.jDH({token:je,factory:je.\u0275fac})),_e})();class De{constructor(_e,ht,oe,re,Le,Pt){(0,f.A)(this,"environmentInjector",void 0),(0,f.A)(this,"injector",void 0),(0,f.A)(this,"applicationRef",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"elementReferenceKey",void 0),(0,f.A)(this,"enableSignalsSupport",void 0),(0,f.A)(this,"elRefMap",new WeakMap),(0,f.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=_e,this.injector=ht,this.applicationRef=oe,this.zone=re,this.elementReferenceKey=Le,this.enableSignalsSupport=Pt}attachViewToDom(_e,ht,oe,re){return this.zone.run(()=>new Promise(Le=>{const Pt={...oe};void 0!==this.elementReferenceKey&&(Pt[this.elementReferenceKey]=_e),Le(Fe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,_e,ht,Pt,re,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(_e,ht){return this.zone.run(()=>new Promise(oe=>{const re=this.elRefMap.get(ht);if(re){re.destroy(),this.elRefMap.delete(ht);const Le=this.elEventsMap.get(ht);Le&&(Le(),this.elEventsMap.delete(ht))}oe()}))}}const Fe=(je,_e,ht,oe,re,Le,Pt,an,vn,sr,Bn,pi)=>{const Lr=Y.zZn.create({providers:Wn(vn),parent:ht}),ur=(0,Y.a0P)(an,{environmentInjector:_e,elementInjector:Lr}),ni=ur.instance,Li=ur.location.nativeElement;if(vn)if(Bn&&void 0!==ni[Bn]&&console.error(`[Ionic Error]: ${Bn} is a reserved property when using ${Pt.tagName.toLowerCase()}. Rename or remove the "${Bn}" property from ${an.name}.`),!0===pi&&void 0!==ur.setInput){const{modal:ai,popover:qi,...ji}=vn;for(const Vi in ji)ur.setInput(Vi,ji[Vi]);void 0!==ai&&Object.assign(ni,{modal:ai}),void 0!==qi&&Object.assign(ni,{popover:qi})}else Object.assign(ni,vn);if(sr)for(const ai of sr)Li.classList.add(ai);const Mi=Ln(je,ni,Li);return Pt.appendChild(Li),oe.attachView(ur.hostView),re.set(Li,ur),Le.set(Li,Mi),Li},on=[Ce.L,Ce.a,Ce.b,Ce.c,Ce.d],Ln=(je,_e,ht)=>je.run(()=>{const oe=on.filter(re=>"function"==typeof _e[re]).map(re=>{const Le=Pt=>_e[re](Pt.detail);return ht.addEventListener(re,Le),()=>ht.removeEventListener(re,Le)});return()=>oe.forEach(re=>re())}),Qn=new Y.nKC("NavParamsToken"),Wn=je=>[{provide:Qn,useValue:je},{provide:Xn,useFactory:Cn,deps:[Qn]}],Cn=je=>new Xn(je),Qt=(je,_e)=>{const ht=je.prototype;_e.forEach(oe=>{Object.defineProperty(ht,oe,{get(){return this.el[oe]},set(re){this.z.runOutsideAngular(()=>this.el[oe]=re)}})})},zr=(je,_e)=>{const ht=je.prototype;_e.forEach(oe=>{ht[oe]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[oe].apply(this.el,re))}})},Ur=(je,_e,ht)=>{ht.forEach(oe=>je[oe]=(0,Vt.R)(_e,oe))};function Ir(je){return function(ht){const{defineCustomElementFn:oe,inputs:re,methods:Le}=je;return void 0!==oe&&oe(),re&&Qt(ht,re),Le&&zr(ht,Le),ht}}const cr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],jr=["present","dismiss","onDidDismiss","onWillDismiss"];let Fi=(()=>{var je;let _e=((0,f.A)(je=class{constructor(oe,re,Le){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=Le,this.el=re.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,oe.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,oe.detectChanges()}),Ur(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(oe){return new(oe||je)(Y.rXU(Y.gRc),Y.rXU(Y.aKT),Y.rXU(Y.SKi))}),(0,f.A)(je,"\u0275dir",Y.FsC({type:je,selectors:[["ion-popover"]],contentQueries:function(oe,re,Le){if(1&oe&&Y.wni(Le,Y.C4Q,5),2&oe){let Pt;Y.mGM(Pt=Y.lsd())&&(re.template=Pt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),je);return _e=(0,dt.Cg)([Ir({inputs:cr,methods:jr})],_e),_e})();const yn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Si=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let tr=(()=>{var je;let _e=((0,f.A)(je=class{constructor(oe,re,Le){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=Le,this.el=re.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,oe.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,oe.detectChanges()}),Ur(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(oe){return new(oe||je)(Y.rXU(Y.gRc),Y.rXU(Y.aKT),Y.rXU(Y.SKi))}),(0,f.A)(je,"\u0275dir",Y.FsC({type:je,selectors:[["ion-modal"]],contentQueries:function(oe,re,Le){if(1&oe&&Y.wni(Le,Y.C4Q,5),2&oe){let Pt;Y.mGM(Pt=Y.lsd())&&(re.template=Pt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),je);return _e=(0,dt.Cg)([Ir({inputs:yn,methods:Si})],_e),_e})();const Rn=(je,_e)=>((je=je.filter(ht=>ht.stackId!==_e.stackId)).push(_e),je),Ci=(je,_e)=>{const ht=je.createUrlTree(["."],{relativeTo:_e});return je.serializeUrl(ht)},lr=(je,_e)=>!_e||je.stackId!==_e.stackId,mn=(je,_e)=>{if(!je)return;const ht=oi(_e);for(let oe=0;oe<ht.length;oe++){if(oe>=je.length)return ht[oe];if(ht[oe]!==je[oe])return}},oi=je=>je.split("/").map(_e=>_e.trim()).filter(_e=>""!==_e),xt=je=>{je&&(je.ref.destroy(),je.unlistenEvents())};class gt{constructor(_e,ht,oe,re,Le,Pt){(0,f.A)(this,"containerEl",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"location",void 0),(0,f.A)(this,"views",[]),(0,f.A)(this,"runningTask",void 0),(0,f.A)(this,"skipTransition",!1),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"activeView",void 0),(0,f.A)(this,"nextId",0),this.containerEl=ht,this.router=oe,this.navCtrl=re,this.zone=Le,this.location=Pt,this.tabsPrefix=void 0!==_e?oi(_e):void 0}createView(_e,ht){var oe;const re=Ci(this.router,ht),Le=null==_e||null===(oe=_e.location)||void 0===oe?void 0:oe.nativeElement,Pt=Ln(this.zone,_e.instance,Le);return{id:this.nextId++,stackId:mn(this.tabsPrefix,re),unlistenEvents:Pt,element:Le,ref:_e,url:re}}getExistingView(_e){const ht=Ci(this.router,_e),oe=this.views.find(re=>re.url===ht);return oe&&oe.ref.changeDetectorRef.reattach(),oe}setActive(_e){var ht,oe;const re=this.navCtrl.consumeTransition();let{direction:Le,animation:Pt,animationBuilder:an}=re;const vn=this.activeView,sr=lr(_e,vn);sr&&(Le="back",Pt=void 0);const Bn=this.views.slice();let pi;const Lr=this.router;Lr.getCurrentNavigation?pi=Lr.getCurrentNavigation():null!==(ht=Lr.navigations)&&void 0!==ht&&ht.value&&(pi=Lr.navigations.value),null!==(oe=pi)&&void 0!==oe&&null!==(oe=oe.extras)&&void 0!==oe&&oe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ur=this.views.includes(_e),ni=this.insertView(_e,Le);ur||_e.ref.changeDetectorRef.detectChanges();const Li=_e.animationBuilder;return void 0===an&&"back"===Le&&!sr&&void 0!==Li&&(an=Li),vn&&(vn.animationBuilder=an),this.zone.runOutsideAngular(()=>this.wait(()=>(vn&&vn.ref.changeDetectorRef.detach(),_e.ref.changeDetectorRef.reattach(),this.transition(_e,vn,Pt,this.canGoBack(1),!1,an).then(()=>it(_e,ni,Bn,this.location,this.zone)).then(()=>({enteringView:_e,direction:Le,animation:Pt,tabSwitch:sr})))))}canGoBack(_e,ht=this.getActiveStackId()){return this.getStack(ht).length>_e}pop(_e,ht=this.getActiveStackId()){return this.zone.run(()=>{const oe=this.getStack(ht);if(oe.length<=_e)return Promise.resolve(!1);const re=oe[oe.length-_e-1];let Le=re.url;const Pt=re.savedData;if(Pt){var an;const sr=Pt.get("primary");null!=sr&&null!==(an=sr.route)&&void 0!==an&&null!==(an=an._routerState)&&void 0!==an&&an.snapshot.url&&(Le=sr.route._routerState.snapshot.url)}const{animationBuilder:vn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Le,{...re.savedExtras,animation:vn}).then(()=>!0)})}startBackTransition(){const _e=this.activeView;if(_e){const ht=this.getStack(_e.stackId),oe=ht[ht.length-2],re=oe.animationBuilder;return this.wait(()=>this.transition(oe,_e,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(_e){_e?(this.skipTransition=!0,this.pop(1)):this.activeView&&ve(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(_e){const ht=this.getStack(_e);return ht.length>0?ht[ht.length-1]:void 0}getRootUrl(_e){const ht=this.getStack(_e);return ht.length>0?ht[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(xt),this.activeView=void 0,this.views=[]}getStack(_e){return this.views.filter(ht=>ht.stackId===_e)}insertView(_e,ht){return this.activeView=_e,this.views=((je,_e,ht)=>"root"===ht?Rn(je,_e):"forward"===ht?((je,_e)=>(je.indexOf(_e)>=0?je=je.filter(oe=>oe.stackId!==_e.stackId||oe.id<=_e.id):je.push(_e),je))(je,_e):((je,_e)=>je.indexOf(_e)>=0?je.filter(oe=>oe.stackId!==_e.stackId||oe.id<=_e.id):Rn(je,_e))(je,_e))(this.views,_e,ht),this.views.slice()}transition(_e,ht,oe,re,Le,Pt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ht===_e)return Promise.resolve(!1);const an=_e?_e.element:void 0,vn=ht?ht.element:void 0,sr=this.containerEl;return an&&an!==vn&&(an.classList.add("ion-page"),an.classList.add("ion-page-invisible"),sr.commit)?sr.commit(an,vn,{duration:void 0===oe?0:void 0,direction:oe,showGoBack:re,progressAnimation:Le,animationBuilder:Pt}):Promise.resolve(!1)}wait(_e){var ht=this;return(0,d.A)(function*(){void 0!==ht.runningTask&&(yield ht.runningTask,ht.runningTask=void 0);const oe=ht.runningTask=_e();return oe.finally(()=>ht.runningTask=void 0),oe})()}}const it=(je,_e,ht,oe,re)=>"function"==typeof requestAnimationFrame?new Promise(Le=>{requestAnimationFrame(()=>{ve(je,_e,ht,oe,re),Le()})}):Promise.resolve(),ve=(je,_e,ht,oe,re)=>{re.run(()=>ht.filter(Le=>!_e.includes(Le)).forEach(xt)),_e.forEach(Le=>{const an=oe.path().split("?")[0].split("#")[0];if(Le!==je&&Le.url!==an){const vn=Le.element;vn.setAttribute("aria-hidden","true"),vn.classList.add("ion-page-hidden"),Le.ref.changeDetectorRef.detach()}})};let Q=(()=>{var je;class _e{get activatedComponentRef(){return this.activated}set animation(oe){this.nativeEl.animation=oe}set animated(oe){this.nativeEl.animated=oe}set swipeGesture(oe){this._swipeGesture=oe,this.nativeEl.swipeHandler=oe?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:re=>this.stackCtrl.endBackTransition(re)}:void 0}constructor(oe,re,Le,Pt,an,vn,sr,Bn){(0,f.A)(this,"parentOutlet",void 0),(0,f.A)(this,"nativeEl",void 0),(0,f.A)(this,"activatedView",null),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"_swipeGesture",void 0),(0,f.A)(this,"stackCtrl",void 0),(0,f.A)(this,"proxyMap",new WeakMap),(0,f.A)(this,"currentActivatedRoute$",new hn.t(null)),(0,f.A)(this,"activated",null),(0,f.A)(this,"_activatedRoute",null),(0,f.A)(this,"name",J.Xk),(0,f.A)(this,"stackWillChange",new Y.bkB),(0,f.A)(this,"stackDidChange",new Y.bkB),(0,f.A)(this,"activateEvents",new Y.bkB),(0,f.A)(this,"deactivateEvents",new Y.bkB),(0,f.A)(this,"parentContexts",(0,Y.WQX)(J.Zp)),(0,f.A)(this,"location",(0,Y.WQX)(Y.c1b)),(0,f.A)(this,"environmentInjector",(0,Y.WQX)(Y.uvJ)),(0,f.A)(this,"inputBinder",(0,Y.WQX)(Oe,{optional:!0})),(0,f.A)(this,"supportsBindingToComponentInputs",!0),(0,f.A)(this,"config",(0,Y.WQX)(Gn)),(0,f.A)(this,"navCtrl",(0,Y.WQX)(pn)),this.parentOutlet=Bn,this.nativeEl=Pt.nativeElement,this.name=oe||J.Xk,this.tabsPrefix="true"===re?Ci(an,sr):void 0,this.stackCtrl=new gt(this.tabsPrefix,this.nativeEl,an,this.navCtrl,vn,Le),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var oe;this.stackCtrl.destroy(),null===(oe=this.inputBinder)||void 0===oe||oe.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const oe=this.getContext();null!=oe&&oe.route&&this.activateWith(oe.route,oe.injector)}new Promise(oe=>((je,_e)=>{je.componentOnReady?je.componentOnReady().then(ht=>_e(ht)):(je=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(je):"function"==typeof requestAnimationFrame?requestAnimationFrame(je):setTimeout(je)})(()=>_e(je))})(this.nativeEl,oe)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(oe,re){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const re=this.getContext();this.activatedView.savedData=new Map(re.children.contexts);const Le=this.activatedView.savedData.get("primary");if(Le&&re.route&&(Le.route={...re.route}),this.activatedView.savedExtras={},re.route){const Pt=re.route.snapshot;this.activatedView.savedExtras.queryParams=Pt.queryParams,this.activatedView.savedExtras.fragment=Pt.fragment}}const oe=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(oe)}}activateWith(oe,re){var Le;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=oe;let Pt,an=this.stackCtrl.getExistingView(oe);if(an){Pt=this.activated=an.ref;const Bn=an.savedData;Bn&&(this.getContext().children.contexts=Bn),this.updateActivatedRouteProxy(Pt.instance,oe)}else{var vn;const Bn=oe._futureSnapshot,pi=this.parentContexts.getOrCreateContext(this.name).children,Lr=new hn.t(null),ur=this.createActivatedRouteProxy(Lr,oe),ni=new ne(ur,pi,this.location.injector),Li=null!==(vn=Bn.routeConfig.component)&&void 0!==vn?vn:Bn.component;Pt=this.activated=this.outletContent.createComponent(Li,{index:this.outletContent.length,injector:ni,environmentInjector:null!=re?re:this.environmentInjector}),Lr.next(Pt.instance),an=this.stackCtrl.createView(this.activated,oe),this.proxyMap.set(Pt.instance,ur),this.currentActivatedRoute$.next({component:Pt.instance,activatedRoute:oe})}null===(Le=this.inputBinder)||void 0===Le||Le.bindActivatedRouteToOutletComponent(this),this.activatedView=an,this.navCtrl.setTopOutlet(this);const sr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:an,tabSwitch:lr(an,sr)}),this.stackCtrl.setActive(an).then(Bn=>{this.activateEvents.emit(Pt.instance),this.stackDidChange.emit(Bn)})}canGoBack(oe=1,re){return this.stackCtrl.canGoBack(oe,re)}pop(oe=1,re){return this.stackCtrl.pop(oe,re)}getLastUrl(oe){const re=this.stackCtrl.getLastUrl(oe);return re?re.url:void 0}getLastRouteView(oe){return this.stackCtrl.getLastUrl(oe)}getRootView(oe){return this.stackCtrl.getRootUrl(oe)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(oe,re){const Le=new J.nX;return Le._futureSnapshot=re._futureSnapshot,Le._routerState=re._routerState,Le.snapshot=re.snapshot,Le.outlet=re.outlet,Le.component=re.component,Le._paramMap=this.proxyObservable(oe,"paramMap"),Le._queryParamMap=this.proxyObservable(oe,"queryParamMap"),Le.url=this.proxyObservable(oe,"url"),Le.params=this.proxyObservable(oe,"params"),Le.queryParams=this.proxyObservable(oe,"queryParams"),Le.fragment=this.proxyObservable(oe,"fragment"),Le.data=this.proxyObservable(oe,"data"),Le}proxyObservable(oe,re){return oe.pipe((0,be.p)(Le=>!!Le),(0,Z.n)(Le=>this.currentActivatedRoute$.pipe((0,be.p)(Pt=>null!==Pt&&Pt.component===Le),(0,Z.n)(Pt=>Pt&&Pt.activatedRoute[re]),(0,ee.F)())))}updateActivatedRouteProxy(oe,re){const Le=this.proxyMap.get(oe);if(!Le)throw new Error("Could not find activated route proxy for view");Le._futureSnapshot=re._futureSnapshot,Le._routerState=re._routerState,Le.snapshot=re.snapshot,Le.outlet=re.outlet,Le.component=re.component,this.currentActivatedRoute$.next({component:oe,activatedRoute:re})}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.kS0("name"),Y.kS0("tabs"),Y.rXU(le.aZ),Y.rXU(Y.aKT),Y.rXU(J.Ix),Y.rXU(Y.SKi),Y.rXU(J.nX),Y.rXU(je,12))}),(0,f.A)(_e,"\u0275dir",Y.FsC({type:je,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),_e})();class ne{constructor(_e,ht,oe){(0,f.A)(this,"route",void 0),(0,f.A)(this,"childContexts",void 0),(0,f.A)(this,"parent",void 0),this.route=_e,this.childContexts=ht,this.parent=oe}get(_e,ht){return _e===J.nX?this.route:_e===J.Zp?this.childContexts:this.parent.get(_e,ht)}}const Oe=new Y.nKC("");let Et=(()=>{var je;class _e{constructor(){(0,f.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(oe){this.unsubscribeFromRouteData(oe),this.subscribeToRouteData(oe)}unsubscribeFromRouteData(oe){var re;null===(re=this.outletDataSubscriptions.get(oe))||void 0===re||re.unsubscribe(),this.outletDataSubscriptions.delete(oe)}subscribeToRouteData(oe){const{activatedRoute:re}=oe,Le=(0,qt.z)([re.queryParams,re.params,re.data]).pipe((0,Z.n)(([Pt,an,vn],sr)=>(vn={...Pt,...an,...vn},0===sr?(0,sn.of)(vn):Promise.resolve(vn)))).subscribe(Pt=>{if(!oe.isActivated||!oe.activatedComponentRef||oe.activatedRoute!==re||null===re.component)return void this.unsubscribeFromRouteData(oe);const an=(0,Y.HJs)(re.component);if(an)for(const{templateName:vn}of an.inputs)oe.activatedComponentRef.setInput(vn,Pt[vn]);else this.unsubscribeFromRouteData(oe)});this.outletDataSubscriptions.set(oe,Le)}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)}),(0,f.A)(_e,"\u0275prov",Y.jDH({token:je,factory:je.\u0275fac})),_e})();const ot=()=>({provide:Oe,useFactory:Jt,deps:[J.Ix]});function Jt(je){return null!=je&&je.componentInputBindingEnabled?new Et:null}const kn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Fn=(()=>{var je;let _e=((0,f.A)(je=class{constructor(oe,re,Le,Pt,an,vn){(0,f.A)(this,"routerOutlet",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"config",void 0),(0,f.A)(this,"r",void 0),(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.routerOutlet=oe,this.navCtrl=re,this.config=Le,this.r=Pt,this.z=an,vn.detach(),this.el=this.r.nativeElement}onClick(oe){var re;const Le=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(re=this.routerOutlet)&&void 0!==re&&re.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),oe.preventDefault()):null!=Le&&(this.navCtrl.navigateBack(Le,{animation:this.routerAnimation}),oe.preventDefault())}},"\u0275fac",function(oe){return new(oe||je)(Y.rXU(Q,8),Y.rXU(pn),Y.rXU(Gn),Y.rXU(Y.aKT),Y.rXU(Y.SKi),Y.rXU(Y.gRc))}),(0,f.A)(je,"\u0275dir",Y.FsC({type:je,hostBindings:function(oe,re){1&oe&&Y.bIt("click",function(Pt){return re.onClick(Pt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),je);return _e=(0,dt.Cg)([Ir({inputs:kn})],_e),_e})(),Fr=(()=>{var je;class _e{constructor(oe,re,Le,Pt,an){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=oe,this.navCtrl=re,this.elementRef=Le,this.router=Pt,this.routerLink=an}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const re=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(re.tagName)&&"0"===re.getAttribute("tabindex")&&re.removeAttribute("tabindex")}updateTargetUrlAndHref(){var oe;if(null!==(oe=this.routerLink)&&void 0!==oe&&oe.urlTree){const re=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=re}}onClick(oe){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),oe.preventDefault()}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.rXU(le.hb),Y.rXU(pn),Y.rXU(Y.aKT),Y.rXU(J.Ix),Y.rXU(J.Wk,8))}),(0,f.A)(_e,"\u0275dir",Y.FsC({type:je,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(oe,re){1&oe&&Y.bIt("click",function(Pt){return re.onClick(Pt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Y.OA$]})),_e})(),xr=(()=>{var je;class _e{constructor(oe,re,Le,Pt,an){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=oe,this.navCtrl=re,this.elementRef=Le,this.router=Pt,this.routerLink=an}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var oe;if(null!==(oe=this.routerLink)&&void 0!==oe&&oe.urlTree){const re=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=re}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.rXU(le.hb),Y.rXU(pn),Y.rXU(Y.aKT),Y.rXU(J.Ix),Y.rXU(J.Wk,8))}),(0,f.A)(_e,"\u0275dir",Y.FsC({type:je,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(oe,re){1&oe&&Y.bIt("click",function(){return re.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Y.OA$]})),_e})();const It=["animated","animation","root","rootParams","swipeGesture"],Kn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let vr=(()=>{var je;let _e=((0,f.A)(je=class{constructor(oe,re,Le,Pt,an,vn){(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.z=an,vn.detach(),this.el=oe.nativeElement,oe.nativeElement.delegate=Pt.create(re,Le),Ur(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(oe){return new(oe||je)(Y.rXU(Y.aKT),Y.rXU(Y.uvJ),Y.rXU(Y.zZn),Y.rXU(lt),Y.rXU(Y.SKi),Y.rXU(Y.gRc))}),(0,f.A)(je,"\u0275dir",Y.FsC({type:je,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),je);return _e=(0,dt.Cg)([Ir({inputs:It,methods:Kn})],_e),_e})(),_i=(()=>{var je;class _e{constructor(oe){(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"tabsInner",void 0),(0,f.A)(this,"ionTabsWillChange",new Y.bkB),(0,f.A)(this,"ionTabsDidChange",new Y.bkB),(0,f.A)(this,"tabBarSlot","bottom"),(0,f.A)(this,"hasTab",!1),(0,f.A)(this,"selectedTab",void 0),(0,f.A)(this,"leavingTab",void 0),this.navCtrl=oe}ngAfterViewInit(){const oe=this.tabs.length>0?this.tabs.first:void 0;oe&&(this.hasTab=!0,this.setActiveTab(oe.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:oe,tabSwitch:re}){const Le=oe.stackId;re&&void 0!==Le&&this.ionTabsWillChange.emit({tab:Le})}onStackDidChange({enteringView:oe,tabSwitch:re}){const Le=oe.stackId;re&&void 0!==Le&&(this.tabBar&&(this.tabBar.selectedTab=Le),this.ionTabsDidChange.emit({tab:Le}))}select(oe){const re="string"==typeof oe,Le=re?oe:oe.detail.tab;if(this.hasTab)return this.setActiveTab(Le),void this.tabSwitch();const Pt=this.outlet.getActiveStackId()===Le,an=`${this.outlet.tabsPrefix}/${Le}`;if(re||oe.stopPropagation(),Pt){const vn=this.outlet.getActiveStackId(),sr=this.outlet.getLastRouteView(vn);if((null==sr?void 0:sr.url)===an)return;const Bn=this.outlet.getRootView(Le);return this.navCtrl.navigateRoot(an,{...Bn&&an===Bn.url&&Bn.savedExtras,animated:!0,animationDirection:"back"})}{const vn=this.outlet.getLastRouteView(Le);return this.navCtrl.navigateRoot((null==vn?void 0:vn.url)||an,{...null==vn?void 0:vn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(oe){const Le=this.tabs.find(Pt=>Pt.tab===oe);Le?(this.leavingTab=this.selectedTab,this.selectedTab=Le,this.ionTabsWillChange.emit({tab:oe}),Le.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${oe}" does not exist`)}tabSwitch(){const{selectedTab:oe,leavingTab:re}=this;this.tabBar&&oe&&(this.tabBar.selectedTab=oe.tab),(null==re?void 0:re.tab)!==(null==oe?void 0:oe.tab)&&null!=re&&re.el&&(re.el.active=!1),oe&&this.ionTabsDidChange.emit({tab:oe.tab})}getSelected(){var oe;return this.hasTab?null===(oe=this.selectedTab)||void 0===oe?void 0:oe.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(oe=>{const re=oe.el.getAttribute("slot");re!==this.tabBarSlot&&(this.tabBarSlot=re,this.relocateTabBar())})}relocateTabBar(){const oe=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(oe):this.tabsInner.nativeElement.after(oe)}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.rXU(pn))}),(0,f.A)(_e,"\u0275dir",Y.FsC({type:je,selectors:[["ion-tabs"]],viewQuery:function(oe,re){if(1&oe&&Y.GBs(Te,7,Y.aKT),2&oe){let Le;Y.mGM(Le=Y.lsd())&&(re.tabsInner=Le.first)}},hostBindings:function(oe,re){1&oe&&Y.bIt("ionTabButtonClick",function(Pt){return re.select(Pt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),_e})();const $i=je=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(je):"function"==typeof requestAnimationFrame?requestAnimationFrame(je):setTimeout(je);let Zi=(()=>{var je;class _e{constructor(oe,re){(0,f.A)(this,"injector",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"onChange",()=>{}),(0,f.A)(this,"onTouched",()=>{}),(0,f.A)(this,"lastValue",void 0),(0,f.A)(this,"statusChanges",void 0),this.injector=oe,this.elementRef=re}writeValue(oe){this.elementRef.nativeElement.value=this.lastValue=oe,hi(this.elementRef)}handleValueChange(oe,re){oe===this.elementRef.nativeElement&&(re!==this.lastValue&&(this.lastValue=re,this.onChange(re)),hi(this.elementRef))}_handleBlurEvent(oe){oe===this.elementRef.nativeElement&&(this.onTouched(),hi(this.elementRef))}registerOnChange(oe){this.onChange=oe}registerOnTouched(oe){this.onTouched=oe}setDisabledState(oe){this.elementRef.nativeElement.disabled=oe}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let oe;try{oe=this.injector.get(ae.vO)}catch{}if(!oe)return;oe.statusChanges&&(this.statusChanges=oe.statusChanges.subscribe(()=>hi(this.elementRef)));const re=oe.control;re&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Pt=>{if(typeof re[Pt]<"u"){const an=re[Pt].bind(re);re[Pt]=(...vn)=>{an(...vn),hi(this.elementRef)}}})}}return je=_e,(0,f.A)(_e,"\u0275fac",function(oe){return new(oe||je)(Y.rXU(Y.zZn),Y.rXU(Y.aKT))}),(0,f.A)(_e,"\u0275dir",Y.FsC({type:je,hostBindings:function(oe,re){1&oe&&Y.bIt("ionBlur",function(Pt){return re._handleBlurEvent(Pt.target)})}})),_e})();const hi=je=>{$i(()=>{const _e=je.nativeElement,ht=null!=_e.value&&_e.value.toString().length>0,oe=Ki(_e);fi(_e,oe);const re=_e.closest("ion-item");re&&fi(re,ht?[...oe,"item-has-value"]:oe)})},Ki=je=>{const _e=je.classList,ht=[];for(let oe=0;oe<_e.length;oe++){const re=_e.item(oe);null!==re&&so(re,"ng-")&&ht.push(`ion-${re.substring(3)}`)}return ht},fi=(je,_e)=>{const ht=je.classList;ht.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ht.add(..._e)},so=(je,_e)=>je.substring(0,_e.length)===_e;class Ji{shouldDetach(_e){return!1}shouldAttach(_e){return!1}store(_e,ht){}retrieve(_e){return null}shouldReuseRoute(_e,ht){if(_e.routeConfig!==ht.routeConfig)return!1;const oe=_e.params,re=ht.params,Le=Object.keys(oe),Pt=Object.keys(re);if(Le.length!==Pt.length)return!1;for(const an of Le)if(re[an]!==oe[an])return!1;return!0}}class eo{constructor(_e){(0,f.A)(this,"ctrl",void 0),this.ctrl=_e}create(_e){return this.ctrl.create(_e||{})}dismiss(_e,ht,oe){return this.ctrl.dismiss(_e,ht,oe)}getTop(){return this.ctrl.getTop()}}},791:(gn,mt,P)=>{"use strict";P.d(mt,{U1:()=>Nn,Jm:()=>De,QW:()=>Fe,b_:()=>on,hU:()=>Ur,W9:()=>Ir,eU:()=>Rn,iq:()=>si,$w:()=>mn,uz:()=>xt,he:()=>Oe,nf:()=>Et,AF:()=>ot,Rg:()=>$o,ln:()=>ht,Nm:()=>Pt,Ip:()=>an,Jq:()=>Lr,qW:()=>ur,p4:()=>_o,IO:()=>ni,Zx:()=>Mi,BC:()=>ai,ai:()=>Vi,bv:()=>Gr,su:()=>ee,Je:()=>ae,Gw:()=>Te});var d=P(9842),f=P(3953),Y=P(4341),J=P(2872),le=P(1635),ce=P(3726),Ce=P(177),xe=P(3225),Ge=(P(9986),P(2643),P(2280),P(5696),P(8607),P(9275)),st=P(464),ft=(P(7094),P(6776)),pt=(P(8476),P(9230));P(1970),P(5878);var nt=P(467);const Je=Ge.i,qe=function(){var R=(0,nt.A)(function*(X,de){if(!(typeof window>"u"))return yield Je(),(0,pt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),de)});return function(de,N){return R.apply(this,arguments)}}(),Se=["*"],Me=["outletContent"],kt=["outlet"],Vt=[[["","slot","top"]],"*",[["ion-tab"]]],hn=["[slot=top]","*","ion-tab"];function qt(R,X){if(1&R){const de=f.RV6();f.j41(0,"ion-router-outlet",5,1),f.bIt("stackWillChange",function(C){f.eBV(de);const k=f.XpG();return f.Njj(k.onStackWillChange(C))})("stackDidChange",function(C){f.eBV(de);const k=f.XpG();return f.Njj(k.onStackDidChange(C))}),f.k0s()}}function sn(R,X){1&R&&f.SdG(0,2,["*ngIf","tabs.length > 0"])}let ee=(()=>{var R;class X extends J.fL{constructor(N,C){super(N,C),(0,d.A)(this,"el",void 0),this.el=C}handleInputEvent(N){this.handleValueChange(N,N.value)}registerOnChange(N){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?C=>{N(""===C?null:parseFloat(C))}:N)}}return R=X,(0,d.A)(X,"\u0275fac",function(N){return new(N||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(N,C){1&N&&f.bIt("ionInput",function(we){return C.handleInputEvent(we.target)})},features:[f.Jv_([{provide:Y.kq,useExisting:R,multi:!0}]),f.Vt3]})),X})(),ae=(()=>{var R;class X extends J.fL{constructor(N,C){super(N,C)}_handleChangeEvent(N){this.handleValueChange(N,N.value)}}return R=X,(0,d.A)(X,"\u0275fac",function(N){return new(N||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(N,C){1&N&&f.bIt("ionChange",function(we){return C._handleChangeEvent(we.target)})},features:[f.Jv_([{provide:Y.kq,useExisting:R,multi:!0}]),f.Vt3]})),X})(),Te=(()=>{var R;class X extends J.fL{constructor(N,C){super(N,C)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return R=X,(0,d.A)(X,"\u0275fac",function(N){return new(N||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,C){1&N&&f.bIt("ionInput",function(we){return C._handleInputEvent(we.target)})},features:[f.Jv_([{provide:Y.kq,useExisting:R,multi:!0}]),f.Vt3]})),X})();const ut=(R,X)=>{const de=R.prototype;X.forEach(N=>{Object.defineProperty(de,N,{get(){return this.el[N]},set(C){this.z.runOutsideAngular(()=>this.el[N]=C)},configurable:!0})})},Xe=(R,X)=>{const de=R.prototype;X.forEach(N=>{de[N]=function(){const C=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,C))}})},Qe=(R,X,de)=>{de.forEach(N=>R[N]=(0,ce.R)(X,N))};function Rt(R){return function(de){const{defineCustomElementFn:N,inputs:C,methods:k}=R;return void 0!==N&&N(),C&&ut(de,C),k&&Xe(de,k),de}}let Nn=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-app"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({})],X),X})(),De=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement,Qe(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],X),X})(),Fe=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["collapse"]})],X),X})(),on=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),Ur=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],X),X})(),Ir=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement,Qe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],X),X})(),Rn=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["collapse","mode","translucent"]})],X),X})(),si=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],X),X})(),mn=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement,Qe(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],X),X})(),xt=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),Oe=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","mode","position"]})],X),X})(),Et=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],X),X})(),ot=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","lines","mode"]})],X),X})(),ht=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-row"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({})],X),X})(),Pt=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement,Qe(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],X),X})(),an=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["disabled","value"]})],X),X})(),pi=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["component","tab"],methods:["setActive"]})],X),X})(),Lr=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","mode","selectedTab","translucent"]})],X),X})(),ur=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],X),X})(),ni=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","mode"]})],X),X})(),Mi=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-thumbnail"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({})],X),X})(),ai=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","size"]})],X),X})(),Vi=(()=>{var R;let X=((0,d.A)(R=class{constructor(N,C,k){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=k,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,le.Cg)([Rt({inputs:["color","mode"]})],X),X})(),$o=(()=>{var R;class X extends J.Rg{constructor(N,C,k,we,Be,at,vt,Gt){super(N,C,k,we,Be,at,vt,Gt),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=Gt}}return R=X,(0,d.A)(X,"\u0275fac",function(N){return new(N||R)(f.kS0("name"),f.kS0("tabs"),f.rXU(Ce.aZ),f.rXU(f.aKT),f.rXU(xe.Ix),f.rXU(f.SKi),f.rXU(xe.nX),f.rXU(R,12))}),(0,d.A)(X,"\u0275cmp",f.VBU({type:R,selectors:[["ion-router-outlet"]],viewQuery:function(N,C){if(1&N&&f.GBs(Me,7,f.c1b),2&N){let k;f.mGM(k=f.lsd())&&(C.outletContent=k.first)}},features:[f.Vt3],ngContentSelectors:Se,decls:3,vars:0,consts:[["outletContent",""]],template:function(N,C){1&N&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),X})(),_o=(()=>{var R;class X extends J.p4{constructor(...N){super(...N),(0,d.A)(this,"outlet",void 0),(0,d.A)(this,"tabBar",void 0),(0,d.A)(this,"tabBars",void 0),(0,d.A)(this,"tabs",void 0)}}return R=X,(0,d.A)(X,"\u0275fac",(()=>{let de;return function(C){return(de||(de=f.xGo(R)))(C||R)}})()),(0,d.A)(X,"\u0275cmp",f.VBU({type:R,selectors:[["ion-tabs"]],contentQueries:function(N,C,k){if(1&N&&(f.wni(k,Lr,5),f.wni(k,Lr,4),f.wni(k,pi,4)),2&N){let we;f.mGM(we=f.lsd())&&(C.tabBar=we.first),f.mGM(we=f.lsd())&&(C.tabBars=we),f.mGM(we=f.lsd())&&(C.tabs=we)}},viewQuery:function(N,C){if(1&N&&f.GBs(kt,5,$o),2&N){let k;f.mGM(k=f.lsd())&&(C.outlet=k.first)}},features:[f.Vt3],ngContentSelectors:hn,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(N,C){1&N&&(f.NAR(Vt),f.SdG(0),f.j41(1,"div",2,0),f.DNE(3,qt,2,0,"ion-router-outlet",3)(4,sn,1,0,"ng-content",4),f.k0s(),f.SdG(5,1)),2&N&&(f.R7$(3),f.Y8G("ngIf",0===C.tabs.length),f.R7$(),f.Y8G("ngIf",C.tabs.length>0))},dependencies:[Ce.bT,$o],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),X})();const Bs={provide:Y.cz,useExisting:(0,f.Rfq)(()=>To),multi:!0};let To=(()=>{var R;class X extends Y.zX{}return R=X,(0,d.A)(X,"\u0275fac",(()=>{let de;return function(C){return(de||(de=f.xGo(R)))(C||R)}})()),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,C){2&N&&f.BMQ("max",C._enabled?C.max:null)},features:[f.Jv_([Bs]),f.Vt3]})),X})();const jo={provide:Y.cz,useExisting:(0,f.Rfq)(()=>ta),multi:!0};let ta=(()=>{var R;class X extends Y.VZ{}return R=X,(0,d.A)(X,"\u0275fac",(()=>{let de;return function(C){return(de||(de=f.xGo(R)))(C||R)}})()),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,C){2&N&&f.BMQ("min",C._enabled?C.min:null)},features:[f.Jv_([jo]),f.Vt3]})),X})(),ps=(()=>{var R;class X extends J.Kb{constructor(){super(ft.m),(0,d.A)(this,"angularDelegate",(0,f.WQX)(J.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return R=X,(0,d.A)(X,"\u0275fac",function(N){return new(N||R)}),(0,d.A)(X,"\u0275prov",f.jDH({token:R,factory:R.\u0275fac})),X})();class bo extends J.Kb{constructor(){super(ft.c),(0,d.A)(this,"angularDelegate",(0,f.WQX)(J.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(X){return super.create({...X,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Nr=(R,X,de)=>()=>{const N=X.defaultView;if(N&&typeof window<"u"){(0,st.s)({...R,_zoneGate:k=>de.run(k)});const C="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function Ve(){var R=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&R.push(P.e(7278).then(P.t.bind(P,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&R.push(P.e(9329).then(P.t.bind(P,7783,23)))}return Promise.all(R)}().then(()=>qe(N,{exclude:["ion-tabs"],syncQueue:!0,raf:J.er,jmp:k=>de.runOutsideAngular(k),ael(k,we,Be,at){k[C](we,Be,at)},rel(k,we,Be,at){k.removeEventListener(we,Be,at)}}))}};let Gr=(()=>{var R;class X{static forRoot(N={}){return{ngModule:X,providers:[{provide:J.sR,useValue:N},{provide:f.hnV,useFactory:Nr,multi:!0,deps:[J.sR,Ce.qQ,f.SKi]},J.Yq,(0,J.YV)()]}}}return R=X,(0,d.A)(X,"\u0275fac",function(N){return new(N||R)}),(0,d.A)(X,"\u0275mod",f.$C({type:R})),(0,d.A)(X,"\u0275inj",f.G2t({providers:[ps,bo],imports:[Ce.MD]})),X})()},2214:(gn,mt,P)=>{"use strict";P.d(mt,{Dk:()=>d.getApps,Wp:()=>d.initializeApp});var d=P(8742);(0,d.registerVersion)("firebase","10.13.1","app")},7935:(gn,mt,P)=>{"use strict";P.d(mt,{A:()=>d.A});var d=P(3345);d.A.registerVersion("firebase","10.13.1","app-compat")},3200:(gn,mt,P)=>{"use strict";var d=P(467),f=P(3345),Y=P(8742),J=P(1076),le=P(8041),ce=P(1635),Ce=P(1362);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const st=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},_t=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new J.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new le.Vy("@firebase/auth");function Ee(y,...h){pt.logLevel<=le.$b.ERROR&&pt.error(`Auth (${Y.SDK_VERSION}): ${y}`,...h)}function Ne(y,...h){throw Se(y,...h)}function Ve(y,...h){return Se(y,...h)}function nt(y,h,g){const A=Object.assign(Object.assign({},_t()),{[h]:g});return new J.FA("auth","Firebase",A).create(h,{appName:y.name})}function Je(y){return nt(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qe(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ne(y,"argument-error"),nt(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(y,...h){if("string"!=typeof y){const g=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=y.name),y._errorFactory.create(g,...A)}return ft.create(y,...h)}function Me(y,h,...g){if(!y)throw Se(h,...g)}function kt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Ee(h),new Error(h)}function Vt(y,h){y||kt(h)}function hn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function qt(){return"http:"===sn()||"https:"===sn()}function sn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Z{constructor(h,g){this.shortDelay=h,this.longDelay=g,Vt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,J.jZ)()||(0,J.lV)()}get(){return function dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,J.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ee(y,h){Vt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class ae{static initialize(h,g,A){this.fetchImpl=h,g&&(this.headersImpl=g),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new Z(3e4,6e4);function Xe(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Qe(y,h,g,A){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.A)(function*(y,h,g,A,H={}){return Rt(y,H,(0,d.A)(function*(){let se={},Ze={};A&&("GET"===h?Ze=A:se={body:JSON.stringify(A)});const wt=(0,J.Am)(Object.assign({key:y.config.apiKey},Ze)).slice(1),nn=yield y._getAdditionalHeaders();return nn["Content-Type"]="application/json",y.languageCode&&(nn["X-Firebase-Locale"]=y.languageCode),ae.fetch()(On(y,y.config.apiHost,g,wt),Object.assign({method:h,headers:nn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Rt(y,h,g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.A)(function*(y,h,g){y._canInitEmulator=!1;const A=Object.assign(Object.assign({},Te),h);try{const H=new Gn(y),se=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Ze=yield se.json();if("needConfirmation"in Ze)throw Bt(y,"account-exists-with-different-credential",Ze);if(se.ok&&!("errorMessage"in Ze))return Ze;{const wt=se.ok?Ze.errorMessage:Ze.error.message,[nn,Mn]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw Bt(y,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===nn)throw Bt(y,"email-already-in-use",Ze);if("USER_DISABLED"===nn)throw Bt(y,"user-disabled",Ze);const qn=A[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(Mn)throw nt(y,qn,Mn);Ne(y,qn)}}catch(H){if(H instanceof J.g)throw H;Ne(y,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function pn(y,h,g,A){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.A)(function*(y,h,g,A,H={}){const se=yield Qe(y,h,g,A,H);return"mfaPendingCredential"in se&&Ne(y,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function On(y,h,g,A){const H=`${h}${g}?${A}`;return y.config.emulator?ee(y.config,H):`${y.config.apiScheme}://${H}`}function Nn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,A)=>{this.timer=setTimeout(()=>A(Ve(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bt(y,h,g){const A={appName:y.name};g.email&&(A.email=g.email),g.phoneNumber&&(A.phoneNumber=g.phoneNumber);const H=Ve(y,h,A);return H.customData._tokenResponse=g,H}function rn(y){return void 0!==y&&void 0!==y.getResponse}function Xn(y){return void 0!==y&&void 0!==y.enterprise}class lt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return Nn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Fe(){return(Fe=(0,d.A)(function*(y){return(yield Qe(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function on(y,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.A)(function*(y,h){return Qe(y,"GET","/v2/recaptchaConfig",Xe(y,h))})).apply(this,arguments)}function Wn(){return(Wn=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Qt(){return(Qt=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function zr(y,h){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ir(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Fi(){return(Fi=(0,d.A)(function*(y,h=!1){const g=(0,J.Ku)(y),A=yield g.getIdToken(h),H=Si(A);Me(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const se="object"==typeof H.firebase?H.firebase:void 0,Ze=null==se?void 0:se.sign_in_provider;return{claims:H,token:A,authTime:Ir(yn(H.auth_time)),issuedAtTime:Ir(yn(H.iat)),expirationTime:Ir(yn(H.exp)),signInProvider:Ze||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function yn(y){return 1e3*Number(y)}function Si(y){const[h,g,A]=y.split(".");if(void 0===h||void 0===g||void 0===A)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,J.u)(g);return H?JSON.parse(H):(Ee("Failed to decode base64 JWT payload"),null)}catch(H){return Ee("Caught error parsing JWT payload as JSON",null==H?void 0:H.toString()),null}}function tr(y){const h=Si(y);return Me(h,"internal-error"),Me(typeof h.exp<"u","internal-error"),Me(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function xn(y,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.A)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(A){throw A instanceof J.g&&function si({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(A)&&y.auth.currentUser===y&&(yield y.auth.signOut()),A}})).apply(this,arguments)}class Jn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,d.A)(function*(){yield g.iteration()}),A)}iteration(){var h=this;return(0,d.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class Ci{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(y){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.A)(function*(y){var h;const g=y.auth,A=yield y.getIdToken(),H=yield xn(y,zr(g,{idToken:A}));Me(null==H?void 0:H.users.length,g,"internal-error");const se=H.users[0];y._notifyReloadListener(se);const Ze=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?it(se.providerUserInfo):[],wt=function gt(y,h){return[...y.filter(A=>!h.some(H=>H.providerId===A.providerId)),...h]}(y.providerData,Ze),qn=!!y.isAnonymous&&!(y.email&&se.passwordHash||null!=wt&&wt.length),Hn={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:wt,metadata:new Ci(se.createdAt,se.lastLoginAt),isAnonymous:qn};Object.assign(y,Hn)})).apply(this,arguments)}function xt(){return(xt=(0,d.A)(function*(y){const h=(0,J.Ku)(y);yield lr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function it(y){return y.map(h=>{var{providerId:g}=h,A=(0,ce.Tt)(h,["providerId"]);return{providerId:g,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Q(){return(Q=(0,d.A)(function*(y,h){const g=yield Rt(y,{},(0,d.A)(function*(){const A=(0,J.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:se}=y.config,Ze=On(y,H,"/v1/token",`key=${se}`),wt=yield y._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Ze,{method:"POST",headers:wt,body:A})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(y,h){return Qe(y,"POST","/v2/accounts:revokeToken",Xe(y,h))})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Me(h.idToken,"internal-error"),Me(typeof h.idToken<"u","internal-error"),Me(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):tr(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Me(0!==h.length,"internal-error");const g=tr(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var A=this;return(0,d.A)(function*(){return g||!A.accessToken||A.isExpired?(Me(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var A=this;return(0,d.A)(function*(){const{accessToken:H,refreshToken:se,expiresIn:Ze}=yield function ve(y,h){return Q.apply(this,arguments)}(h,g);A.updateTokensAndExpiration(H,se,Number(Ze))})()}updateTokensAndExpiration(h,g,A){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,g){const{refreshToken:A,accessToken:H,expirationTime:se}=g,Ze=new Et;return A&&(Me("string"==typeof A,"internal-error",{appName:h}),Ze.refreshToken=A),H&&(Me("string"==typeof H,"internal-error",{appName:h}),Ze.accessToken=H),se&&(Me("number"==typeof se,"internal-error",{appName:h}),Ze.expirationTime=se),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return kt("not implemented")}}function ot(y,h){Me("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class Jt{constructor(h){var{uid:g,auth:A,stsTokenManager:H}=h,se=(0,ce.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=A,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Ci(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.A)(function*(){const A=yield xn(g,g.stsTokenManager.getToken(g.auth,h));return Me(A,g.auth,"internal-error"),g.accessToken!==A&&(g.accessToken=A,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),A})()}getIdTokenResult(h){return function jr(y){return Fi.apply(this,arguments)}(this,h)}reload(){return function oi(y){return xt.apply(this,arguments)}(this)}_assign(h){this!==h&&(Me(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Jt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var A=this;return(0,d.A)(function*(){let H=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),H=!0),g&&(yield lr(A)),yield A.auth._persistUserIfCurrent(A),H&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,d.A)(function*(){if((0,Y._isFirebaseServerApp)(h.auth.app))return Promise.reject(Je(h.auth));const g=yield h.getIdToken();return yield xn(h,function Qn(y,h){return Wn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var A,H,se,Ze,wt,nn,Mn,qn;const Hn=null!==(A=g.displayName)&&void 0!==A?A:void 0,io=null!==(H=g.email)&&void 0!==H?H:void 0,Ra=null!==(se=g.phoneNumber)&&void 0!==se?se:void 0,Ou=null!==(Ze=g.photoURL)&&void 0!==Ze?Ze:void 0,jd=null!==(wt=g.tenantId)&&void 0!==wt?wt:void 0,Oo=null!==(nn=g._redirectEventId)&&void 0!==nn?nn:void 0,ol=null!==(Mn=g.createdAt)&&void 0!==Mn?Mn:void 0,ki=null!==(qn=g.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:df,emailVerified:Dp,isAnonymous:Hd,providerData:Kc,stsTokenManager:zd}=g;Me(df&&zd,h,"internal-error");const Gd=Et.fromJSON(this.name,zd);Me("string"==typeof df,h,"internal-error"),ot(Hn,h.name),ot(io,h.name),Me("boolean"==typeof Dp,h,"internal-error"),Me("boolean"==typeof Hd,h,"internal-error"),ot(Ra,h.name),ot(Ou,h.name),ot(jd,h.name),ot(Oo,h.name),ot(ol,h.name),ot(ki,h.name);const xu=new Jt({uid:df,auth:h,email:io,emailVerified:Dp,displayName:Hn,isAnonymous:Hd,photoURL:Ou,phoneNumber:Ra,tenantId:jd,stsTokenManager:Gd,createdAt:ol,lastLoginAt:ki});return Kc&&Array.isArray(Kc)&&(xu.providerData=Kc.map(ja=>Object.assign({},ja))),Oo&&(xu._redirectEventId=Oo),xu}static _fromIdTokenResponse(h,g,A=!1){return(0,d.A)(function*(){const H=new Et;H.updateFromServerResponse(g);const se=new Jt({uid:g.localId,auth:h,stsTokenManager:H,isAnonymous:A});return yield lr(se),se})()}static _fromGetAccountInfoResponse(h,g,A){return(0,d.A)(function*(){const H=g.users[0];Me(void 0!==H.localId,"internal-error");const se=void 0!==H.providerUserInfo?it(H.providerUserInfo):[],Ze=!(H.email&&H.passwordHash||null!=se&&se.length),wt=new Et;wt.updateFromIdToken(A);const nn=new Jt({uid:H.localId,auth:h,stsTokenManager:wt,isAnonymous:Ze}),Mn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:se,metadata:new Ci(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||null!=se&&se.length)};return Object.assign(nn,Mn),nn})()}}const kn=new Map;function Fn(y){Vt(y instanceof Function,"Expected a class definition");let h=kn.get(y);return h?(Vt(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,kn.set(y,h),h)}const xr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(g,A){var H=this;return(0,d.A)(function*(){H.storage[g]=A})()}_get(g){var A=this;return(0,d.A)(function*(){const H=A.storage[g];return void 0===H?null:H})()}_remove(g){var A=this;return(0,d.A)(function*(){delete A.storage[g]})()}_addListener(g,A){}_removeListener(g,A){}}return y.type="NONE",y})();function It(y,h,g){return`firebase:${y}:${h}:${g}`}class Kn{constructor(h,g,A){this.persistence=h,this.auth=g,this.userKey=A;const{config:H,name:se}=this.auth;this.fullUserKey=It(this.userKey,H.apiKey,se),this.fullPersistenceKey=It("persistence",H.apiKey,se),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Jt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.A)(function*(){if(g.persistence===h)return;const A=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,A?g.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,A="authUser"){return(0,d.A)(function*(){if(!g.length)return new Kn(Fn(xr),h,A);const H=(yield Promise.all(g.map(function(){var Mn=(0,d.A)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return Mn.apply(this,arguments)}}()))).filter(Mn=>Mn);let se=H[0]||Fn(xr);const Ze=It(A,h.config.apiKey,h.name);let wt=null;for(const Mn of g)try{const qn=yield Mn._get(Ze);if(qn){const Hn=Jt._fromJSON(h,qn);Mn!==se&&(wt=Hn),se=Mn;break}}catch{}const nn=H.filter(Mn=>Mn._shouldAllowMigration);return se._shouldAllowMigration&&nn.length?(se=nn[0],wt&&(yield se._set(Ze,wt.toJSON())),yield Promise.all(g.map(function(){var Mn=(0,d.A)(function*(qn){if(qn!==se)try{yield qn._remove(Ze)}catch{}});return function(qn){return Mn.apply(this,arguments)}}())),new Kn(se,h,A)):new Kn(se,h,A)})()}}function vr(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(hi(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(_i(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(fi(h))return"Blackberry";if(so(h))return"Webos";if($i(h))return"Safari";if((h.includes("chrome/")||Zi(h))&&!h.includes("edge/"))return"Chrome";if(Ki(h))return"Android";{const A=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function _i(y=(0,J.ZQ)()){return/firefox\//i.test(y)}function $i(y=(0,J.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Zi(y=(0,J.ZQ)()){return/crios\//i.test(y)}function hi(y=(0,J.ZQ)()){return/iemobile/i.test(y)}function Ki(y=(0,J.ZQ)()){return/android/i.test(y)}function fi(y=(0,J.ZQ)()){return/blackberry/i.test(y)}function so(y=(0,J.ZQ)()){return/webos/i.test(y)}function Ji(y=(0,J.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ht(y=(0,J.ZQ)()){return Ji(y)||Ki(y)||so(y)||fi(y)||/windows phone/i.test(y)||hi(y)}function oe(y,h=[]){let g;switch(y){case"Browser":g=vr((0,J.ZQ)());break;case"Worker":g=`${vr((0,J.ZQ)())}-${y}`;break;default:g=y}const A=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Y.SDK_VERSION}/${A}`}class re{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const A=se=>new Promise((Ze,wt)=>{try{Ze(h(se))}catch(nn){wt(nn)}});A.onAbort=g,this.queue.push(A);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,d.A)(function*(){if(g.auth.currentUser===h)return;const A=[];try{for(const H of g.queue)yield H(h),H.onAbort&&A.push(H.onAbort)}catch(H){A.reverse();for(const se of A)try{se()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==H?void 0:H.message})}})()}}function Pt(){return(Pt=(0,d.A)(function*(y,h={}){return Qe(y,"GET","/v2/passwordPolicy",Xe(y,h))})).apply(this,arguments)}class vn{constructor(h){var g,A,H,se;const Ze=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ze.minPasswordLength)&&void 0!==g?g:6,Ze.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ze.maxPasswordLength),void 0!==Ze.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ze.containsLowercaseCharacter),void 0!==Ze.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ze.containsUppercaseCharacter),void 0!==Ze.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ze.containsNumericCharacter),void 0!==Ze.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ze.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(se=h.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,A,H,se,Ze,wt;const nn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,nn),this.validatePasswordCharacterOptions(h,nn),nn.isValid&&(nn.isValid=null===(g=nn.meetsMinPasswordLength)||void 0===g||g),nn.isValid&&(nn.isValid=null===(A=nn.meetsMaxPasswordLength)||void 0===A||A),nn.isValid&&(nn.isValid=null===(H=nn.containsLowercaseLetter)||void 0===H||H),nn.isValid&&(nn.isValid=null===(se=nn.containsUppercaseLetter)||void 0===se||se),nn.isValid&&(nn.isValid=null===(Ze=nn.containsNumericCharacter)||void 0===Ze||Ze),nn.isValid&&(nn.isValid=null===(wt=nn.containsNonAlphanumericCharacter)||void 0===wt||wt),nn}validatePasswordLengthOptions(h,g){const A=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;A&&(g.meetsMinPasswordLength=h.length>=A),H&&(g.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,g){let A;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let H=0;H<h.length;H++)A=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(g,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,g,A,H,se){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=se))}}class sr{constructor(h,g,A,H){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=A,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,g){var A=this;return g&&(this._popupRedirectResolver=Fn(g)),this._initializationPromise=this.queue((0,d.A)(function*(){var H,se;if(!A._deleted&&(A.persistenceManager=yield Kn.create(A,h),!A._deleted)){if(null!==(H=A._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(g),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,d.A)(function*(){try{const A=yield zr(g,{idToken:h}),H=yield Jt._fromGetAccountInfoResponse(g,A,h);yield g.directlySetCurrentUser(H)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,d.A)(function*(){var A;if((0,Y._isFirebaseServerApp)(g.app)){const wt=g.app.settings.authIdToken;return wt?new Promise(nn=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(wt).then(nn,nn))}):g.directlySetCurrentUser(null)}const H=yield g.assertedPersistence.getCurrentUser();let se=H,Ze=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const wt=null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId,nn=null==se?void 0:se._redirectEventId,Mn=yield g.tryRedirectSignIn(h);(!wt||wt===nn)&&null!=Mn&&Mn.user&&(se=Mn.user,Ze=!0)}if(!se)return g.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ze)try{yield g.beforeStateQueue.runMiddleware(se)}catch(wt){se=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(wt))}return se?g.reloadAndSetCurrentUserOrClear(se):g.directlySetCurrentUser(null)}return Me(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===se._redirectEventId?g.directlySetCurrentUser(se):g.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var g=this;return(0,d.A)(function*(){let A=null;try{A=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.A)(function*(){try{yield lr(h)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.A)(function*(){if((0,Y._isFirebaseServerApp)(g.app))return Promise.reject(Je(g));const A=h?(0,J.Ku)(h):null;return A&&Me(A.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(A&&A._clone(g))})()}_updateCurrentUser(h,g=!1){var A=this;return(0,d.A)(function*(){if(!A._deleted)return h&&Me(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),g||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,d.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.A)(function*(){return(0,Y._isFirebaseServerApp)(h.app)?Promise.reject(Je(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,Y._isFirebaseServerApp)(this.app)?Promise.reject(Je(this)):this.queue((0,d.A)(function*(){yield g.assertedPersistence.setPersistence(Fn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,d.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const A=g._getPasswordPolicyInternal();return A.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,d.A)(function*(){const g=yield function Le(y){return Pt.apply(this,arguments)}(h),A=new vn(g);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new J.FA("auth","Firebase",h())}onAuthStateChanged(h,g,A){return this.registerStateListener(this.authStateSubscription,h,g,A)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,A){return this.registerStateListener(this.idTokenSubscription,h,g,A)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,d.A)(function*(){if(g.currentUser){const A=yield g.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=g.tenantId&&(H.tenantId=g.tenantId),yield function ne(y,h){return Oe.apply(this,arguments)}(g,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var A=this;return(0,d.A)(function*(){const H=yield A.getOrInitRedirectPersistenceManager(g);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.A)(function*(){if(!g.redirectPersistenceManager){const A=h&&Fn(h)||g._popupRedirectResolver;Me(A,g,"argument-error"),g.redirectPersistenceManager=yield Kn.create(g,[Fn(A._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.A)(function*(){var A,H;return g._isInitialized&&(yield g.queue((0,d.A)(function*(){}))),(null===(A=g._currentUser)||void 0===A?void 0:A._redirectEventId)===h?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.A)(function*(){if(h===g.currentUser)return g.queue((0,d.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,A,H){if(this._deleted)return()=>{};const se="function"==typeof g?g:g.next.bind(g);let Ze=!1;const wt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(wt,this,"internal-error"),wt.then(()=>{Ze||se(this.currentUser)}),"function"==typeof g){const nn=h.addObserver(g,A,H);return()=>{Ze=!0,nn()}}{const nn=h.addObserver(g);return()=>{Ze=!0,nn()}}}directlySetCurrentUser(h){var g=this;return(0,d.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.A)(function*(){var g;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(A["X-Firebase-Client"]=H);const se=yield h._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var h=this;return(0,d.A)(function*(){var g;const A=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=A&&A.error&&function ct(y,...h){pt.logLevel<=le.$b.WARN&&pt.warn(`Auth (${Y.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function Bn(y){return(0,J.Ku)(y)}class pi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,J.tD)(g=>this.observer=g)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lr={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ni(y){return Lr.loadJS(y)}function qi(y){return`__${y}${Math.floor(1e6*Math.random())}`}class $o{constructor(h){this.type="recaptcha-enterprise",this.auth=Bn(h)}verify(h="verify",g=!1){var A=this;return(0,d.A)(function*(){function se(){return se=(0,d.A)(function*(wt){if(!g){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var nn=(0,d.A)(function*(Mn,qn){on(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hn=>{if(void 0!==Hn.recaptchaKey){const io=new lt(Hn);return null==wt.tenantId?wt._agentRecaptchaConfig=io:wt._tenantRecaptchaConfigs[wt.tenantId]=io,Mn(io.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Hn=>{qn(Hn)})});return function(Mn,qn){return nn.apply(this,arguments)}}())}),se.apply(this,arguments)}function Ze(wt,nn,Mn){const qn=window.grecaptcha;Xn(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(wt,{action:h}).then(Hn=>{nn(Hn)}).catch(()=>{nn("NO_RECAPTCHA")})}):Mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,nn)=>{(function H(wt){return se.apply(this,arguments)})(A.auth).then(Mn=>{if(!g&&Xn(window.grecaptcha))Ze(Mn,wt,nn);else{if(typeof window>"u")return void nn(new Error("RecaptchaVerifier is only supported in browser"));let qn=function Mi(){return Lr.recaptchaEnterpriseScript}();0!==qn.length&&(qn+=Mn),ni(qn).then(()=>{Ze(Mn,wt,nn)}).catch(Hn=>{nn(Hn)})}}).catch(Mn=>{nn(Mn)})})})()}}function _o(y,h,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.A)(function*(y,h,g,A=!1){const H=new $o(y);let se;try{se=yield H.verify(g)}catch{se=yield H.verify(g,!0)}const Ze=Object.assign({},h);return Object.assign(Ze,A?{captchaResp:se}:{captchaResponse:se}),Object.assign(Ze,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ze,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ze})).apply(this,arguments)}function Xo(y,h,g,A){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,d.A)(function*(y,h,g,A){var H;if(null!==(H=y._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield _o(y,h,g,"getOobCode"===g);return A(y,se)}return A(y,h).catch(function(){var se=(0,d.A)(function*(Ze){if("auth/missing-recaptcha-token"===Ze.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const wt=yield _o(y,h,g,"getOobCode"===g);return A(y,wt)}return Promise.reject(Ze)});return function(Ze){return se.apply(this,arguments)}}())}),Qo.apply(this,arguments)}function jo(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Ri(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Xr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return kt("not implemented")}_getIdTokenResponse(h){return kt("not implemented")}_linkToIdToken(h,g){return kt("not implemented")}_getReauthenticationResolver(h){return kt("not implemented")}}function ga(y,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:resetPassword",Xe(y,h))})).apply(this,arguments)}function ps(){return(ps=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Jr(y,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Nr(){return(Nr=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",Xe(y,h))})).apply(this,arguments)}function As(y,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithPassword",Xe(y,h))})).apply(this,arguments)}function Gr(y,h){return R.apply(this,arguments)}function R(){return(R=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:sendOobCode",Xe(y,h))})).apply(this,arguments)}function de(){return(de=(0,d.A)(function*(y,h){return Gr(y,h)})).apply(this,arguments)}function N(y,h){return C.apply(this,arguments)}function C(){return(C=(0,d.A)(function*(y,h){return Gr(y,h)})).apply(this,arguments)}function k(y,h){return we.apply(this,arguments)}function we(){return(we=(0,d.A)(function*(y,h){return Gr(y,h)})).apply(this,arguments)}function at(){return(at=(0,d.A)(function*(y,h){return Gr(y,h)})).apply(this,arguments)}function Gt(){return(Gt=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,h))})).apply(this,arguments)}function jt(){return(jt=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,h))})).apply(this,arguments)}class en extends Xr{constructor(h,g,A,H=null){super("password",A),this._email=h,this._password=g,this._tenantId=H}static _fromEmailAndPassword(h,g){return new en(h,g,"password")}static _fromEmailAndCode(h,g,A=null){return new en(h,g,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.A)(function*(){switch(g.signInMethod){case"password":return Xo(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",As);case"emailLink":return function vt(y,h){return Gt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ne(h,"internal-error")}})()}_linkToIdToken(h,g){var A=this;return(0,d.A)(function*(){switch(A.signInMethod){case"password":return Xo(h,{idToken:g,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jr);case"emailLink":return function Yt(y,h){return jt.apply(this,arguments)}(h,{idToken:g,email:A._email,oobCode:A._password});default:Ne(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function fn(y,h){return In.apply(this,arguments)}function In(){return(In=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithIdp",Xe(y,h))})).apply(this,arguments)}class Vn extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Vn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ne("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:H}=g,se=(0,ce.Tt)(g,["providerId","signInMethod"]);if(!A||!H)return null;const Ze=new Vn(A,H);return Ze.idToken=se.idToken||void 0,Ze.accessToken=se.accessToken||void 0,Ze.secret=se.secret,Ze.nonce=se.nonce,Ze.pendingToken=se.pendingToken||null,Ze}_getIdTokenResponse(h){return fn(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,fn(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,fn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,J.Am)(g)}return h}}function ri(){return(ri=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:sendVerificationCode",Xe(y,h))})).apply(this,arguments)}function Kr(){return(Kr=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,h))})).apply(this,arguments)}function ao(){return(ao=(0,d.A)(function*(y,h){const g=yield pn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,h));if(g.temporaryProof)throw Bt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Xi={USER_NOT_FOUND:"user-not-found"};function Fo(){return(Fo=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Xi)})).apply(this,arguments)}class Hi extends Xr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Hi({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Hi({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Wr(y,h){return Kr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Qr(y,h){return ao.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Sn(y,h){return Fo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:A,verificationCode:H}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:A,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:A,phoneNumber:H,temporaryProof:se}=h;return A||g||H||se?new Hi({verificationId:g,verificationCode:A,phoneNumber:H,temporaryProof:se}):null}}class Lo{constructor(h){var g,A,H,se,Ze,wt;const nn=(0,J.I9)((0,J.hp)(h)),Mn=null!==(g=nn.apiKey)&&void 0!==g?g:null,qn=null!==(A=nn.oobCode)&&void 0!==A?A:null,Hn=function $s(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=nn.mode)&&void 0!==H?H:null);Me(Mn&&qn&&Hn,"argument-error"),this.apiKey=Mn,this.operation=Hn,this.code=qn,this.continueUrl=null!==(se=nn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ze=nn.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(wt=nn.tenantId)&&void 0!==wt?wt:null}static parseLink(h){const g=function na(y){const h=(0,J.I9)((0,J.hp)(y)).link,g=h?(0,J.I9)((0,J.hp)(h)).deep_link_id:null,A=(0,J.I9)((0,J.hp)(y)).deep_link_id;return(A?(0,J.I9)((0,J.hp)(A)).link:null)||A||g||h||y}(h);try{return new Lo(g)}catch{return null}}}let wo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,A){return en._fromEmailAndPassword(g,A)}static credentialWithLink(g,A){const H=Lo.parseLink(A);return Me(H,"argument-error"),en._fromEmailAndCode(g,H.code,H.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class lo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Uo extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class So extends Uo{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Me("providerId"in g&&"signInMethod"in g,"argument-error"),Vn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Me(h.idToken||h.accessToken,"argument-error"),Vn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return So.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return So.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:A,oauthTokenSecret:H,pendingToken:se,nonce:Ze,providerId:wt}=h;if(!A&&!H&&!g&&!se||!wt)return null;try{return new So(wt)._credential({idToken:g,accessToken:A,nonce:Ze,pendingToken:se})}catch{return null}}}let va=(()=>{class y extends Uo{constructor(){super("facebook.com")}static credential(g){return Vn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ni=(()=>{class y extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,A){return Vn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:A,oauthAccessToken:H}=g;if(!A&&!H)return null;try{return y.credential(A,H)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),zo=(()=>{class y extends Uo{constructor(){super("github.com")}static credential(g){return Vn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ei extends Xr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return fn(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,fn(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,fn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:H,pendingToken:se}=g;return A&&H&&se&&A===H?new ei(A,se):null}static _create(h,g){return new ei(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gs extends lo{constructor(h){Me(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return gs.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return gs.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=ei.fromJSON(h);return Me(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:A}=h;if(!g||!A)return null;try{return ei._create(A,g)}catch{return null}}}let Rr=(()=>{class y extends Uo{constructor(){super("twitter.com")}static credential(g,A){return Vn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:A,oauthTokenSecret:H}=g;if(!A||!H)return null;try{return y.credential(A,H)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function pl(y,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signUp",Xe(y,h))})).apply(this,arguments)}class rr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,A,H=!1){return(0,d.A)(function*(){const se=yield Jt._fromIdTokenResponse(h,A,H),Ze=Yr(A);return new rr({user:se,providerId:Ze,_tokenResponse:A,operationType:g})})()}static _forOperation(h,g,A){return(0,d.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const H=Yr(A);return new rr({user:h,providerId:H,_tokenResponse:A,operationType:g})})()}}function Yr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Cs(){return(Cs=(0,d.A)(function*(y){var h;if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const g=Bn(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new rr({user:g.currentUser,providerId:null,operationType:"signIn"});const A=yield pl(g,{returnSecureToken:!0}),H=yield rr._fromIdTokenResponse(g,"signIn",A,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class er extends J.g{constructor(h,g,A,H){var se;super(g.code,g.message),this.operationType=A,this.user=H,Object.setPrototypeOf(this,er.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:g.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,g,A,H){return new er(h,g,A,H)}}function ms(y,h,g,A){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?er._fromErrorAndOperation(y,se,h,A):se})}function uo(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Ts(){return Ts=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y);yield ml(!0,g,h);const{providerUserInfo:A}=yield function Cn(y,h){return Qt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),H=uo(A||[]);return g.providerData=g.providerData.filter(se=>H.has(se.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ts.apply(this,arguments)}function ti(y,h){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.A)(function*(y,h,g=!1){const A=yield xn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return rr._forOperation(y,"link",A)})).apply(this,arguments)}function ml(y,h,g){return zl.apply(this,arguments)}function zl(){return(zl=(0,d.A)(function*(y,h,g){yield lr(h);const H=!1===y?"provider-already-linked":"no-such-provider";Me(uo(h.providerData).has(g)===y,h.auth,H)})).apply(this,arguments)}function vl(y,h){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.A)(function*(y,h,g=!1){const{auth:A}=y;if((0,Y._isFirebaseServerApp)(A.app))return Promise.reject(Je(A));const H="reauthenticate";try{const se=yield xn(y,ms(A,H,h,y),g);Me(se.idToken,A,"internal-error");const Ze=Si(se.idToken);Me(Ze,A,"internal-error");const{sub:wt}=Ze;return Me(y.uid===wt,A,"user-mismatch"),rr._forOperation(y,H,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&Ne(A,"user-mismatch"),se}})).apply(this,arguments)}function qa(y,h){return z.apply(this,arguments)}function z(){return(z=(0,d.A)(function*(y,h,g=!1){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const A="signIn",H=yield ms(y,A,h),se=yield rr._fromIdTokenResponse(y,A,H);return g||(yield y._updateCurrentUser(se.user)),se})).apply(this,arguments)}function M(y,h){return te.apply(this,arguments)}function te(){return(te=(0,d.A)(function*(y,h){return qa(Bn(y),h)})).apply(this,arguments)}function $(y,h){return ue.apply(this,arguments)}function ue(){return(ue=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y);return yield ml(!1,g,h.providerId),ti(g,h)})).apply(this,arguments)}function ln(y,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.A)(function*(y,h){return vl((0,J.Ku)(y),h)})).apply(this,arguments)}function zi(){return(zi=(0,d.A)(function*(y,h){return pn(y,"POST","/v1/accounts:signInWithCustomToken",Xe(y,h))})).apply(this,arguments)}function Er(){return Er=(0,d.A)(function*(y,h){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const g=Bn(y),A=yield function yi(y,h){return zi.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),H=yield rr._fromIdTokenResponse(g,"signIn",A);return yield g._updateCurrentUser(H.user),H}),Er.apply(this,arguments)}class ho{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Bo._fromServerResponse(h,g):"totpInfo"in g?ia._fromServerResponse(h,g):Ne(h,"internal-error")}}class Bo extends ho{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Bo(g)}}class ia extends ho{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new ia(g)}}function _a(y,h,g){var A;Me((null===(A=g.url)||void 0===A?void 0:A.length)>0,y,"invalid-continue-uri"),Me(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Me(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Me(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function oa(y){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.A)(function*(y){const h=Bn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ds(){return(Ds=(0,d.A)(function*(y,h,g){const A=Bn(y),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&_a(A,H,g),yield Xo(A,H,"getOobCode",N)})).apply(this,arguments)}function sa(){return sa=(0,d.A)(function*(y,h,g){yield ga((0,J.Ku)(y),{oobCode:h,newPassword:g}).catch(function(){var A=(0,d.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&oa(y),H});return function(H){return A.apply(this,arguments)}}())}),sa.apply(this,arguments)}function dr(){return dr=(0,d.A)(function*(y,h){yield function Ti(y,h){return Nr.apply(this,arguments)}((0,J.Ku)(y),{oobCode:h})}),dr.apply(this,arguments)}function ns(y,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y),A=yield ga(g,{oobCode:h}),H=A.requestType;switch(Me(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(A.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(A.mfaInfo,g,"internal-error");default:Me(A.email,g,"internal-error")}let se=null;return A.mfaInfo&&(se=ho._fromServerResponse(Bn(g),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:H}})).apply(this,arguments)}function Oa(){return(Oa=(0,d.A)(function*(y,h){const{data:g}=yield ns((0,J.Ku)(y),h);return g.email})).apply(this,arguments)}function Go(){return(Go=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const A=Bn(y),Ze=yield Xo(A,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pl).catch(nn=>{throw"auth/password-does-not-meet-requirements"===nn.code&&oa(y),nn}),wt=yield rr._fromIdTokenResponse(A,"signIn",Ze);return yield A._updateCurrentUser(wt.user),wt})).apply(this,arguments)}function ws(){return(ws=(0,d.A)(function*(y,h,g){const A=Bn(y),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function se(Ze,wt){Me(wt.handleCodeInApp,A,"argument-error"),wt&&_a(A,Ze,wt)})(H,g),yield Xo(A,H,"getOobCode",k)})).apply(this,arguments)}function yo(){return(yo=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const A=(0,J.Ku)(y),H=wo.credentialWithLink(h,g||hn());return Me(H._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),M(A,H)})).apply(this,arguments)}function rs(){return(rs=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:createAuthUri",Xe(y,h))})).apply(this,arguments)}function is(){return is=(0,d.A)(function*(y,h){const A={identifier:h,continueUri:qt()?hn():"http://localhost"},{signinMethods:H}=yield function Ss(y,h){return rs.apply(this,arguments)}((0,J.Ku)(y),A);return H||[]}),is.apply(this,arguments)}function Xa(){return Xa=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y),H={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&_a(g.auth,H,h);const{email:se}=yield function X(y,h){return de.apply(this,arguments)}(g.auth,H);se!==y.email&&(yield y.reload())}),Xa.apply(this,arguments)}function Zr(){return Zr=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&_a(A.auth,se,g);const{email:Ze}=yield function Be(y,h){return at.apply(this,arguments)}(A.auth,se);Ze!==y.email&&(yield y.reload())}),Zr.apply(this,arguments)}function Rs(){return(Rs=(0,d.A)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function El(){return El=(0,d.A)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const A=(0,J.Ku)(y),se={idToken:yield A.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ze=yield xn(A,function Uu(y,h){return Rs.apply(this,arguments)}(A.auth,se));A.displayName=Ze.displayName||null,A.photoURL=Ze.photoUrl||null;const wt=A.providerData.find(({providerId:nn})=>"password"===nn);wt&&(wt.displayName=A.displayName,wt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ze)}),El.apply(this,arguments)}function Tr(y,h,g){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,d.A)(function*(y,h,g){const{auth:A}=y,se={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(se.email=h),g&&(se.password=g);const Ze=yield xn(y,function ma(y,h){return ps.apply(this,arguments)}(A,se));yield y._updateTokensIfNecessary(Ze,!0)}),Ko.apply(this,arguments)}class li{constructor(h,g,A={}){this.isNewUser=h,this.providerId=g,this.profile=A}}class Al extends li{constructor(h,g,A,H){super(h,g,A),this.username=H}}class Ca extends li{constructor(h,g){super(h,"facebook.com",g)}}class D extends Al{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class j extends li{constructor(h,g){super(h,"google.com",g)}}class Re extends Al{constructor(h,g,A){super(h,"twitter.com",g,A)}}function B(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Il(y){var h,g;if(!y)return null;const{providerId:A}=y,H=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},se=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!A&&null!=y&&y.idToken){const Ze=null===(g=null===(h=Si(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ze)return new li(se,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!A)return null;switch(A){case"facebook.com":return new Ca(se,H);case"github.com":return new D(se,H);case"google.com":return new j(se,H);case"twitter.com":return new Re(se,H,y.screenName||null);case"custom":case"anonymous":return new li(se,null);default:return new li(se,A,H)}}(g)}class U{constructor(h,g,A){this.type=h,this.credential=g,this.user=A}static _fromIdtoken(h,g){return new U("enroll",h,g)}static _fromMfaPendingCredential(h){return new U("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,A;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return U._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return U._fromIdtoken(h.multiFactorSession.idToken)}return null}}class K{constructor(h,g,A){this.session=h,this.hints=g,this.signInResolver=A}static _fromError(h,g){const A=Bn(h),H=g.customData._serverResponse,se=(H.mfaInfo||[]).map(wt=>ho._fromServerResponse(A,wt));Me(H.mfaPendingCredential,A,"internal-error");const Ze=U._fromMfaPendingCredential(H.mfaPendingCredential);return new K(Ze,se,function(){var wt=(0,d.A)(function*(nn){const Mn=yield nn._process(A,Ze);delete H.mfaInfo,delete H.mfaPendingCredential;const qn=Object.assign(Object.assign({},H),{idToken:Mn.idToken,refreshToken:Mn.refreshToken});switch(g.operationType){case"signIn":const Hn=yield rr._fromIdTokenResponse(A,g.operationType,qn);return yield A._updateCurrentUser(Hn.user),Hn;case"reauthenticate":return Me(g.user,A,"internal-error"),rr._forOperation(g.user,g.operationType,qn);default:Ne(A,"internal-error")}});return function(nn){return wt.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.A)(function*(){return g.signInResolver(h)})()}}class zn{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(A=>ho._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new zn(h)}getSession(){var h=this;return(0,d.A)(function*(){return U._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var A=this;return(0,d.A)(function*(){const H=h,se=yield A.getSession(),Ze=yield xn(A.user,H._process(A.user.auth,se,g));return yield A.user._updateTokensIfNecessary(Ze),A.user.reload()})()}unenroll(h){var g=this;return(0,d.A)(function*(){const A="string"==typeof h?h:h.uid,H=yield g.user.getIdToken();try{const se=yield xn(g.user,function Yn(y,h){return Qe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(y,h))}(g.user.auth,{idToken:H,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ze})=>Ze!==A),yield g.user._updateTokensIfNecessary(se),yield g.user.reload()}catch(se){throw se}})()}}const Dn=new WeakMap,jn="__sak";class po{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(jn,"1"),this.storage.removeItem(jn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kl=(()=>{class y extends po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,A)=>this.onStorageEvent(g,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ht(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const A of Object.keys(this.listeners)){const H=this.storage.getItem(A),se=this.localCache[A];H!==se&&g(A,se,H)}}onStorageEvent(g,A=!1){if(!g.key)return void this.forAllChangedKeys((wt,nn,Mn)=>{this.notifyListeners(wt,Mn)});const H=g.key;A?this.detachListener():this.stopPolling();const se=()=>{const wt=this.storage.getItem(H);!A&&this.localCache[H]===wt||this.notifyListeners(H,wt)},Ze=this.storage.getItem(H);!function _e(){return(0,J.lT)()&&10===document.documentMode}()||Ze===g.newValue||g.newValue===g.oldValue?se():setTimeout(se,10)}notifyListeners(g,A){this.localCache[g]=A;const H=this.listeners[g];if(H)for(const se of Array.from(H))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,A,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:A,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,A){var H=()=>super._set,se=this;return(0,d.A)(function*(){yield H().call(se,g,A),se.localCache[g]=JSON.stringify(A)})()}_get(g){var A=()=>super._get,H=this;return(0,d.A)(function*(){const se=yield A().call(H,g);return H.localCache[g]=JSON.stringify(se),se})()}_remove(g){var A=()=>super._remove,H=this;return(0,d.A)(function*(){yield A().call(H,g),delete H.localCache[g]})()}}return y.type="LOCAL",y})(),vs=(()=>{class y extends po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,A){}_removeListener(g,A){}}return y.type="SESSION",y})();let Mo=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const A=this.receivers.find(se=>se.isListeningto(g));if(A)return A;const H=new y(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var A=this;return(0,d.A)(function*(){const H=g,{eventId:se,eventType:Ze,data:wt}=H.data,nn=A.handlersMap[Ze];if(null==nn||!nn.size)return;H.ports[0].postMessage({status:"ack",eventId:se,eventType:Ze});const Mn=Array.from(nn).map(function(){var Hn=(0,d.A)(function*(io){return io(H.origin,wt)});return function(io){return Hn.apply(this,arguments)}}()),qn=yield function gu(y){return Promise.all(y.map(function(){var h=(0,d.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(A){return{fulfilled:!1,reason:A}}});return function(g){return h.apply(this,arguments)}}()))}(Mn);H.ports[0].postMessage({status:"done",eventId:se,eventType:Ze,response:qn})})()}_subscribe(g,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(A)}_unsubscribe(g,A){this.handlersMap[g]&&A&&this.handlersMap[g].delete(A),(!A||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ta(y="",h=10){let g="";for(let A=0;A<h;A++)g+=Math.floor(10*Math.random());return y+g}class Cl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,A=50){var H=this;return(0,d.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ze,wt;return new Promise((nn,Mn)=>{const qn=Ta("",20);se.port1.start();const Hn=setTimeout(()=>{Mn(new Error("unsupported_event"))},A);wt={messageChannel:se,onMessage(io){const Ra=io;if(Ra.data.eventId===qn)switch(Ra.data.status){case"ack":clearTimeout(Hn),Ze=setTimeout(()=>{Mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),nn(Ra.data.response);break;default:clearTimeout(Hn),clearTimeout(Ze),Mn(new Error("invalid_response"))}}},H.handlers.add(wt),se.port1.addEventListener("message",wt.onMessage),H.target.postMessage({eventType:h,eventId:qn,data:g},[se.port2])}).finally(()=>{wt&&H.removeMessageHandler(wt)})})()}}function Po(){return window}function zs(){return typeof Po().WorkerGlobalScope<"u"&&"function"==typeof Po().importScripts}function Ms(){return(Ms=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mu="firebaseLocalStorageDb",_s="firebaseLocalStorage",ys="fbase_key";class ql{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xl(y,h){return y.transaction([_s],h?"readwrite":"readonly").objectStore(_s)}function Ql(){const y=indexedDB.open(mu,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const A=y.result;try{A.createObjectStore(_s,{keyPath:ys})}catch(H){g(H)}}),y.addEventListener("success",(0,d.A)(function*(){const A=y.result;A.objectStoreNames.contains(_s)?h(A):(A.close(),yield function no(){const y=indexedDB.deleteDatabase(mu);return new ql(y).toPromise()}(),h(yield Ql()))}))})}function Ya(y,h,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,d.A)(function*(y,h,g){const A=Xl(y,!0).put({[ys]:h,value:g});return new ql(A).toPromise()})).apply(this,arguments)}function Gs(){return(Gs=(0,d.A)(function*(y,h){const g=Xl(y,!1).get(h),A=yield new ql(g).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ju(y,h){const g=Xl(y,!0).delete(h);return new ql(g).toPromise()}const Yl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.A)(function*(){return g.db||(g.db=yield Ql()),g.db})()}_withRetries(g){var A=this;return(0,d.A)(function*(){let H=0;for(;;)try{const se=yield A._openDb();return yield g(se)}catch(se){if(H++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.A)(function*(){return zs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.A)(function*(){g.receiver=Mo._getInstance(function Tc(){return zs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var A=(0,d.A)(function*(H,se){return{keyProcessed:(yield g._poll()).includes(se.key)}});return function(H,se){return A.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var A=(0,d.A)(function*(H,se){return["keyChanged"]});return function(H,se){return A.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.A)(function*(){var A,H;if(g.activeServiceWorker=yield function gi(){return Ms.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Cl(g.activeServiceWorker);const se=yield g.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(H=se[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var A=this;return(0,d.A)(function*(){if(A.sender&&A.activeServiceWorker&&function jh(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:g},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const g=yield Ql();return yield Ya(g,jn,"1"),yield ju(g,jn),!0}catch{}return!1})()}_withPendingWrite(g){var A=this;return(0,d.A)(function*(){A.pendingWrites++;try{yield g()}finally{A.pendingWrites--}})()}_set(g,A){var H=this;return(0,d.A)(function*(){return H._withPendingWrite((0,d.A)(function*(){return yield H._withRetries(se=>Ya(se,g,A)),H.localCache[g]=A,H.notifyServiceWorker(g)}))})()}_get(g){var A=this;return(0,d.A)(function*(){const H=yield A._withRetries(se=>function Tl(y,h){return Gs.apply(this,arguments)}(se,g));return A.localCache[g]=H,H})()}_remove(g){var A=this;return(0,d.A)(function*(){return A._withPendingWrite((0,d.A)(function*(){return yield A._withRetries(H=>ju(H,g)),delete A.localCache[g],A.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.A)(function*(){const A=yield g._withRetries(Ze=>{const wt=Xl(Ze,!1).getAll();return new ql(wt).toPromise()});if(!A)return[];if(0!==g.pendingWrites)return[];const H=[],se=new Set;if(0!==A.length)for(const{fbase_key:Ze,value:wt}of A)se.add(Ze),JSON.stringify(g.localCache[Ze])!==JSON.stringify(wt)&&(g.notifyListeners(Ze,wt),H.push(Ze));for(const Ze of Object.keys(g.localCache))g.localCache[Ze]&&!se.has(Ze)&&(g.notifyListeners(Ze,null),H.push(Ze));return H})()}notifyListeners(g,A){this.localCache[g]=A;const H=this.listeners[g];if(H)for(const se of Array.from(H))se(A)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),L=1e12;class he{constructor(h){this.auth=h,this.counter=L,this._widgets=new Map}render(h,g){const A=this.counter;return this._widgets.set(A,new ge(h,this.auth.name,g||{})),this.counter++,A}reset(h){var g;const A=h||L;null===(g=this._widgets.get(A))||void 0===g||g.delete(),this._widgets.delete(A)}getResponse(h){var g;return(null===(g=this._widgets.get(h||L))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.A)(function*(){var A;return null===(A=g._widgets.get(h||L))||void 0===A||A.execute(),""})()}}class ge{constructor(h,g,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;Me(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dt(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<y;A++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zt=qi("rcb"),Mt=new Z(3e4,6e4);class Pn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Po().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Me(function mr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&rn(Po().grecaptcha)?Promise.resolve(Po().grecaptcha):new Promise((A,H)=>{const se=Po().setTimeout(()=>{H(Ve(h,"network-request-failed"))},Mt.get());Po()[Zt]=()=>{Po().clearTimeout(se),delete Po()[Zt];const wt=Po().grecaptcha;if(!wt||!rn(wt))return void H(Ve(h,"internal-error"));const nn=wt.render;wt.render=(Mn,qn)=>{const Hn=nn(Mn,qn);return this.counter++,Hn},this.hostLanguage=g,A(wt)},ni(`${function Li(){return Lr.recaptchaV2Script}()}?${(0,J.Am)({onload:Zt,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(se),H(Ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Po().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ui{load(h){return(0,d.A)(function*(){return new he(h)})()}clearedOneInstance(){}}const br="recaptcha",Ai={theme:"light",type:"image"};class hr{constructor(h,g,A=Object.assign({},Ai)){this.parameters=A,this.type=br,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(h),this.isInvisible="invisible"===this.parameters.size,Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;Me(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ui:new Pn,this.validateStartingState()}verify(){var h=this;return(0,d.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(g)||new Promise(se=>{const Ze=wt=>{wt&&(h.tokenChangeListeners.delete(Ze),se(wt))};h.tokenChangeListeners.add(Ze),h.isInvisible&&A.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(A=>A(g)),"function"==typeof h)h(g);else if("string"==typeof h){const A=Po()[h];"function"==typeof A&&A(g)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const A=document.createElement("div");g.appendChild(A),g=A}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.A)(function*(){Me(qt()&&!zs(),h.auth,"internal-error"),yield function vi(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function De(y){return Fe.apply(this,arguments)}(h.auth);Me(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class to{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Hi._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function wi(){return(wi=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const A=Bn(y),H=yield Za(A,h,(0,J.Ku)(g));return new to(H,se=>M(A,se))})).apply(this,arguments)}function Zl(){return(Zl=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);yield ml(!1,A,"phone");const H=yield Za(A.auth,h,(0,J.Ku)(g));return new to(H,se=>$(A,se))})).apply(this,arguments)}function ka(){return(ka=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);if((0,Y._isFirebaseServerApp)(A.auth.app))return Promise.reject(Je(A.auth));const H=yield Za(A.auth,h,(0,J.Ku)(g));return new to(H,se=>ln(A,se))})).apply(this,arguments)}function Za(y,h,g){return aa.apply(this,arguments)}function aa(){return aa=(0,d.A)(function*(y,h,g){var A;const H=yield g.verify();try{let se;if(Me("string"==typeof H,y,"argument-error"),Me(g.type===br,y,"argument-error"),se="string"==typeof h?{phoneNumber:h}:h,"session"in se){const Ze=se.session;if("phoneNumber"in se)return Me("enroll"===Ze.type,y,"internal-error"),(yield function $e(y,h){return Qe(y,"POST","/v2/accounts/mfaEnrollment:start",Xe(y,h))}(y,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Me("signin"===Ze.type,y,"internal-error");const wt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return Me(wt,y,"missing-multi-factor-info"),(yield function _d(y,h){return Qe(y,"POST","/v2/accounts/mfaSignIn:start",Xe(y,h))}(y,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield function Br(y,h){return ri.apply(this,arguments)}(y,{phoneNumber:se.phoneNumber,recaptchaToken:H});return Ze}}finally{g._reset()}}),aa.apply(this,arguments)}function Dl(){return(Dl=(0,d.A)(function*(y,h){const g=(0,J.Ku)(y);if((0,Y._isFirebaseServerApp)(g.auth.app))return Promise.reject(Je(g.auth));yield ti(g,h)})).apply(this,arguments)}let Iu=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Bn(g)}verifyPhoneNumber(g,A){return Za(this.auth,g,(0,J.Ku)(A))}static credential(g,A){return Hi._fromVerification(g,A)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:A,temporaryProof:H}=g;return A&&H?Hi._fromTokenResponse(A,H):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ba(y,h){return h?Fn(h):(Me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class yd extends Xr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return fn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return fn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return fn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Ed(y){return qa(y.auth,new yd(y),y.bypassAuthState)}function yp(y){const{auth:h,user:g}=y;return Me(g,h,"internal-error"),vl(g,new yd(y),y.bypassAuthState)}function zh(y){return bc.apply(this,arguments)}function bc(){return(bc=(0,d.A)(function*(y){const{auth:h,user:g}=y;return Me(g,h,"internal-error"),ti(g,new yd(y),y.bypassAuthState)})).apply(this,arguments)}class Id{constructor(h,g,A,H,se=!1){this.auth=h,this.resolver=A,this.user=H,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.A)(function*(A,H){h.pendingPromise={resolve:A,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(A,H){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.A)(function*(){const{urlResponse:A,sessionId:H,postBody:se,tenantId:Ze,error:wt,type:nn}=h;if(wt)return void g.reject(wt);const Mn={auth:g.auth,requestUri:A,sessionId:H,tenantId:Ze||void 0,postBody:se||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(nn)(Mn))}catch(qn){g.reject(qn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ed;case"linkViaPopup":case"linkViaRedirect":return zh;case"reauthViaPopup":case"reauthViaRedirect":return yp;default:Ne(this.auth,"internal-error")}}resolve(h){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ja=new Z(2e3,1e4);function Sc(){return(Sc=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Ve(y,"operation-not-supported-in-this-environment"));const A=Bn(y);qe(y,h,lo);const H=ba(A,g);return new Ws(A,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Gh(){return(Gh=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);if((0,Y._isFirebaseServerApp)(A.auth.app))return Promise.reject(Ve(A.auth,"operation-not-supported-in-this-environment"));qe(A.auth,h,lo);const H=ba(A.auth,g);return new Ws(A.auth,"reauthViaPopup",h,H,A).executeNotNull()})).apply(this,arguments)}function Hu(){return(Hu=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);qe(A.auth,h,lo);const H=ba(A.auth,g);return new Ws(A.auth,"linkViaPopup",h,H,A).executeNotNull()})).apply(this,arguments)}let Ws=(()=>{class y extends Id{constructor(g,A,H,se,Ze){super(g,A,se,Ze),this.provider=H,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.A)(function*(){const A=yield g.execute();return Me(A,g.auth,"internal-error"),A})()}onExecution(){var g=this;return(0,d.A)(function*(){Vt(1===g.filter.length,"Popup operations only handle one event");const A=Ta();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],A),g.authWindow.associatedEvent=A,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(Ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var A,H;this.pollId=null!==(H=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ja.get())};g()}}return y.currentPopupAction=null,y})();const zu="pendingRedirect",Fa=new Map;class Au extends Id{constructor(h,g,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.A)(function*(){let A=Fa.get(g.auth._key());if(!A){try{const se=(yield function Jl(y,h){return Rc.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;A=()=>Promise.resolve(se)}catch(H){A=()=>Promise.reject(H)}Fa.set(g.auth._key(),A)}return g.bypassAuthState||Fa.set(g.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,A=this;return(0,d.A)(function*(){if("signInViaRedirect"===h.type)return g().call(A,h);if("unknown"!==h.type){if(h.eventId){const H=yield A.auth._redirectUserForId(h.eventId);if(H)return A.user=H,g().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Rc(){return(Rc=(0,d.A)(function*(y,h){const g=Wh(h),A=Gu(y);if(!(yield A._isAvailable()))return!1;const H="true"===(yield A._get(g));return yield A._remove(g),H})).apply(this,arguments)}function bl(y,h){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,d.A)(function*(y,h){return Gu(y)._set(Wh(h),"true")})).apply(this,arguments)}function Mc(y,h){Fa.set(y._key(),h)}function Gu(y){return Fn(y._redirectPersistence)}function Wh(y){return It(zu,y.config.apiKey,y.name)}function Td(y,h,g){return function Pc(y,h,g){return wl.apply(this,arguments)}(y,h,g)}function wl(){return(wl=(0,d.A)(function*(y,h,g){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const A=Bn(y);qe(y,h,lo),yield A._initializationPromise;const H=ba(A,g);return yield bl(H,A),H._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function Dd(y,h,g){return function _m(y,h,g){return go.apply(this,arguments)}(y,h,g)}function go(){return(go=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);if(qe(A.auth,h,lo),(0,Y._isFirebaseServerApp)(A.auth.app))return Promise.reject(Je(A.auth));yield A.auth._initializationPromise;const H=ba(A.auth,g);yield bl(H,A.auth);const se=yield Kh(A);return H._openRedirect(A.auth,h,"reauthViaRedirect",se)})).apply(this,arguments)}function Nc(y,h,g){return function ym(y,h,g){return eu.apply(this,arguments)}(y,h,g)}function eu(){return(eu=(0,d.A)(function*(y,h,g){const A=(0,J.Ku)(y);qe(A.auth,h,lo),yield A.auth._initializationPromise;const H=ba(A.auth,g);yield ml(!1,A,h.providerId),yield bl(H,A.auth);const se=yield Kh(A);return H._openRedirect(A.auth,h,"linkViaRedirect",se)})).apply(this,arguments)}function Cu(){return(Cu=(0,d.A)(function*(y,h){return yield Bn(y)._initializationPromise,Sl(y,h,!1)})).apply(this,arguments)}function Sl(y,h){return bd.apply(this,arguments)}function bd(){return(bd=(0,d.A)(function*(y,h,g=!1){if((0,Y._isFirebaseServerApp)(y.app))return Promise.reject(Je(y));const A=Bn(y),H=ba(A,h),Ze=yield new Au(A,H,g).execute();return Ze&&!g&&(delete Ze.user._redirectEventId,yield A._persistUserIfCurrent(Ze.user),yield A._setRedirectUser(null,h)),Ze})).apply(this,arguments)}function Kh(y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.A)(function*(y){const h=Ta(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class tu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(g=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ir(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tn(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var A;if(h.error&&!Tn(h)){const H=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";g.onError(Ve(this.auth,H))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const A=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ui(h))}saveEventToCache(h){this.cachedEventUids.add(Ui(h)),this.lastProcessedEventTime=Date.now()}}function Ui(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Tn({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Qi(y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.A)(function*(y,h={}){return Qe(y,"GET","/v1/projects",h)})).apply(this,arguments)}const mo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ps=/^https?/;function Oi(){return(Oi=(0,d.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Qi(y);for(const g of h)try{if(Gi(g))return}catch{}Ne(y,"unauthorized-domain")})).apply(this,arguments)}function Gi(y){const h=hn(),{protocol:g,hostname:A}=new URL(h);if(y.startsWith("chrome-extension://")){const Ze=new URL(y);return""===Ze.hostname&&""===A?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ze.hostname===A}if(!Ps.test(g))return!1;if(mo.test(y))return A===y;const H=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(A)}const La=new Z(3e4,6e4);function wr(){const y=Po().___jsl;if(null!=y&&y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Oc=null;const ro=new Z(5e3,15e3),tl="__/auth/iframe",Du="emulator/auth/iframe",nl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ep(y){const h=y.config;Me(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?ee(h,Du):`https://${y.config.authDomain}/${tl}`,A={apiKey:h.apiKey,appName:y.name,v:Y.SDK_VERSION},H=bu.get(y.config.apiHost);H&&(A.eid=H);const se=y._getFrameworks();return se.length&&(A.fw=se.join(",")),`${g}?${(0,J.Am)(A).slice(1)}`}function la(){return la=(0,d.A)(function*(y){const h=yield function Tu(y){return Oc=Oc||function Ku(y){return new Promise((h,g)=>{var A,H,se;function Ze(){wr(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{wr(),g(Ve(y,"network-request-failed"))},timeout:La.get()})}if(null!==(H=null===(A=Po().gapi)||void 0===A?void 0:A.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(se=Po().gapi)||void 0===se||!se.load){const wt=qi("iframefcb");return Po()[wt]=()=>{gapi.load?Ze():g(Ve(y,"network-request-failed"))},ni(`${function ai(){return Lr.gapiScript}()}?onload=${wt}`).catch(nn=>g(nn))}Ze()}}).catch(h=>{throw Oc=null,h})}(y),Oc}(y),g=Po().gapi;return Me(g,y,"internal-error"),h.open({where:document.body,url:Ep(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nl,dontclear:!0},A=>new Promise(function(){var H=(0,d.A)(function*(se,Ze){yield A.restyle({setHideOnLeave:!1});const wt=Ve(y,"network-request-failed"),nn=Po().setTimeout(()=>{Ze(wt)},ro.get());function Mn(){Po().clearTimeout(nn),se(A)}A.ping(Mn).then(Mn,()=>{Ze(wt)})});return function(se,Ze){return H.apply(this,arguments)}}()))}),la.apply(this,arguments)}const Es={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xu="__/auth/handler",ci="emulator/auth/handler",Is=encodeURIComponent("fac");function Fc(y,h,g,A,H,se){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.A)(function*(y,h,g,A,H,se){Me(y.config.authDomain,y,"auth-domain-config-required"),Me(y.config.apiKey,y,"invalid-api-key");const Ze={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:A,v:Y.SDK_VERSION,eventId:H};if(h instanceof lo){h.setDefaultLanguage(y.languageCode),Ze.providerId=h.providerId||"",(0,J.Im)(h.getCustomParameters())||(Ze.customParameters=JSON.stringify(h.getCustomParameters()));for(const[qn,Hn]of Object.entries(se||{}))Ze[qn]=Hn}if(h instanceof Uo){const qn=h.getScopes().filter(Hn=>""!==Hn);qn.length>0&&(Ze.scopes=qn.join(","))}y.tenantId&&(Ze.tid=y.tenantId);const wt=Ze;for(const qn of Object.keys(wt))void 0===wt[qn]&&delete wt[qn];const nn=yield y._getAppCheckToken(),Mn=nn?`#${Is}=${encodeURIComponent(nn)}`:"";return`${function Rd({config:y}){return y.emulator?ee(y,ci):`https://${y.authDomain}/${Xu}`}(y)}?${(0,J.Am)(wt).slice(1)}${Mn}`})).apply(this,arguments)}const Ns="webStorageSupport",Qu=class Lc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Sl,this._overrideRedirectResult=Mc}_openPopup(h,g,A,H){var se=this;return(0,d.A)(function*(){var Ze;Vt(null===(Ze=se.eventManagers[h._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const wt=yield Fc(h,g,A,hn(),H);return function qu(y,h,g,A=500,H=600){const se=Math.max((window.screen.availHeight-H)/2,0).toString(),Ze=Math.max((window.screen.availWidth-A)/2,0).toString();let wt="";const nn=Object.assign(Object.assign({},Es),{width:A.toString(),height:H.toString(),top:se,left:Ze}),Mn=(0,J.ZQ)().toLowerCase();g&&(wt=Zi(Mn)?"_blank":g),_i(Mn)&&(h=h||"http://localhost",nn.scrollbars="yes");const qn=Object.entries(nn).reduce((io,[Ra,Ou])=>`${io}${Ra}=${Ou},`,"");if(function je(y=(0,J.ZQ)()){var h;return Ji(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Mn)&&"_self"!==wt)return function No(y,h){const g=document.createElement("a");g.href=y,g.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(A)}(h||"",wt),new kc(null);const Hn=window.open(h||"",wt,qn);Me(Hn,y,"popup-blocked");try{Hn.focus()}catch{}return new kc(Hn)}(h,wt,Ta())})()}_openRedirect(h,g,A,H){var se=this;return(0,d.A)(function*(){return yield se._originValidation(h),function $u(y){Po().location.href=y}(yield Fc(h,g,A,hn(),H)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:H,promise:se}=this.eventManagers[g];return H?Promise.resolve(H):(Vt(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(h);return this.eventManagers[g]={promise:A},A.catch(()=>{delete this.eventManagers[g]}),A}initAndGetManager(h){var g=this;return(0,d.A)(function*(){const A=yield function Rl(y){return la.apply(this,arguments)}(h),H=new tu(h);return A.register("authEvent",se=>(Me(null==se?void 0:se.authEvent,h,"invalid-auth-event"),{status:H.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:H},g.iframes[h._key()]=A,H})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Ns,{type:Ns},H=>{var se;const Ze=null===(se=null==H?void 0:H[0])||void 0===se?void 0:se[Ns];void 0!==Ze&&g(!!Ze),Ne(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function wa(y){return Oi.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ht()||$i()||Ji()}};class Vc{constructor(h){this.factorId=h}_process(h,g,A){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,A);case"signin":return this._finalizeSignIn(h,g.credential);default:return kt("unexpected MultiFactorSessionType")}}}class Uc extends Vc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Uc(h)}_finalizeEnroll(h,g,A){return function Lt(y,h){return Qe(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(y,h))}(h,{idToken:g,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function I(y,h){return Qe(y,"POST","/v2/accounts/mfaSignIn:finalize",Xe(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qh=(()=>{class y{constructor(){}static assertion(g){return Uc._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Xh="@firebase/auth";class C_{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(A=>{h((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pl(){return window}(0,J.XA)("authIdTokenMaxAge"),function ur(y){Lr=y}({loadJS:y=>new Promise((h,g)=>{const A=document.createElement("script");A.setAttribute("src",y),A.onload=h,A.onerror=H=>{const se=Ve("internal-error");se.customData=H,g(se)},A.type="text/javascript",A.charset="UTF-8",function Ap(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function T_(y){(0,Y._registerComponent)(new Ce.uA("auth",(h,{options:g})=>{const A=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:Ze,authDomain:wt}=A.options;Me(Ze&&!Ze.includes(":"),"invalid-api-key",{appName:A.name});const nn={apiKey:Ze,authDomain:wt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oe(y)},Mn=new sr(A,H,se,nn);return function Bs(y,h){const g=(null==h?void 0:h.persistence)||[],A=(Array.isArray(g)?g:[g]).map(Fn);null!=h&&h.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(A,null==h?void 0:h.popupRedirectResolver)}(Mn,g),Mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,A)=>{h.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new Ce.uA("auth-internal",h=>{const g=Bn(h.getProvider("auth").getImmediate());return new C_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(Xh,"1.7.8",function Em(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,Y.registerVersion)(Xh,"1.7.8","esm2017")}("Browser");function Su(){return Su=(0,d.A)(function*(y,h,g){var A;const{BuildInfo:H}=Pl();Vt(h.sessionId,"AuthEvent did not contain a session ID");const se=yield function Jh(y){return Pd.apply(this,arguments)}(h.sessionId),Ze={};return Ji()?Ze.ibi=H.packageName:Ki()?Ze.apn=H.packageName:Ne(y,"operation-not-supported-in-this-environment"),H.displayName&&(Ze.appDisplayName=H.displayName),Ze.sessionId=se,Fc(y,g,h.type,void 0,null!==(A=h.eventId)&&void 0!==A?A:void 0,Ze)}),Su.apply(this,arguments)}function Zu(){return(Zu=(0,d.A)(function*(y){const{BuildInfo:h}=Pl(),g={};Ji()?g.iosBundleId=h.packageName:Ki()?g.androidPackageName=h.packageName:Ne(y,"operation-not-supported-in-this-environment"),yield Qi(y,g)})).apply(this,arguments)}function jc(){return(jc=(0,d.A)(function*(y,h,g){const{cordova:A}=Pl();let H=()=>{};try{yield new Promise((se,Ze)=>{let wt=null;function nn(){var Hn;se();const io=null===(Hn=A.plugins.browsertab)||void 0===Hn?void 0:Hn.close;"function"==typeof io&&io(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Mn(){wt||(wt=window.setTimeout(()=>{Ze(Ve(y,"redirect-cancelled-by-user"))},2e3))}function qn(){"visible"===(null==document?void 0:document.visibilityState)&&Mn()}h.addPassiveListener(nn),document.addEventListener("resume",Mn,!1),Ki()&&document.addEventListener("visibilitychange",qn,!1),H=()=>{h.removePassiveListener(nn),document.removeEventListener("resume",Mn,!1),document.removeEventListener("visibilitychange",qn,!1),wt&&window.clearTimeout(wt)}})}finally{H()}})).apply(this,arguments)}function Pd(){return(Pd=(0,d.A)(function*(y){const h=function Nd(y){if(Vt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let A=0;A<y.length;A++)g[A]=y.charCodeAt(A);return g}(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Od extends tu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.A)(function*(){yield h.initPromise})()}}function Ru(y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.A)(function*(y){const h=yield Nl()._get(Jo(y));return h&&(yield Nl()._remove(Jo(y))),h})).apply(this,arguments)}function Hc(){const y=[];for(let g=0;g<20;g++){const A=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return y.join("")}function Nl(){return Fn(Kl)}function Jo(y){return It("authEvent",y.config.apiKey,y.name)}function ca(y){if(null==y||!y.includes("?"))return{};const[h,...g]=y.split("?");return(0,J.I9)(g.join("?"))}const tf=class Dm{constructor(){this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sl,this._overrideRedirectResult=Mc}_initialize(h){var g=this;return(0,d.A)(function*(){const A=h._key();let H=g.eventManagers.get(A);return H||(H=new Od(h),g.eventManagers.set(A,H),g.attachCallbackListeners(h,H)),H})()}_openPopup(h){Ne(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,A,H){var se=this;return(0,d.A)(function*(){!function Cm(y){var h,g,A,H,se,Ze,wt,nn,Mn,qn;const Hn=Pl();Me("function"==typeof(null===(h=null==Hn?void 0:Hn.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(typeof(null===(g=null==Hn?void 0:Hn.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(se=null===(H=null===(A=null==Hn?void 0:Hn.cordova)||void 0===A?void 0:A.plugins)||void 0===H?void 0:H.browsertab)||void 0===se?void 0:se.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(nn=null===(wt=null===(Ze=null==Hn?void 0:Hn.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===nn?void 0:nn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(qn=null===(Mn=null==Hn?void 0:Hn.cordova)||void 0===Mn?void 0:Mn.InAppBrowser)||void 0===qn?void 0:qn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ze=yield se._initialize(h);yield Ze.initialized(),Ze.resetRedirect(),function vm(){Fa.clear()}(),yield se._originValidation(h);const wt=function ef(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Hc(),postBody:null,tenantId:y.tenantId,error:Ve(y,"no-auth-event")}}(h,A,H);yield function ua(y,h){return Nl()._set(Jo(y),h)}(h,wt);const nn=yield function $c(y,h,g){return Su.apply(this,arguments)}(h,wt,g),Mn=yield function Zh(y){const{cordova:h}=Pl();return new Promise(g=>{h.plugins.browsertab.isAvailable(A=>{let H=null;A?h.plugins.browsertab.openUrl(y):H=h.InAppBrowser.open(y,function eo(y=(0,J.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(H)})})}(nn);return function Md(y,h,g){return jc.apply(this,arguments)}(h,Ze,Mn)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Cp(y){return Zu.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:A,handleOpenURL:H,BuildInfo:se}=Pl(),Ze=setTimeout((0,d.A)(function*(){yield Ru(h),g.onEvent(ss())}),500),wt=function(){var qn=(0,d.A)(function*(Hn){clearTimeout(Ze);const io=yield Ru(h);let Ra=null;io&&null!=Hn&&Hn.url&&(Ra=function mi(y,h){var g,A;const H=function Ju(y){const h=ca(y),g=h.link?decodeURIComponent(h.link):void 0,A=ca(g).link,H=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ca(H).link||H||A||g||y}(h);if(H.includes("/__/auth/callback")){const se=ca(H),Ze=se.firebaseError?function Tm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,wt=null===(A=null===(g=null==Ze?void 0:Ze.code)||void 0===g?void 0:g.split("auth/"))||void 0===A?void 0:A[1],nn=wt?Ve(wt):null;return nn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:H,postBody:null}}return null}(io,Hn.url)),g.onEvent(Ra||ss())});return function(io){return qn.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,wt);const nn=H,Mn=`${se.packageName.toLowerCase()}://`;Pl().handleOpenURL=function(){var qn=(0,d.A)(function*(Hn){if(Hn.toLowerCase().startsWith(Mn)&&wt({url:Hn}),"function"==typeof nn)try{nn(Hn)}catch(io){console.error(io)}});return function(Hn){return qn.apply(this,arguments)}}()}};function ss(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ve("no-auth-event")}}function rl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Gc(y=(0,J.ZQ)()){return!("file:"!==rl()&&"ionic:"!==rl()&&"capacitor:"!==rl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function xl(){try{const y=self.localStorage,h=Ta();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Pr(y=(0,J.ZQ)()){return function rf(){return(0,J.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Ol(y=(0,J.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,J.zW)()}catch{return Pu()&&(0,J.zW)()}return!1}function Pu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kl(){return(function xd(){return"http:"===rl()||"https:"===rl()}()||(0,J.sr)()||Gc())&&!function kd(){return(0,J.lV)()||(0,J.Ll)()}()&&xl()&&!Pu()}function sf(){return Gc()&&typeof document<"u"}function nu(){return(nu=(0,d.A)(function*(){return!!sf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const xs={LOCAL:"local",NONE:"none",SESSION:"session"},da=Me,Ld="persistence";function Vd(y){return lf.apply(this,arguments)}function lf(){return(lf=(0,d.A)(function*(y){yield y._initializationPromise;const h=tn(),g=It(Ld,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function tn(){var y;try{return(null===(y=function af(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const qr=Me;class Fl{constructor(){this.browserResolver=Fn(Qu),this.cordovaResolver=Fn(tf),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Sl,this._overrideRedirectResult=Mc}_initialize(h){var g=this;return(0,d.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,A,H){var se=this;return(0,d.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(h,g,A,H)})()}_openRedirect(h,g,A,H){var se=this;return(0,d.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(h,g,A,H)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return sf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.A)(function*(){if(h.underlyingResolver)return;const g=yield function Fd(){return nu.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function Wc(y){return y.unwrap()}function Ud(y){return qs(y)}function qs(y){const{_tokenResponse:h}=y instanceof J.g?y.customData:y;if(!h)return null;if(!(y instanceof J.g)&&"temporaryProof"in h&&"phoneNumber"in h)return Iu.credentialFromResult(y);const g=h.providerId;if(!g||g===He.PASSWORD)return null;let A;switch(g){case He.GOOGLE:A=Ni;break;case He.FACEBOOK:A=va;break;case He.GITHUB:A=zo;break;case He.TWITTER:A=Rr;break;default:const{oauthIdToken:H,oauthAccessToken:se,oauthTokenSecret:Ze,pendingToken:wt,nonce:nn}=h;return se||Ze||H||wt?wt?g.startsWith("saml.")?ei._create(g,wt):Vn._fromParams({providerId:g,signInMethod:g,pendingToken:wt,idToken:H,accessToken:se}):new So(g).credential({idToken:H,accessToken:se,rawNonce:nn}):null}return y instanceof J.g?A.credentialFromError(y):A.credentialFromResult(y)}function as(y,h){return h.catch(g=>{throw g instanceof J.g&&function iu(y,h){var g;const A=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new S_(y,function Ie(y,h){var g;const A=(0,J.Ku)(y),H=h;return Me(h.customData.operationType,A,"argument-error"),Me(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,A,"argument-error"),K._fromError(A,H)}(y,h));else if(A){const H=qs(h),se=h;H&&(se.credential=H,se.tenantId=A.tenantId||void 0,se.email=A.email||void 0,se.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const H=g.user;return{operationType:g.operationType,credential:Ud(g),additionalUserInfo:B(g),user:ou.getOrCreate(H)}})}function il(y,h){return tc.apply(this,arguments)}function tc(){return(tc=(0,d.A)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:A=>as(y,g.confirm(A))}})).apply(this,arguments)}class S_{constructor(h,g){this.resolver=g,this.auth=function xi(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return as(Wc(this.auth),this.resolver.resolveSignIn(h))}}class ou{constructor(h){this._delegate=h,this.multiFactor=function Dr(y){const h=(0,J.Ku)(y);return Dn.has(h)||Dn.set(h,zn._fromUser(h)),Dn.get(h)}(h)}static getOrCreate(h){return ou.USER_MAP.has(h)||ou.USER_MAP.set(h,new ou(h)),ou.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,d.A)(function*(){return as(g.auth,$(g._delegate,h))})()}linkWithPhoneNumber(h,g){var A=this;return(0,d.A)(function*(){return il(A.auth,function _u(y,h,g){return Zl.apply(this,arguments)}(A._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,d.A)(function*(){return as(g.auth,function Ad(y,h,g){return Hu.apply(this,arguments)}(g._delegate,h,Fl))})()}linkWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield Vd(Bn(g.auth)),Nc(g._delegate,h,Fl)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,d.A)(function*(){return as(g.auth,ln(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return il(this.auth,function yu(y,h,g){return ka.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return as(this.auth,function el(y,h,g){return Gh.apply(this,arguments)}(this._delegate,h,Fl))}reauthenticateWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield Vd(Bn(g.auth)),Dd(g._delegate,h,Fl)})()}sendEmailVerification(h){return function _r(y,h){return Xa.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,d.A)(function*(){return yield function gl(y,h){return Ts.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Yo(y,h){const g=(0,J.Ku)(y);return(0,Y._isFirebaseServerApp)(g.auth.app)?Promise.reject(Je(g.auth)):Tr(g,h,null)}(this._delegate,h)}updatePassword(h){return function xa(y,h){return Tr((0,J.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Eu(y,h){return Dl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Qa(y,h){return El.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function pr(y,h,g){return Zr.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ou.USER_MAP=new WeakMap;const Nu=Me;let Bd=(()=>{class y{constructor(g,A){if(this.app=g,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=g.options;Nu(H,"invalid-api-key",{appName:g.name}),Nu(H,"invalid-api-key",{appName:g.name});const se=typeof window<"u"?Fl:void 0;this._delegate=A.initialize({options:{persistence:ls(H,g.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(st),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ou.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,A){!function To(y,h,g){const A=Bn(y);Me(A._canInitEmulator,A,"emulator-config-failed"),Me(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const H=!(null==g||!g.disableWarnings),se=jo(h),{host:Ze,port:wt}=function ta(y){const h=jo(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const A=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(A);if(H){const se=H[1];return{host:se,port:Ri(A.substr(se.length+1))}}{const[se,Ze]=A.split(":");return{host:se,port:Ri(Ze)}}}(h);A.config.emulator={url:`${se}//${Ze}${null===wt?"":`:${wt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ze,port:wt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function ts(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,A)}applyActionCode(g){return function Ea(y,h){return dr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ns(this._delegate,g)}confirmPasswordReset(g,A){return function ya(y,h,g){return sa.apply(this,arguments)}(this._delegate,g,A)}createUserWithEmailAndPassword(g,A){var H=this;return(0,d.A)(function*(){return as(H._delegate,function Gl(y,h,g){return Go.apply(this,arguments)}(H._delegate,g,A))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Aa(y,h){return is.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Wl(y,h){const g=Lo.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.A)(function*(){Nu(kl(),g._delegate,"operation-not-supported-in-this-environment");const A=yield function Wu(y,h){return Cu.apply(this,arguments)}(g._delegate,Fl);return A?as(g._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Sa(y,h){Bn(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,A,H){const{next:se,error:Ze,complete:wt}=cf(g,A,H);return this._delegate.onAuthStateChanged(se,Ze,wt)}onIdTokenChanged(g,A,H){const{next:se,error:Ze,complete:wt}=cf(g,A,H);return this._delegate.onIdTokenChanged(se,Ze,wt)}sendSignInLinkToEmail(g,A){return function Wo(y,h,g){return ws.apply(this,arguments)}(this._delegate,g,A)}sendPasswordResetEmail(g,A){return function js(y,h,g){return Ds.apply(this,arguments)}(this._delegate,g,A||void 0)}setPersistence(g){var A=this;return(0,d.A)(function*(){let H;switch(function ru(y,h){da(Object.values(xs).includes(h),y,"invalid-persistence-type"),(0,J.lV)()?da(h!==xs.SESSION,y,"unsupported-persistence-type"):(0,J.Ll)()?da(h===xs.NONE,y,"unsupported-persistence-type"):Pu()?da(h===xs.NONE||h===xs.LOCAL&&(0,J.zW)(),y,"unsupported-persistence-type"):da(h===xs.NONE||xl(),y,"unsupported-persistence-type")}(A._delegate,g),g){case xs.SESSION:H=vs;break;case xs.LOCAL:H=(yield Fn(Yl)._isAvailable())?Yl:Kl;break;case xs.NONE:H=xr;break;default:return Ne("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return as(this._delegate,function ra(y){return Cs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return as(this._delegate,M(this._delegate,g))}signInWithCustomToken(g){return as(this._delegate,function co(y,h){return Er.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,A){return as(this._delegate,function pu(y,h,g){return(0,Y._isFirebaseServerApp)(y.app)?Promise.reject(Je(y)):M((0,J.Ku)(y),wo.credential(h,g)).catch(function(){var A=(0,d.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&oa(y),H});return function(H){return A.apply(this,arguments)}}())}(this._delegate,g,A))}signInWithEmailLink(g,A){return as(this._delegate,function Ia(y,h,g){return yo.apply(this,arguments)}(this._delegate,g,A))}signInWithPhoneNumber(g,A){return il(this._delegate,function Eo(y,h,g){return wi.apply(this,arguments)}(this._delegate,g,A))}signInWithPopup(g){var A=this;return(0,d.A)(function*(){return Nu(kl(),A._delegate,"operation-not-supported-in-this-environment"),as(A._delegate,function wc(y,h,g){return Sc.apply(this,arguments)}(A._delegate,g,Fl))})()}signInWithRedirect(g){var A=this;return(0,d.A)(function*(){return Nu(kl(),A._delegate,"operation-not-supported-in-this-environment"),yield Vd(A._delegate),Td(A._delegate,g,Fl)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function yl(y,h){return Oa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=xs,y})();function cf(y,h,g){let A=y;"function"!=typeof y&&({next:A,error:h,complete:g}=y);const H=A;return{next:Ze=>H(Ze&&ou.getOrCreate(Ze)),error:h,complete:g}}function ls(y,h){const g=function uf(y,h){const g=tn();if(!g)return[];const A=It(Ld,y,h);switch(g.getItem(A)){case xs.NONE:return[xr];case xs.LOCAL:return[Yl,vs];case xs.SESSION:return[vs];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(Yl)&&g.push(Yl),typeof window<"u")for(const A of[Kl,vs])g.includes(A)||g.push(A);return g.includes(xr)||g.push(xr),g}class Ua{constructor(){this.providerId="phone",this._delegate=new Iu(Wc(f.A.auth()))}static credential(h,g){return Iu.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Ua.PHONE_SIGN_IN_METHOD=Iu.PHONE_SIGN_IN_METHOD,Ua.PROVIDER_ID=Iu.PROVIDER_ID;const $d=Me;class Ba{constructor(h,g,A=f.A.app()){var H;$d(null===(H=A.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new hr(A.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bm(y){y.INTERNAL.registerComponent(new Ce.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),A=h.getProvider("auth");return new Bd(g,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wo,FacebookAuthProvider:va,GithubAuthProvider:zo,GoogleAuthProvider:Ni,OAuthProvider:So,SAMLAuthProvider:gs,PhoneAuthProvider:Ua,PhoneMultiFactorGenerator:qh,RecaptchaVerifier:Ba,TwitterAuthProvider:Rr,Auth:Bd,AuthCredential:Xr,Error:J.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.13")}(f.A)},6749:(gn,mt,P)=>{"use strict";P.d(mt,{MR:()=>Ee,P2:()=>ct});var d=P(467);const f=(qe,Se)=>Se.some(Me=>qe instanceof Me);let Y,J;const Ce=new WeakMap,xe=new WeakMap,He=new WeakMap,ye=new WeakMap,me=new WeakMap;let Ge={get(qe,Se,Me){if(qe instanceof IDBTransaction){if("done"===Se)return xe.get(qe);if("objectStoreNames"===Se)return qe.objectStoreNames||He.get(qe);if("store"===Se)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return tt(qe[Se])},set:(qe,Se,Me)=>(qe[Se]=Me,!0),has:(qe,Se)=>qe instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in qe};function ft(qe){return"function"==typeof qe?function _t(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...Se){return qe.apply(pt(this),Se),tt(Ce.get(this))}:function(...Se){return tt(qe.apply(pt(this),Se))}:function(Se,...Me){const kt=qe.call(pt(this),Se,...Me);return He.set(kt,Se.sort?Se.sort():[Se]),tt(kt)}}(qe):(qe instanceof IDBTransaction&&function Ke(qe){if(xe.has(qe))return;const Se=new Promise((Me,kt)=>{const Vt=()=>{qe.removeEventListener("complete",hn),qe.removeEventListener("error",qt),qe.removeEventListener("abort",qt)},hn=()=>{Me(),Vt()},qt=()=>{kt(qe.error||new DOMException("AbortError","AbortError")),Vt()};qe.addEventListener("complete",hn),qe.addEventListener("error",qt),qe.addEventListener("abort",qt)});xe.set(qe,Se)}(qe),f(qe,function le(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,Ge):qe)}function tt(qe){if(qe instanceof IDBRequest)return function ze(qe){const Se=new Promise((Me,kt)=>{const Vt=()=>{qe.removeEventListener("success",hn),qe.removeEventListener("error",qt)},hn=()=>{Me(tt(qe.result)),Vt()},qt=()=>{kt(qe.error),Vt()};qe.addEventListener("success",hn),qe.addEventListener("error",qt)});return Se.then(Me=>{Me instanceof IDBCursor&&Ce.set(Me,qe)}).catch(()=>{}),me.set(Se,qe),Se}(qe);if(ye.has(qe))return ye.get(qe);const Se=ft(qe);return Se!==qe&&(ye.set(qe,Se),me.set(Se,qe)),Se}const pt=qe=>me.get(qe);function ct(qe,Se,{blocked:Me,upgrade:kt,blocking:Vt,terminated:hn}={}){const qt=indexedDB.open(qe,Se),sn=tt(qt);return kt&&qt.addEventListener("upgradeneeded",dt=>{kt(tt(qt.result),dt.oldVersion,dt.newVersion,tt(qt.transaction),dt)}),Me&&qt.addEventListener("blocked",dt=>Me(dt.oldVersion,dt.newVersion,dt)),sn.then(dt=>{hn&&dt.addEventListener("close",()=>hn()),Vt&&dt.addEventListener("versionchange",be=>Vt(be.oldVersion,be.newVersion,be))}).catch(()=>{}),sn}function Ee(qe,{blocked:Se}={}){const Me=indexedDB.deleteDatabase(qe);return Se&&Me.addEventListener("blocked",kt=>Se(kt.oldVersion,kt)),tt(Me).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],nt=new Map;function Je(qe,Se){if(!(qe instanceof IDBDatabase)||Se in qe||"string"!=typeof Se)return;if(nt.get(Se))return nt.get(Se);const Me=Se.replace(/FromIndex$/,""),kt=Se!==Me,Vt=Ve.includes(Me);if(!(Me in(kt?IDBIndex:IDBObjectStore).prototype)||!Vt&&!Ne.includes(Me))return;const hn=function(){var qt=(0,d.A)(function*(sn,...dt){const be=this.transaction(sn,Vt?"readwrite":"readonly");let Z=be.store;return kt&&(Z=Z.index(dt.shift())),(yield Promise.all([Z[Me](...dt),Vt&&be.done]))[0]});return function(dt){return qt.apply(this,arguments)}}();return nt.set(Se,hn),hn}!function st(qe){Ge=qe(Ge)}(qe=>({...qe,get:(Se,Me,kt)=>Je(Se,Me)||qe.get(Se,Me,kt),has:(Se,Me)=>!!Je(Se,Me)||qe.has(Se,Me)}))},467:(gn,mt,P)=>{"use strict";function d(Y,J,le,ce,Ce,xe,He){try{var ye=Y[xe](He),me=ye.value}catch(ze){return void le(ze)}ye.done?J(me):Promise.resolve(me).then(ce,Ce)}function f(Y){return function(){var J=this,le=arguments;return new Promise(function(ce,Ce){var xe=Y.apply(J,le);function He(me){d(xe,ce,Ce,He,ye,"next",me)}function ye(me){d(xe,ce,Ce,He,ye,"throw",me)}He(void 0)})}}P.d(mt,{A:()=>f})},9842:(gn,mt,P)=>{"use strict";function d(le){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(le)}function J(le,ce,Ce){return(ce=function Y(le){var ce=function f(le,ce){if("object"!=d(le)||!le)return le;var Ce=le[Symbol.toPrimitive];if(void 0!==Ce){var xe=Ce.call(le,ce||"default");if("object"!=d(xe))return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ce?String:Number)(le)}(le,"string");return"symbol"==d(ce)?ce:ce+""}(ce))in le?Object.defineProperty(le,ce,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):le[ce]=Ce,le}P.d(mt,{A:()=>J})},1635:(gn,mt,P)=>{"use strict";P.d(mt,{AQ:()=>Ne,C6:()=>f,Cg:()=>le,N3:()=>Ee,Tt:()=>J,sH:()=>ze,xN:()=>nt});var d=function(Z,ee){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,Te){ae.__proto__=Te}||function(ae,Te){for(var ut in Te)Object.prototype.hasOwnProperty.call(Te,ut)&&(ae[ut]=Te[ut])})(Z,ee)};function f(Z,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function ae(){this.constructor=Z}d(Z,ee),Z.prototype=null===ee?Object.create(ee):(ae.prototype=ee.prototype,new ae)}function J(Z,ee){var ae={};for(var Te in Z)Object.prototype.hasOwnProperty.call(Z,Te)&&ee.indexOf(Te)<0&&(ae[Te]=Z[Te]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Te=Object.getOwnPropertySymbols(Z);ut<Te.length;ut++)ee.indexOf(Te[ut])<0&&Object.prototype.propertyIsEnumerable.call(Z,Te[ut])&&(ae[Te[ut]]=Z[Te[ut]])}return ae}function le(Z,ee,ae,Te){var Qe,ut=arguments.length,Xe=ut<3?ee:null===Te?Te=Object.getOwnPropertyDescriptor(ee,ae):Te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(Z,ee,ae,Te);else for(var zt=Z.length-1;zt>=0;zt--)(Qe=Z[zt])&&(Xe=(ut<3?Qe(Xe):ut>3?Qe(ee,ae,Xe):Qe(ee,ae))||Xe);return ut>3&&Xe&&Object.defineProperty(ee,ae,Xe),Xe}function ze(Z,ee,ae,Te){return new(ae||(ae=Promise))(function(Xe,Qe){function zt(pn){try{Nt(Te.next(pn))}catch(Ct){Qe(Ct)}}function Rt(pn){try{Nt(Te.throw(pn))}catch(Ct){Qe(Ct)}}function Nt(pn){pn.done?Xe(pn.value):function ut(Xe){return Xe instanceof ae?Xe:new ae(function(Qe){Qe(Xe)})}(pn.value).then(zt,Rt)}Nt((Te=Te.apply(Z,ee||[])).next())})}function Ee(Z){return this instanceof Ee?(this.v=Z,this):new Ee(Z)}function Ne(Z,ee,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Te=ae.apply(Z,ee||[]),Xe=[];return ut=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),zt("next"),zt("throw"),zt("return",function Qe(Nn){return function(Gn){return Promise.resolve(Gn).then(Nn,Ct)}}),ut[Symbol.asyncIterator]=function(){return this},ut;function zt(Nn,Gn){Te[Nn]&&(ut[Nn]=function(Bt){return new Promise(function(rn,Xn){Xe.push([Nn,Bt,rn,Xn])>1||Rt(Nn,Bt)})},Gn&&(ut[Nn]=Gn(ut[Nn])))}function Rt(Nn,Gn){try{!function Nt(Nn){Nn.value instanceof Ee?Promise.resolve(Nn.value.v).then(pn,Ct):On(Xe[0][2],Nn)}(Te[Nn](Gn))}catch(Bt){On(Xe[0][3],Bt)}}function pn(Nn){Rt("next",Nn)}function Ct(Nn){Rt("throw",Nn)}function On(Nn,Gn){Nn(Gn),Xe.shift(),Xe.length&&Rt(Xe[0][0],Xe[0][1])}}function nt(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ee=Z[Symbol.asyncIterator];return ee?ee.call(Z):(Z=function _t(Z){var ee="function"==typeof Symbol&&Symbol.iterator,ae=ee&&Z[ee],Te=0;if(ae)return ae.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&Te>=Z.length&&(Z=void 0),{value:Z&&Z[Te++],done:!Z}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ae={},Te("next"),Te("throw"),Te("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Te(Xe){ae[Xe]=Z[Xe]&&function(Qe){return new Promise(function(zt,Rt){!function ut(Xe,Qe,zt,Rt){Promise.resolve(Rt).then(function(Nt){Xe({value:Nt,done:zt})},Qe)}(zt,Rt,(Qe=Z[Xe](Qe)).done,Qe.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},gn=>{gn(gn.s=1248)}]);